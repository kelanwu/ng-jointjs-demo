(self.webpackChunkng_jointjs_demo=self.webpackChunkng_jointjs_demo||[]).push([[656],{656:($r,jr,Ft)=>{"use strict";Ft.r(jr),Ft.d(jr,{DemosModule:()=>vf});var vr={};Ft.r(vr),Ft.d(vr,{ellipseWithEllipse:()=>ia,ellipseWithLine:()=>_s,exists:()=>ra,lineWithLine:()=>Cr,pathWithEllipse:()=>As,pathWithLine:()=>xi,pathWithPath:()=>Cs,pathWithPolygon:()=>pi,pathWithPolyline:()=>Us,pathWithRect:()=>ua,polygonWithEllipse:()=>Is,polygonWithLine:()=>si,polygonWithPolygon:()=>Zn,polygonWithPolyline:()=>Ys,polygonWithRect:()=>ns,polylineWithEllipse:()=>bi,polylineWithLine:()=>ii,polylineWithPolyline:()=>fr,polylineWithRect:()=>Wi,rectWithEllipse:()=>aa,rectWithLine:()=>sa,rectWithRect:()=>oa});var G={};Ft.r(G),Ft.d(G,{Curve:()=>De,Ellipse:()=>ye,Line:()=>tt,Path:()=>Yt,Point:()=>m,Polygon:()=>ir,Polyline:()=>$e,Rect:()=>Pt,bezier:()=>Ws,ellipse:()=>Me,intersection:()=>ai,line:()=>Et,normalizeAngle:()=>qn,point:()=>R,random:()=>ji,rect:()=>Rr,scale:()=>Oi,snapToGrid:()=>ei,toDeg:()=>sn,toRad:()=>ln,types:()=>ie});var mr={};Ft.r(mr),Ft.d(mr,{absolute:()=>Ct,bottom:()=>en,ellipse:()=>su,ellipseSpread:()=>da,fn:()=>dt,left:()=>fe,line:()=>_t,right:()=>Fe,top:()=>Sn});var se={};Ft.r(se),Ft.d(se,{bottom:()=>Qt,inside:()=>Je,insideOriented:()=>xe,left:()=>It,manual:()=>wt,outside:()=>oe,outsideOriented:()=>$t,radial:()=>Vt,radialOriented:()=>Tn,right:()=>zt,top:()=>jt});var St={};Ft.r(St),Ft.d(St,{Circle:()=>au,Ellipse:()=>ar,Generic:()=>Ze,Image:()=>ec,Path:()=>ou,Polygon:()=>zr,Polyline:()=>tc,Rect:()=>ql,Rhombus:()=>nc,Text:()=>$l,TextBlock:()=>uo,TextBlockView:()=>uu,TextView:()=>Xu});var Ve={};Ft.r(Ve),Ft.d(Ve,{BorderedImage:()=>ac,Circle:()=>lo,Cylinder:()=>E,DoubleLink:()=>uc,Ellipse:()=>Oo,EmbeddedImage:()=>oc,HeaderedRectangle:()=>co,Image:()=>sc,InscribedImage:()=>jo,Link:()=>Vu,Path:()=>_a,Polygon:()=>rc,Polyline:()=>ic,Rectangle:()=>Wa,ShadowLink:()=>lc,TextBlock:()=>ke});var Ci={};Ft.r(Ci),Ft.d(Ci,{Atomic:()=>cc,Coupled:()=>fc,Link:()=>hc,Model:()=>Ms});var Ir={};Ft.r(Ir),Ft.d(Ir,{And:()=>vc,Gate:()=>Bo,Gate11:()=>cu,Gate21:()=>pa,IO:()=>lu,Input:()=>Ss,Nand:()=>Ic,Nor:()=>mc,Not:()=>pc,Or:()=>Ts,Output:()=>gc,Repeater:()=>dc,Wire:()=>va,Xnor:()=>Cc,Xor:()=>Ac});var Ke={};Ft.r(Ke),Ft.d(Ke,{BishopBlack:()=>Sc,BishopWhite:()=>Mc,KingBlack:()=>wc,KingWhite:()=>yc,KnightBlack:()=>Ju,KnightWhite:()=>Hu,PawnBlack:()=>Dc,PawnWhite:()=>Tc,QueenBlack:()=>bc,QueenWhite:()=>Ki,RookBlack:()=>Nc,RookWhite:()=>xc});var Tr={};Ft.r(Tr),Ft.d(Tr,{Attribute:()=>Ua,Derived:()=>Ds,Entity:()=>Ro,ISA:()=>Li,IdentifyingRelationship:()=>Lc,Key:()=>fu,Line:()=>zc,Multivalued:()=>Pc,Normal:()=>ma,Relationship:()=>ho,WeakEntity:()=>fo});var yn={};Ft.r(yn),Ft.d(yn,{Arrow:()=>qs,EndState:()=>go,StartState:()=>Qu,State:()=>Ku});var Fn={};Ft.r(Fn),Ft.d(Fn,{Arrow:()=>kc,Member:()=>qu});var Dr={};Ft.r(Dr),Ft.d(Dr,{Link:()=>xr,Place:()=>Wo,PlaceView:()=>Ec,Transition:()=>$u});var Gr={};Ft.r(Gr),Ft.d(Gr,{Abstract:()=>us,AbstractView:()=>hu,Aggregation:()=>gu,Association:()=>jc,Class:()=>po,ClassView:()=>_o,Composition:()=>Oc,EndState:()=>Zc,Generalization:()=>tl,Implementation:()=>Jr,Interface:()=>Yo,InterfaceView:()=>Ia,StartState:()=>du,State:()=>Gc,Transition:()=>vo});var Ce={};Ft.r(Ce),Ft.d(Ce,{basic:()=>St,chess:()=>Ke,devs:()=>Ci,erd:()=>Tr,fsa:()=>yn,logic:()=>Ir,org:()=>Fn,pn:()=>Dr,standard:()=>Ve,uml:()=>Gr});var Xt={};Ft.r(Xt),Ft.d(Xt,{manhattan:()=>Xa,metro:()=>Mu,normal:()=>Rc,oneSide:()=>Wc,orthogonal:()=>Au});var Bn={};Ft.r(Bn),Ft.d(Bn,{curve:()=>Va,jumpover:()=>ml,normal:()=>Il,rounded:()=>ci,smooth:()=>ls});var ve={};Ft.r(ve),Ft.d(ve,{addClass:()=>$c,mask:()=>Ml,opacity:()=>qc,stroke:()=>xl});var We={};Ft.r(We),Ft.d(We,{connectionClosest:()=>ue,connectionLength:()=>zs,connectionPerpendicular:()=>Qa,connectionRatio:()=>tf,resolveRef:()=>ya});var wn={};Ft.r(wn),Ft.d(wn,{anchor:()=>nf,bbox:()=>Dl,boundary:()=>sf,rectangle:()=>rf});var gn={};Ft.r(gn),Ft.d(gn,{bottom:()=>of,bottomLeft:()=>lf,bottomRight:()=>cf,center:()=>af,left:()=>uf,midSide:()=>hf,modelCenter:()=>zl,perpendicular:()=>ff,right:()=>No,top:()=>Bu,topLeft:()=>Ll,topRight:()=>Pl});var ti=Ft(895),C=Ft(944),Qe=Ft(66),Kt=Ft(489),pe=Ft(259);const{round:ds,floor:ps,PI:Xn}=Math,Oi={linear:function(t,e,n){return(n-t[0])/(t[1]-t[0])*(e[1]-e[0])+e[0]||0}},qn=function(t){return t%360+(t<0?360:0)},ei=function(t,e){return e*ds(t/e)},sn=function(t){return 180*t/Xn%360},ln=function(t,e){return(t=(e=e||!1)?t:t%360)*Xn/180},ji=function(t,e){if(void 0===e)e=void 0===t?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return ps(Math.random()*(e-t+1)+t)},{cos:Zr,sin:$n,atan2:tr}=Math,ni=function(t,e){var n=ln(t.y),r=ln(e.y),l=ln(e.x-t.x),h=$n(l)*Zr(r),d=Zr(n)*$n(r)-$n(n)*Zr(r)*Zr(l),p=sn(tr(h,d))-22.5;return p<0&&(p+=360),["NE","E","SE","S","SW","W","NW","N"][p=parseInt(p/45)]},jn=function(t,e){var n=t.x,r=t.y;return(n-=e.x)*n+(r-=e.y)*r},lr=function(t,e){return Math.sqrt(jn(t,e))},ie={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Gi,cos:Lr,sin:xn,sqrt:Ar,min:ri,max:Zi,atan2:Gs,round:cn,pow:qe,PI:M}=Math,m=function(t,e){if(!(this instanceof m))return new m(t,e);if("string"==typeof t){var n=t.split(-1===t.indexOf("@")?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=void 0===t?0:t,this.y=void 0===e?0:e};m.fromPolar=function(t,e,n){n=new m(n);var r=Gi(t*Lr(e)),s=Gi(t*xn(e)),u=qn(sn(e));return u<90?s=-s:u<180?(r=-r,s=-s):u<270&&(r=-r),new m(n.x+r,n.y+s)},m.random=function(t,e,n,r){return new m(ji(t,e),ji(n,r))},m.prototype={type:ie.Point,chooseClosest:function(t){var e=t.length;if(1===e)return new m(t[0]);for(var n=null,r=1/0,s=0;s<e;s++){var u=new m(t[s]),l=this.squaredDistance(u);l<r&&(n=u,r=l)}return n},adhereToRect:function(t){return t.containsPoint(this)||(this.x=ri(Zi(this.x,t.x),t.x+t.width),this.y=ri(Zi(this.y,t.y),t.y+t.height)),this},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return ni(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new m(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new m(this.x-(t||0),this.y-(e||0))},distance:function(t){return lr(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){return new m((1-e)*this.x+e*t.x,(1-e)*this.y+e*t.y)},magnitude:function(){return Ar(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return Gi(t.x-this.x)+Gi(t.y-this.y)},move:function(t,e){var n=ln(new m(t).theta(this));return this.offset(Lr(n)*e,-xn(n)*e)},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new m(t).move(this,this.distance(t))},rotate:function(t,e){if(0===e)return this;t=t||new m(0,0),e=ln(qn(-e));var n=Lr(e),r=xn(e),u=r*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=n*(this.x-t.x)-r*(this.y-t.y)+t.x,this.y=u,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=qe(10,t)}return this.x=cn(this.x*e)/e,this.y=cn(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new m(n)||new m(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=ei(this.x,t),this.y=ei(this.y,e||t),this},squaredDistance:function(t){return jn(this,t)},theta:function(t){t=new m(t);var r=Gs(-(t.y-this.y),t.x-this.x);return r<0&&(r=2*M+r),180*r/M},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new m(t)||new m(0,0);var e=this.x,n=this.y;return this.x=Ar((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=ln(t.theta(new m(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){return new m(0,0).angleBetween(this,t)}},m.prototype.translate=m.prototype.offset;const R=m,{max:K,min:yt}=Math,tt=function(t,e){return this instanceof tt?t instanceof tt?new tt(t.start,t.end):(this.start=new m(t),void(this.end=new m(e))):new tt(t,e)};tt.prototype={type:ie.Line,angle:function(){var t=new m(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=yt(this.start.x,this.end.x),e=yt(this.start.y,this.end.y),n=K(this.start.x,this.end.x),r=K(this.start.y,this.end.y);return new Pt(t,e,n-t,r-e)},bearing:function(){return ni(this.start,this.end)},clone:function(){return new tt(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new tt(this.start,t).vector()),n=yt(1,K(0,e/this.squaredLength()));return n!=n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(0!==e.cross(t,n))return!1;var r=this.length();return!(new tt(e,t).length()>r||new tt(t,n).length()>r)},divideAt:function(t){var e=this.pointAt(t);return[new tt(this.start,e),new tt(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new tt(this.start,e),new tt(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof tt&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new m(this.end.x-this.start.x,this.end.y-this.start.y),n=new m(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,s=new m(t.start.x-this.start.x,t.start.y-this.start.y),u=s.x*n.y-s.y*n.x,l=s.x*e.y-s.y*e.x;if(0===r||u*r<0||l*r<0)return null;if(r>0){if(u>r||l>r)return null}else if(u<r||l<r)return null;return[new m(this.start.x+u*e.x/r,this.start.y+u*e.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return lr(this.start,this.end)},midpoint:function(){return new m((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:r}=e,s=n.clone().rotate(r,270),u=r.clone().rotate(n,90);return n.move(u,t),r.move(s,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,r=!0;t<0&&(r=!1,t=-t);var s=this.length();return t>=s?r?n.clone():e.clone():this.pointAt((r?t:s-t)/s)},pointOffset:function(t){t=new m(t);var e=this.start,n=this.end;return((n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x))/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return jn(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAt(t),s=new tt(e,n);return s.translate(r.x-e.x,r.y-e.y),s},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAtLength(t),s=new tt(e,n);return s.translate(r.x-e.x,r.y-e.y),s},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new m(this.end.x-this.start.x,this.end.y-this.start.y)}},tt.prototype.intersection=tt.prototype.intersect;const Et=tt,{sqrt:ce,round:Oe,pow:_e}=Math,ye=function(t,e,n){return this instanceof ye?t instanceof ye?new ye(new m(t.x,t.y),t.a,t.b):(t=new m(t),this.x=t.x,this.y=t.y,this.a=e,void(this.b=n)):new ye(t,e,n)};ye.fromRect=function(t){return t=new Pt(t),new ye(t.center(),t.width/2,t.height/2)},ye.prototype={type:ie.Ellipse,bbox:function(){return new Pt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new m(this.x,this.y)},clone:function(){return new ye(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,r=t.end,s=this.a,u=this.b,l=t.vector(),h=n.difference(new m(this)),d=new m(l.x/(s*s),l.y/(u*u)),A=new m(h.x/(s*s),h.y/(u*u)),y=l.dot(d),p=l.dot(A),j=p*p-y*(h.dot(A)-1);if(j<0)return null;if(j>0){var B=ce(j),et=(-p-B)/y,rt=(-p+B)/y;if((et<0||1<et)&&(rt<0||1<rt))return null;0<=et&&et<=1&&e.push(n.lerp(r,et)),0<=rt&&rt<=1&&e.push(n.lerp(r,rt))}else{var ht=-p/y;if(!(0<=ht&&ht<=1))return null;e.push(n.lerp(r,ht))}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new m(t),e&&t.rotate(new m(this.x,this.y),e);var s,n=t.x-this.x,r=t.y-this.y;if(0===n)return s=this.bbox().pointNearestToPoint(t),e?s.rotate(new m(this.x,this.y),-e):s;var u=r/n,A=ce(1/(1/(this.a*this.a)+u*u/(this.b*this.b)));return s=new m(this.x+(A=n<0?-A:A),this.y+u*A),e?s.rotate(new m(this.x,this.y),-e):s},normalizedDistance:function(t){var e=t.x,n=t.y,r=this.a,s=this.b,u=this.x,l=this.y;return(e-u)*(e-u)/(r*r)+(n-l)*(n-l)/(s*s)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=_e(10,t)}return this.x=Oe(this.x*e)/e,this.y=Oe(this.y*e)/e,this.a=Oe(this.a*e)/e,this.b=Oe(this.b*e)/e,this},tangentTheta:function(t){var p,P,n=t.x,r=t.y,s=this.a,u=this.b,l=this.bbox().center(),h=l.x,d=l.y;return n>l.x+s/2||n<l.x-s/2?P=s*s/(n-h)-s*s*(r-d)*((p=n>l.x?r-30:r+30)-d)/(u*u*(n-h))+h:p=u*u/(r-d)-u*u*(n-h)*((P=r>l.y?n+30:n-30)-h)/(s*s*(r-d))+d,new m(P,p).theta(t)},toString:function(){return new m(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Me=ye,{abs:Ln,cos:er,sin:Bi,min:He,max:Nn,round:In,pow:Br}=Math,Pt=function(t,e,n,r){if(!(this instanceof Pt))return new Pt(t,e,n,r);Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.width=void 0===n?0:n,this.height=void 0===r?0:r};Pt.fromEllipse=function(t){return t=new ye(t),new Pt(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},Pt.fromPointUnion=function(...t){if(0===t.length)return null;const e=new m;let n,r,s,u;n=r=1/0,s=u=-1/0;for(let l=0;l<t.length;l++){e.update(t[l]);const h=e.x,d=e.y;h<n&&(n=h),h>s&&(s=h),d<r&&(r=d),d>u&&(u=d)}return new Pt(n,r,s-n,u-r)},Pt.fromRectUnion=function(...t){if(0===t.length)return null;const e=new Pt;let n,r,s,u;n=r=1/0,s=u=-1/0;for(let l=0;l<t.length;l++){e.update(t[l]);const h=e.x,d=e.y,A=h+e.width,y=d+e.height;h<n&&(n=h),A>s&&(s=A),d<r&&(r=d),y>u&&(u=y)}return new Pt(n,r,s-n,u-r)},Pt.prototype={type:ie.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,r=ln(t),s=Ln(Bi(r)),u=Ln(er(r)),l=e*u+n*s,h=e*s+n*u;return this.x+=(e-l)/2,this.y+=(n-h)/2,this.width=l,this.height=h,this},bottomLeft:function(){return new m(this.x,this.y+this.height)},bottomLine:function(){return new tt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new m(this.x+this.width/2,this.y+this.height)},center:function(){return new m(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Pt(this)},containsPoint:function(t){return(t=new m(t)).x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new Pt(this).normalize(),n=new Pt(t).normalize(),r=e.width,s=e.height,u=n.width,l=n.height;if(!(r&&s&&u&&l))return!1;var h=e.x,d=e.y,A=n.x,y=n.y;return u+=A,r+=h,l+=y,s+=d,h<=A&&u<=r&&d<=y&&l<=s},corner:function(){return new m(this.x+this.width,this.y+this.height)},equals:function(t){var e=new Pt(this).normalize(),n=new Pt(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),r=t.origin(),s=t.corner();if(s.x<=e.x||s.y<=e.y||r.x>=n.x||r.y>=n.y)return null;var u=Nn(e.x,r.x),l=Nn(e.y,r.y);return new Pt(u,l,He(n.x,s.x)-u,He(n.y,s.y)-l)},intersectionWithLine:function(t){var u,l,e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],r=[],s=[],h=n.length;for(l=0;l<h;l++)null!==(u=t.intersect(n[l]))&&s.indexOf(u.toString())<0&&(r.push(u),s.push(u.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new m(t);var r,n=new m(this.x+this.width/2,this.y+this.height/2);e&&t.rotate(n,e);for(var s=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],u=new tt(n,t),l=s.length-1;l>=0;--l){var h=s[l].intersection(u);if(null!==h){r=h;break}}return r&&e&&r.rotate(n,-e),r},leftLine:function(){return new tt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new m(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new Pt(t),e||(e=t.center());var n,r,s,u,l,h,d,A,y=e.x,p=e.y;n=r=s=u=l=h=d=A=1/0;var P=t.topLeft();P.x<y&&(n=(this.x-y)/(P.x-y)),P.y<p&&(l=(this.y-p)/(P.y-p));var j=t.bottomRight();j.x>y&&(r=(this.x+this.width-y)/(j.x-y)),j.y>p&&(h=(this.y+this.height-p)/(j.y-p));var B=t.topRight();B.x>y&&(s=(this.x+this.width-y)/(B.x-y)),B.y<p&&(d=(this.y-p)/(B.y-p));var et=t.bottomLeft();return et.x<y&&(u=(this.x-y)/(et.x-y)),et.y>p&&(A=(this.y+this.height-p)/(et.y-p)),{sx:He(n,r,s,u),sy:He(l,h,d,A)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return He(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this},offset:function(t,e){return m.prototype.offset.call(this,t,e)},origin:function(){return new m(this.x,this.y)},pointNearestToPoint:function(t){if(t=new m(t),this.containsPoint(t))switch(this.sideNearestToPoint(t)){case"right":return new m(this.x+this.width,t.y);case"left":return new m(this.x,t.y);case"bottom":return new m(t.x,this.y+this.height);case"top":return new m(t.x,this.y)}return t.adhereToRect(this)},rightLine:function(){return new tt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new m(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=Br(10,t)}return this.x=In(this.x*e)/e,this.y=In(this.y*e)/e,this.width=In(this.width*e)/e,this.height=In(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new m(t);var n=this.x+this.width-t.x,r=t.y-this.y,u=t.x-this.x,l="left";return n<u&&(u=n,l="right"),r<u&&(u=r,l="top"),this.y+this.height-t.y<u&&(l="bottom"),l},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),r=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new tt(this.topLeft(),this.topRight())},topMiddle:function(){return new m(this.x+this.width/2,this.y)},topRight:function(){return new m(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return Pt.fromRectUnion(this,t)},update:function(t,e,n,r){return Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this}},Pt.prototype.bottomRight=Pt.prototype.corner,Pt.prototype.topLeft=Pt.prototype.origin,Pt.prototype.translate=Pt.prototype.offset;const Rr=Pt;function Gn(t){if(""===(t=t.trim()))return[];const e=[],n=t.split(/\s*,\s*|\s+/),r=n.length;for(let s=0;s<r;s+=2)e.push({x:+n[s],y:+n[s+1]});return e}function Pn(t){const e=t.length;if(0===e)return[];const n=[];for(let r=0;r<e;r++){const s=t[r].clone();n.push(s)}return n}function es(t){const{abs:e}=Math;var n,r,u,s=t.length;if(0===s)return[];for(n=0;n<s;n++)(void 0===u||t[n].y<u.y||t[n].y===u.y&&t[n].x>u.x)&&(u=t[n]);var l=[];for(n=0;n<s;n++){var h=u.theta(t[n]);0===h&&(h=360),l.push([t[n],n,h])}l.sort(function(Lt,kt){var Gt=Lt[2]-kt[2];return 0===Gt&&(Gt=kt[1]-Lt[1]),Gt}),l.length>2&&l.unshift(l[l.length-1]);for(var P,j,B,et,rt,ht,y={},p=[];0!==l.length;)if(j=(P=l.pop())[0],!y.hasOwnProperty(P[0]+"@@"+P[1]))for(var ft=!1;!ft;)if(p.length<2)p.push(P),ft=!0;else{et=(B=p.pop())[0];var w=(ht=(rt=p.pop())[0]).cross(et,j);if(w<0)p.push(rt),p.push(B),p.push(P),ft=!0;else if(0===w){var L=et.angleBetween(ht,j);e(L-180)<1e-10||et.equals(j)||ht.equals(et)?(y[B[0]+"@@"+B[1]]=et,p.push(rt)):e((L+1)%360-1)<1e-10&&(p.push(rt),l.push(B))}else y[B[0]+"@@"+B[1]]=et,p.push(rt)}p.length>2&&p.pop();var Z,X=-1;for(r=p.length,n=0;n<r;n++){var at=p[n][1];(void 0===Z||at<Z)&&(Z=at,X=n)}var ut=[];if(X>0){var vt=p.slice(X),Dt=p.slice(0,X);ut=vt.concat(Dt)}else ut=p;var Mt=[];for(r=ut.length,n=0;n<r;n++)Mt.push(ut[n][0]);return Mt}const $e=function(t){return this instanceof $e?"string"==typeof t?new $e.parse(t):void(this.points=Array.isArray(t)?t.map(m):[]):new $e(t)};$e.parse=function(t){return new $e(Gn(t))},$e.fromRect=function(t){return new $e([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])},$e.prototype={type:ie.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,s=this.points,u=s.length;if(0===u)return null;for(var l=0;l<u;l++){var h=s[l],d=h.x,A=h.y;d<t&&(t=d),d>e&&(e=d),A<n&&(n=A),A>r&&(r=A)}return new Pt(t,n,e-t,r-n)},clone:function(){return new $e(Pn(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(0===n||1===n)return 0;for(var r,s=1/0,u=0,l=n-1,h=0;h<l;h++){var d=new tt(e[h],e[h+1]),A=d.length(),y=d.closestPointNormalizedLength(t),P=d.pointAt(y).squaredDistance(t);P<s&&(s=P,r=u+y*A),u+=A}return r},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(0===e)return 0;var n=this.length();return 0===n?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(0===n)return!1;for(var r=t.x,s=t.y,u=n-1,l=0,h=0,d=new tt,A=new tt,y=new m;l<n;l++){var p=e[u],P=e[l];if(t.equals(p)||(d.start=p,d.end=P,d.containsPoint(t)))return!0;if(s<=p.y&&s>P.y||s>p.y&&s<=P.y){var j=p.x-r>P.x-r?p.x-r:P.x-r;j>=0&&(y.x=r+j,y.y=s,A.start=t,A.end=y,d.intersect(A)&&h++)}u=l}return h%2==1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new $e(es(this.points))},equals:function(t){if(!t)return!1;var e=this.points,r=e.length;if(t.points.length!==r)return!1;for(var s=0;s<r;s++)if(!e[s].equals(t.points[s]))return!1;return!0},intersectionWithLine:function(t){for(var e=new tt(t),n=[],r=this.lengthPoints(),s=new tt,u=0,l=r.length-1;u<l;u++){s.start=r[u],s.end=r[u+1];var h=e.intersectionWithLine(s);h&&n.push(h[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(0===e)return!1;for(var n=new tt,r=e-1,s=0;s<r;s++)if(n.start=t[s],n.end=t[s+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(0===e)return 0;for(var n=0,r=e-1,s=0;s<r;s++)n+=t[s].distance(t[s+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(0===n)return null;if(1===n||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var r=this.length();return this.pointAtLength(r*t)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(0===n)return null;if(1===n)return e[0].clone();var r=!0;t<0&&(r=!1,t=-t);for(var s=0,u=n-1,l=0;l<u;l++){var h=r?l:u-1-l,d=e[h],A=e[h+1],y=new tt(d,A),p=d.distance(A);if(t<=s+p)return y.pointAtLength((r?1:-1)*(t-s));s+=p}return(r?e[n-1]:e[0]).clone()},round:function(t){for(var e=this.points,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.points,s=r.length,u=0;u<s;u++)r[u].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const u=r+1,d=e[u];new tt(e[r],e[r+2]).closestPoint(d).distance(d)<=n?e.splice(u,1):r+=1}return this},tangentAt:function(t){var n=this.lengthPoints().length;if(0===n||1===n)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length();return this.tangentAtLength(r*t)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(0===n||1===n)return null;var r=!0;t<0&&(r=!1,t=-t);for(var s,u=0,l=n-1,h=0;h<l;h++){var d=r?h:l-1-h,A=e[d],y=e[d+1],p=new tt(A,y),P=A.distance(y);if(p.isDifferentiable()){if(t<=u+P)return p.tangentAtLength((r?1:-1)*(t-u));s=p}u+=P}return s?s.tangentAt(r?1:0):null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,r=n.length,s=0;s<r;s++)n[s].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(0===e)return"";for(var n="",r=0;r<e;r++){var s=t[r];n+=s.x+","+s.y+" "}return n.trim()}},Object.defineProperty($e.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty($e.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points.length;return 0===e?null:this.points[e-1]}});const{abs:fi,sqrt:Zs,min:yi,max:wi,pow:Ri}=Math,De=function(t,e,n,r){return this instanceof De?t instanceof De?new De(t.start,t.controlPoint1,t.controlPoint2,t.end):(this.start=new m(t),this.controlPoint1=new m(e),this.controlPoint2=new m(n),void(this.end=new m(r))):new De(t,e,n,r)};function hi(t){var e,n,r=[];for(n=arguments.length,e=1;e<n;e++)r.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var s=Object.create(t);for(n=r.length,e=0;e<n;e++){var l,h,u=r[e];for(h in u)u.hasOwnProperty(h)&&(delete s[h],l=Object.getOwnPropertyDescriptor(u,h),Object.defineProperty(s,h,l))}return s}De.throughPoints=function(){function e(n){var r=n.length,s=[],u=[],l=2;s[0]=n[0]/l;for(var h=1;h<r;h++)u[h]=1/l,s[h]=(n[h]-s[h-1])/(l=(h<r-1?4:3.5)-u[h]);for(h=1;h<r;h++)s[r-h-1]-=u[r-h]*s[r-h];return s}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function t(n){var l,r=[],s=[],u=n.length-1;if(1==u)return r[0]=new m((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),s[0]=new m(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,s];var h=[];for(l=1;l<u-1;l++)h[l]=4*n[l].x+2*n[l+1].x;h[0]=n[0].x+2*n[1].x,h[u-1]=(8*n[u-1].x+n[u].x)/2;var d=e(h);for(l=1;l<u-1;++l)h[l]=4*n[l].y+2*n[l+1].y;h[0]=n[0].y+2*n[1].y,h[u-1]=(8*n[u-1].y+n[u].y)/2;var A=e(h);for(l=0;l<u;l++)r.push(new m(d[l],A[l])),s.push(l<u-1?new m(2*n[l+1].x-d[l+1],2*n[l+1].y-A[l+1]):new m((n[u].x+d[u-1])/2,(n[u].y+A[u-1])/2));return[r,s]}(n),s=[],u=r[0].length,l=0;l<u;l++){var h=new m(r[0][l].x,r[0][l].y),d=new m(r[1][l].x,r[1][l].y);s.push(new De(n[l],h,d,n[l+1]))}return s}}(),De.prototype={type:ie.Curve,bbox:function(){for(var et,rt,ht,ft,w,T,L,Z,t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,s=t.x,u=t.y,l=e.x,h=e.y,d=n.x,A=n.y,y=r.x,p=r.y,P=new Array,j=new Array,B=[new Array,new Array],X=0;X<2;++X)if(0===X?(rt=6*s-12*l+6*d,et=-3*s+9*l-9*d+3*y,ht=3*l-3*s):(rt=6*u-12*h+6*A,et=-3*u+9*h-9*A+3*p,ht=3*h-3*u),fi(et)<1e-12){if(fi(rt)<1e-12)continue;0<(ft=-ht/rt)&&ft<1&&j.push(ft)}else Z=Zs(L=rt*rt-4*ht*et),!(L<0)&&(0<(w=(-rt+Z)/(2*et))&&w<1&&j.push(w),0<(T=(-rt-Z)/(2*et))&&T<1&&j.push(T));for(var vt,Dt,Mt,at=j.length,ut=at;at--;)B[0][at]=Dt=(vt=1-(ft=j[at]))*vt*vt*s+3*vt*vt*ft*l+3*vt*ft*ft*d+ft*ft*ft*y,B[1][at]=Mt=vt*vt*vt*u+3*vt*vt*ft*h+3*vt*ft*ft*A+ft*ft*ft*p,P[at]={X:Dt,Y:Mt};j[ut]=0,j[ut+1]=1,P[ut]={X:s,Y:u},P[ut+1]={X:y,Y:p},B[0][ut]=s,B[1][ut]=u,B[0][ut+1]=y,B[1][ut+1]=p,j.length=ut+2,B[0].length=ut+2,B[1].length=ut+2,P.length=ut+2;var Lt=yi.apply(null,B[0]),kt=yi.apply(null,B[1]),Gt=wi.apply(null,B[0]),Ht=wi.apply(null,B[1]);return new Pt(Lt,kt,Gt-Lt,Ht-kt)},clone:function(){return new De(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions};return this.lengthAtT(this.closestPointT(t,s),s)},closestPointNormalizedLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions},u=this.closestPointLength(t,s);if(!u)return 0;var l=this.length(s);return 0===l?0:u/l},closestPointT:function(t,e){for(var s,u,l,h,d,A,y,n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,r=void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions,p=r.length,P=p?1/p:0,j=0;j<p;j++){var B=r[j],et=B.start.distance(t),rt=B.end.distance(t),ht=et+rt;(!y||ht<y)&&(s=B,u=j*P,l=(j+1)*P,h=et,d=rt,A=B.start.distance(B.end),y=ht)}for(var ft=Ri(10,-n);;){var w=h?fi(h-d)/h:0,T=d?fi(h-d)/d:0;if(w<ft||T<ft||!h||h<A*ft||!d||d<A*ft)return h<=d?u:l;var ut=s.divide(.5);P/=2;var vt=ut[0].start.distance(t),Dt=ut[0].end.distance(t),Mt=vt+Dt,Lt=ut[1].start.distance(t),kt=ut[1].end.distance(t);Mt<=Lt+kt?(s=ut[0],l-=P,h=vt,d=Dt):(s=ut[1],u+=P,h=Lt,d=kt)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){return this.toPolyline(e).containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return[new De(e,e,e,e),new De(e,n,r,s)];if(t>=1)return[new De(e,n,r,s),new De(s,s,s,s)];var u=this.getSkeletonPoints(t),d=u.divider,A=u.dividerControlPoint1,y=u.dividerControlPoint2;return[new De(e,u.startControlPoint1,u.startControlPoint2,d),new De(d,A,y,s)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};var u=new tt(e,n).pointAt(t),l=new tt(n,r).pointAt(t),h=new tt(r,s).pointAt(t),d=new tt(u,l).pointAt(t),A=new tt(l,h).pointAt(t);return{startControlPoint1:u,startControlPoint2:d,divider:new tt(d,A).pointAt(t),dividerControlPoint1:A,dividerControlPoint2:h}},getSubdivisions:function(t){var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,n=[new De(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===e)return n;for(var r=this.endpointDistance(),s=Ri(10,-e),u=0;;){u+=1;for(var l=[],h=n.length,d=0;d<h;d++){var y=n[d].divide(.5);l.push(y[0],y[1])}for(var p=0,P=l.length,j=0;j<P;j++)p+=l[j].endpointDistance();if(u>1&&(0!==p?(p-r)/p:0)<s)return l;n=l,r=p}},isDifferentiable:function(){var e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(e)&&e.equals(n)&&n.equals(r))},length:function(t){for(var n=void 0===(t=t||{}).subdivisions?this.getSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.subdivisions,r=0,s=n.length,u=0;u<s;u++)r+=n[u].endpointDistance();return r},lengthAtT:function(t,e){if(t<=0)return 0;var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,s=e.divider,u=new tt(n,e.dividerControlPoint1);return u.translate(s.x-n.x,s.y-n.y),u},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions},u=this.length(s);return this.tAtLength(u*t,s)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t);for(var l,h,d,A,y,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.subdivisions?this.getSubdivisions({precision:r}):e.subdivisions,u={precision:r,subdivisions:s},p=0,P=s.length,j=1/P,B=0;B<P;B++){var et=n?B:P-1-B,rt=s[B],ht=rt.endpointDistance();if(t<=p+ht){l=rt,h=et*j,d=(et+1)*j,A=n?t-p:ht+p-t,y=n?ht+p-t:t-p;break}p+=ht}if(!l)return n?1:0;for(var ft=this.length(u),w=Ri(10,-r);;){if((0!==ft?A/ft:0)<w)return h;if((0!==ft?y/ft:0)<w)return d;var L,Z,X=l.divide(.5);j/=2;var at=X[0].endpointDistance(),ut=X[1].endpointDistance();A<=at?(l=X[0],d-=j,Z=at-(L=A)):(l=X[1],h+=j,Z=ut-(L=A-at)),A=L,y=Z}},toPoints:function(t){for(var n=void 0===(t=t||{}).subdivisions?this.getSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.subdivisions,r=[n[0].start.clone()],s=n.length,u=0;u<s;u++)r.push(n[u].end.clone());return r},toPolyline:function(t){return new $e(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}},De.prototype.divide=De.prototype.divideAtT;const Yt=function(t){if(!(this instanceof Yt))return new Yt(t);if("string"==typeof t)return new Yt.parse(t);var e,n;if(this.segments=[],t)if(Array.isArray(t)&&0!==t.length)if(n=(t=t.reduce(function(h,d){return h.concat(d)},[])).length,t[0].isSegment)for(e=0;e<n;e++)this.appendSegment(t[e]);else{var s=null;for(e=0;e<n;e++){var u=t[e];if(!(u instanceof tt||u instanceof De))throw new Error("Cannot construct a path segment from the provided object.");0===e&&this.appendSegment(Yt.createSegment("M",u.start)),s&&!s.end.equals(u.start)&&this.appendSegment(Yt.createSegment("M",u.start)),u instanceof tt?this.appendSegment(Yt.createSegment("L",u.end)):u instanceof De&&this.appendSegment(Yt.createSegment("C",u.controlPoint1,u.controlPoint2,u.end)),s=u}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof tt)this.appendSegment(Yt.createSegment("M",t.start)),this.appendSegment(Yt.createSegment("L",t.end));else if(t instanceof De)this.appendSegment(Yt.createSegment("M",t.start)),this.appendSegment(Yt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else{if(!(t instanceof $e))throw new Error("Cannot construct a path from the provided object.");if(!t.points||0===t.points.length)return;for(n=t.points.length,e=0;e<n;e++){this.appendSegment(Yt.createSegment(0===e?"M":"L",t.points[e]))}}};function cr(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}Yt.parse=function(t){if(!t)return new Yt;for(var e=new Yt,r=t.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),s=r.length,u=0;u<s;u++){var d=r[u].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),A=Yt.createSegment.apply(this,d);e.appendSegment(A)}return e},Yt.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=Yt.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,s=1;s<r;s++)n.push(arguments[s]);return cr(e,n)},Yt.prototype={type:ie.Path,appendSegment:function(t){var r,e=this.segments,n=e.length,s=0!==n?e[n-1]:null;if(Array.isArray(t)){if(!(t=t.reduce(function(A,y){return A.concat(y)},[]))[0].isSegment)throw new Error("Segments required.");for(var l=t.length,h=0;h<l;h++)r=this.prepareSegment(t[h],s,null),e.push(r),s=r}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,s,null),e.push(r)}},bbox:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n,r=0;r<e;r++){var s=t[r];if(s.isVisible){var u=s.bbox();n=n?n.union(u):u}}if(n)return n;var l=t[e-1];return new Pt(l.end.x,l.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new Yt,r=0;r<e;r++){var s=t[r].clone();n.appendSegment(s)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},u=this.closestPointT(t,s);return u?this.lengthAtT(u,s):0},closestPointNormalizedLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},u=this.closestPointLength(t,s);if(0===u)return 0;var l=this.length(s);return 0===l?0:u/l},closestPointT:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;for(var l,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,u=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,h=1/0,d=0;d<r;d++){var A=n[d];if(A.isVisible){var p=A.closestPointT(t,{precision:s,subdivisions:u[d]}),P=A.pointAtT(p),j=new tt(P,t).squaredLength();j<h&&(l={segmentIndex:d,value:p},h=j)}}return l||{segmentIndex:r-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;for(var l,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,u=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,h=1/0,d=0;d<r;d++){var A=n[d],y=u[d];if(A.isDifferentiable()){var p=A.closestPointT(t,{precision:s,subdivisions:y}),P=A.pointAtT(p),j=new tt(P,t).squaredLength();j<h&&(l=A.tangentAtT(p),h=j)}}return l||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var r=n.length,s=0,u=0;u<r;u++)n[u].containsPoint(t)&&s++;return s%2==1},divideAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},h=this.length(l);return this.divideAtLength(h*t,l)},divideAtLength:function(t,e){var n=this.segments.length;if(0===n)return null;var r=!0;t<0&&(r=!1,t=-t);var l,h,A,y,p,P,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,u=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,d=0;for(l=0;l<n;l++){var B=r?l:n-1-l;h=this.getSegment(B);var et=u[B],rt=h.length({precision:s,subdivisions:et});if(h.isDifferentiable()&&(p=h,P=B,t<=d+rt)){y=B,A=h.divideAtLength((r?1:-1)*(t-d),{precision:s,subdivisions:et});break}d+=rt}if(!p)return null;A||(y=P,A=p.divideAtT(r?1:0));var ht=this.clone();ht.replaceSegment(y,A);var ft=y,w=y+1,T=y+2;A[0].isDifferentiable()||(ht.removeSegment(ft),w-=1,T-=1);var L=ht.getSegment(w).start;ht.insertSegment(w,Yt.createSegment("M",L)),T+=1,A[1].isDifferentiable()||(ht.removeSegment(T-1),T-=1);var Z=T-ft-1;for(l=T;l<ht.segments.length;l++){var X=this.getSegment(l-Z);if("Z"===(h=ht.getSegment(l)).type&&!X.subpathStartSegment.end.equals(h.subpathStartSegment.end)){var at=Yt.createSegment("L",X.end);ht.replaceSegment(l,at)}}return[new Yt(ht.segments.slice(0,w)),new Yt(ht.segments.slice(w))]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var u=e[s],l=n[s];if(u.type!==l.type||!u.equals(l))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(0===n)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){for(var e=this.segments,n=e.length,r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=[],u=0;u<n;u++){var h=e[u].getSubdivisions({precision:r});s.push(h)}return s},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,r=[];for(let s=0;s<n;s++){const u=e[s];u.isSubpathStart?r.push(new Yt(u)):r[r.length-1].appendSegment(u)}return r},insertSegment:function(t,e){var n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var s,u=null,l=null;if(0!==r&&(l=t>=1?(u=n[t-1]).nextSegment:n[0]),Array.isArray(e)){if(!(e=e.reduce(function(y,p){return y.concat(p)},[]))[0].isSegment)throw new Error("Segments required.");for(var h=e.length,d=0;d<h;d++)s=this.prepareSegment(e[d],u,l),n.splice(t+d,0,s),u=s}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,u,l),n.splice(t,0,s)}},intersectionWithLine:function(t,e){var n=null,r=this.toPolylines(e);if(!r)return null;for(var s=0,u=r.length;s<u;s++){var h=t.intersect(r[s]);h&&(n||(n=[]),Array.isArray(h)?Array.prototype.push.apply(n,h):n.push(h))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++)if(t[n].isDifferentiable())return!0;return!1},isValid:function(){var t=this.segments;return 0===t.length||"M"===t[0].type},length:function(t){var e=this.segments,n=e.length;if(0===n)return 0;for(var s=void 0===(t=t||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.segmentSubdivisions,u=0,l=0;l<n;l++)u+=e[l].length({subdivisions:s[l]});return u},lengthAtT:function(t,e){var n=this.segments,r=n.length;if(0===r)return 0;var s=t.segmentIndex;if(s<0)return 0;var u=t.value;s>=r?(s=r-1,u=1):u<0?u=0:u>1&&(u=1);for(var l=void 0===(e=e||{}).precision?this.PRECISION:e.precision,h=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:l}):e.segmentSubdivisions,A=0,y=0;y<s;y++){var p=n[y];A+=p.length({precisison:l,subdivisions:h[y]})}return A+(p=n[s]).lengthAtT(u,{precisison:l,subdivisions:h[s]})},pointAt:function(t,e){if(0===this.segments.length)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},h=this.length(l);return this.pointAtLength(h*t,l)},pointAtLength:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;if(0===t)return this.start.clone();var s=!0;t<0&&(s=!1,t=-t);for(var h,u=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:u}):e.segmentSubdivisions,d=0,A=0;A<r;A++){var y=s?A:r-1-A,p=n[y],P=l[y],j=p.length({precision:u,subdivisions:P});if(p.isVisible){if(t<=d+j)return p.pointAtLength((s?1:-1)*(t-d),{precision:u,subdivisions:P});h=p}d+=j}return h?s?h.end:h.start:n[r-1].end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(0===n)return null;var r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].pointAtT(s)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r&&this.updateSubpathStartSegment(r),t},removeSegment:function(t){var e=this.segments,n=e.length;if(0===n)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r=e.splice(t,1)[0],s=r.previousSegment,u=r.nextSegment;s&&(s.nextSegment=u),u&&(u.previousSegment=s),r.isSubpathStart&&u&&this.updateSubpathStartSegment(u)},replaceSegment:function(t,e){var n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var s,u=n[t],l=u.previousSegment,h=u.nextSegment,d=u.isSubpathStart;if(Array.isArray(e)){if(!(e=e.reduce(function(P,j){return P.concat(j)},[]))[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var A=e.length,y=0;y<A;y++)s=this.prepareSegment(e[y],l,h),n.splice(t+y,0,s),l=s,d&&s.isSubpathStart&&(d=!1)}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,l,h),n.splice(t,1,s),d&&s.isSubpathStart&&(d=!1)}d&&h&&this.updateSubpathStartSegment(h)},round:function(t){for(var e=this.segments,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.segments,s=r.length,u=0;u<s;u++)r[u].scale(t,e,n);return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},h=this.length(l);return this.segmentIndexAtLength(h*t,l)},segmentIndexAtLength:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;var s=!0;t<0&&(s=!1,t=-t);for(var u=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:u}):e.segmentSubdivisions,h=null,d=0,A=0;A<r;A++){var y=s?A:r-1-A,p=n[y],j=p.length({precision:u,subdivisions:l[y]});if(p.isVisible){if(t<=d+j)return y;h=y}d+=j}return h},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},h=this.length(l);return this.tangentAtLength(h*t,l)},tangentAtLength:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;var s=!0;t<0&&(s=!1,t=-t);for(var h,u=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:u}):e.segmentSubdivisions,d=0,A=0;A<r;A++){var y=s?A:r-1-A,p=n[y],P=l[y],j=p.length({precision:u,subdivisions:P});if(p.isDifferentiable()){if(t<=d+j)return p.tangentAtLength((s?1:-1)*(t-d),{precision:u,subdivisions:P});h=p}d+=j}return h?h.tangentAtT(s?1:0):null},tangentAtT:function(t){var e=this.segments,n=e.length;if(0===n)return null;var r=t.segmentIndex;if(r<0)return e[0].tangentAtT(0);if(r>=n)return e[n-1].tangentAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].tangentAtT(s)},toPoints:function(t){var e=this.segments,n=e.length;if(0===n)return null;for(var s=void 0===(t=t||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.segmentSubdivisions,u=[],l=[],h=0;h<n;h++){var d=e[h];if(d.isVisible){var A=s[h];if(A.length>0){var y=A.map(function(p){return p.start});Array.prototype.push.apply(l,y)}else l.push(d.start)}else l.length>0&&(l.push(e[h-1].end),u.push(l),l=[])}return l.length>0&&(l.push(this.end),u.push(l)),u},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var r=0,s=n.length;r<s;r++)e.push(new $e(n[r]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",r=0;r<e;r++)n+=t[r].serialize()+" ";return n.trim()},translate:function(t,e){for(var n=this.segments,r=n.length,s=0;s<r;s++)n[s].translate(t,e);return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)t.subpathStartSegment=e?e.subpathStartSegment:null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Yt.createSegment("M",0,0)),this}},Object.defineProperty(Yt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var r=t[n];if(r.isVisible)return r.start}return t[e-1].end}}),Object.defineProperty(Yt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n=e-1;n>=0;n--){var r=t[n];if(r.isVisible)return r.end}return t[e-1].end}});var gi={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(gi,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(gi,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(gi,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var pn=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof pn))return cr(pn,t);if(0===e)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof tt){if(1===e)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(2===e)return this.end=new m(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),r.push(cr(pn,s));return r}if(1===e)return this.end=new m(t[0]),this;for(r=[],n=0;n<e;n+=1)r.push(new pn(t[n]));return r},Bs={clone:function(){return new pn(this.end)},divideAt:function(t){var n=new tt(this.start,this.end).divideAt(t);return[new pn(n[0]),new pn(n[1])]},divideAtLength:function(t){var n=new tt(this.start,this.end).divideAtLength(t);return[new pn(n[0]),new pn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Bs,"type",{configurable:!0,enumerable:!0,value:"L"}),pn.prototype=hi(gi,tt.prototype,Bs);var Rn=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Rn))return cr(Rn,t);if(0===e)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r,u;if(t[0]instanceof De){if(1===e)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(6===e)return this.controlPoint1=new m(+t[0],+t[1]),this.controlPoint2=new m(+t[2],+t[3]),this.end=new m(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=6)s=t.slice(n,n+6),r.push(cr(Rn,s));return r}if(3===e)return this.controlPoint1=new m(t[0]),this.controlPoint2=new m(t[1]),this.end=new m(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");for(r=[],n=0;n<e;n+=3)u=t.slice(n,n+3),r.push(cr(Rn,u));return r},nr={clone:function(){return new Rn(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var r=new De(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(t,e);return[new Rn(r[0]),new Rn(r[1])]},divideAtLength:function(t,e){var r=new De(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(t,e);return[new Rn(r[0]),new Rn(r[1])]},divideAtT:function(t){var n=new De(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(t);return[new Rn(n[0]),new Rn(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(e)&&e.equals(n)&&n.equals(r))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(nr,"type",{configurable:!0,enumerable:!0,value:"C"}),Rn.prototype=hi(gi,De.prototype,nr);var di=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof di))return cr(di,t);if(0===e)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r,u;if(t[0]instanceof tt){if(1===e)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}if(t[0]instanceof De){if(1===e)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(2===e)return this.end=new m(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),r.push(cr(0===n?di:pn,s));return r}if(1===e)return this.end=new m(t[0]),this;for(r=[],n=0;n<e;n+=1)u=t[n],r.push(0===n?new di(u):new pn(u));return r},vs={bbox:function(){return null},clone:function(){return new di(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(vs,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(vs,"type",{configurable:!0,enumerable:!0,value:"M"}),di.prototype=hi(gi,vs);var rr=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof rr))return cr(rr,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},ms={clone:function(){return new rr},divideAt:function(t){var n=new tt(this.start,this.end).divideAt(t);return[n[1].isDifferentiable()?new pn(n[0]):this.clone(),new pn(n[1])]},divideAtLength:function(t){var n=new tt(this.start,this.end).divideAtLength(t);return[n[1].isDifferentiable()?new pn(n[0]):this.clone(),new pn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(ms,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(ms,"type",{configurable:!0,enumerable:!0,value:"Z"}),rr.prototype=hi(gi,tt.prototype,ms);var Rs=Yt.segmentTypes={L:pn,C:Rn,M:di,Z:rr,z:rr};Yt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Rs).join("")+",.]*$"),Yt.isDataSupported=function(t){return"string"==typeof t&&this.regexSupportedData.test(t)};const Ws={curveThroughPoints:function(t){return console.warn("deprecated"),new Yt(De.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var s,e=[],n=[],r=t.length-1;if(1==r)return e[0]=new m((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new m(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var u=[];for(s=1;s<r-1;s++)u[s]=4*t[s].x+2*t[s+1].x;u[0]=t[0].x+2*t[1].x,u[r-1]=(8*t[r-1].x+t[r].x)/2;var l=this.getFirstControlPoints(u);for(s=1;s<r-1;++s)u[s]=4*t[s].y+2*t[s+1].y;u[0]=t[0].y+2*t[1].y,u[r-1]=(8*t[r-1].y+t[r].y)/2;var h=this.getFirstControlPoints(u);for(s=0;s<r;s++)e.push(new m(l[s],h[s])),n.push(s<r-1?new m(2*t[s+1].x-l[s+1],2*t[s+1].y-h[s+1]):new m((t[r].x+l[r-1])/2,(t[r].y+h[r-1])/2));return[e,n]},getCurveDivider:function(t,e,n,r){console.warn("deprecated");var s=new De(t,e,n,r);return function(l){var h=s.divide(l);return[{p0:h[0].start,p1:h[0].controlPoint1,p2:h[0].controlPoint2,p3:h[0].end},{p0:h[1].start,p1:h[1].controlPoint1,p2:h[1].controlPoint2,p3:h[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],r=[],s=2;n[0]=t[0]/s;for(var u=1;u<e;u++)r[u]=1/s,n[u]=(t[u]-n[u-1])/(s=(u<e-1?4:3.5)-r[u]);for(u=1;u<e;u++)n[e-u-1]-=r[e-u]*n[e-u];return n},getInversionSolver:function(t,e,n,r){console.warn("deprecated");var s=new De(t,e,n,r);return function(l){return s.closestPointT(l)}}},ir=function(t){return this instanceof ir?"string"==typeof t?new ir.parse(t):void(this.points=Array.isArray(t)?t.map(m):[]):new ir(t)};function ra(t,e,n,r){switch(t.type){case ie.Line:if(e.type===ie.Line)return Cr(t,e);break;case ie.Ellipse:switch(e.type){case ie.Line:return _s(t,e);case ie.Ellipse:return ia(t,e)}break;case ie.Rect:switch(e.type){case ie.Line:return sa(t,e);case ie.Ellipse:return aa(t,e);case ie.Rect:return oa(t,e)}break;case ie.Polyline:switch(e.type){case ie.Line:return ii(t,e);case ie.Ellipse:return bi(t,e);case ie.Rect:return Wi(t,e);case ie.Polyline:return fr(t,e)}break;case ie.Polygon:switch(e.type){case ie.Line:return si(t,e);case ie.Ellipse:return Is(t,e);case ie.Rect:return ns(t,e);case ie.Polyline:return Ys(t,e);case ie.Polygon:return Zn(t,e)}break;case ie.Path:switch(e.type){case ie.Line:return xi(t,e,n);case ie.Ellipse:return As(t,e,n);case ie.Rect:return ua(t,e,n);case ie.Polyline:return Us(t,e,n);case ie.Polygon:return pi(t,e,n);case ie.Path:return Cs(t,e,n,r)}}switch(e.type){case ie.Ellipse:case ie.Rect:case ie.Polyline:case ie.Polygon:case ie.Path:return ra(e,t,r,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function Cr(t,e){const n=t.start.x,r=t.start.y,l=e.start.x,h=e.start.y,y=t.end.x-n,p=t.end.y-r,P=e.end.x-l,j=e.end.y-h,B=n-l,et=r-h,rt=y*j-P*p,ht=(y*et-p*B)/rt,ft=(P*et-j*B)/rt;return ht>=0&&ht<=1&&ft>=0&&ft<=1}function _s(t,e){const n=t.a,r=t.b,s=t.x,u=t.y,l=e.start.x-s,d=e.start.y-u,y=n*n,p=r*r,P=e.end.x-s-l,j=e.end.y-u-d,B=P*P/y+j*j/p,et=2*l*P/y+2*d*j/p,ht=et*et-4*B*(l*l/y+d*d/p-1);if(0===ht){const ft=-et/2/B;return ft>=0&&ft<=1}if(ht>0){const ft=Math.sqrt(ht),w=(-et+ft)/2/B,T=(-et-ft)/2/B;return w>=0&&w<=1||T>=0&&T<=1}return!1}function ia(t,e){return function Wr(t,e,n,r){const{cos:s,sin:u}=Math,l=u(e),h=s(e),d=u(r),A=s(r),y=l*l,p=h*h,j=d*d,B=A*A,rt=t.a*t.a,ht=t.b*t.b,ft=n.a*n.a,w=n.b*n.b,T=rt*y+ht*p,L=ft*j+w*B,Z=rt*p+ht*y,X=ft*B+w*j;let at=2*(ht-rt)*(l*h),ut=2*(w-ft)*(d*A),vt=-2*T*t.x-at*t.y,Dt=-2*L*n.x-ut*n.y,Mt=-at*t.x-2*Z*t.y,Lt=-ut*n.x-2*X*n.y;const kt=T*t.x*t.x+Z*t.y*t.y+at*t.x*t.y-rt*ht,Gt=L*n.x*n.x+X*n.y*n.y+ut*n.x*n.y-ft*w;at/=2,ut/=2,vt/=2,Dt/=2,Mt/=2,Lt/=2;const Ht=_r([[T,at,vt],[at,Z,Mt],[vt,Mt,kt]]),nn=_r([[L,ut,Dt],[ut,X,Lt],[Dt,Lt,Gt]]),Be=.33333333*(_r([[L,at,vt],[ut,Z,Mt],[Dt,Mt,kt]])+_r([[T,ut,vt],[at,X,Mt],[vt,Lt,kt]])+_r([[T,at,Dt],[at,Z,Lt],[vt,Mt,Gt]])),hn=.33333333*(_r([[T,ut,Dt],[at,X,Lt],[vt,Lt,Gt]])+_r([[L,at,Dt],[ut,Z,Lt],[Dt,Mt,Gt]])+_r([[L,ut,vt],[ut,X,Mt],[Dt,Lt,kt]])),qt=is([[Ht,Be],[Be,hn]]),he=is([[Ht,hn],[Be,nn]]),ne=is([[Be,hn],[hn,nn]]);return!(is([[2*qt,he],[he,2*ne]])>0&&(hn>0||Be>0))}(t,0,e,0)}function sa(t,e){const{start:n,end:r}=e,{x:s,y:u,width:l,height:h}=t;return!(n.x>s+l&&r.x>s+l||n.x<s&&r.x<s||n.y>u+h&&r.y>u+h||n.y<u&&r.y<u)&&(!(!t.containsPoint(e.start)&&!t.containsPoint(e.end))||Cr(t.topLine(),e)||Cr(t.rightLine(),e)||Cr(t.bottomLine(),e)||Cr(t.leftLine(),e))}function aa(t,e){return!!oa(t,Pt.fromEllipse(e))&&Is(ir.fromRect(t),e)}function oa(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function ii(t,e){return _i(t,e,{interior:!1})}function bi(t,e){return rs(t,e,{interior:!1})}function Wi(t,e){return la(t,e,{interior:!1})}function fr(t,e){return zn(t,e,{interior:!1})}function si(t,e){return _i(t,e,{interior:!0})}function Is(t,e){return rs(t,e,{interior:!0})}function ns(t,e){return la(t,e,{interior:!0})}function Ys(t,e){return zn(t,e,{interior:!0})}function Zn(t,e){return yr(t,e,{interior:!0})}function xi(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:u}=r.getSegment(-1);return"Z"===u?si(s,e):ii(s,e)})}function As(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:u}=r.getSegment(-1);return"Z"===u?Is(s,e):bi(s,e)})}function ua(t,e,n){return pi(t,ir.fromRect(e),n)}function Us(t,e,n){return ca(t,e,n,{interior:!1})}function pi(t,e,n){return ca(t,e,n,{interior:!0})}function Cs(t,e,n,r){return t.getSubpaths().some(s=>{const[u]=s.toPolylines(n),{type:l}=s.getSegment(-1);return"Z"===l?pi(e,u,r):Us(e,u,r)})}function _i(t,e,n={}){const{interior:r=!1}=n;let s;if(r){if(t.containsPoint(e.start))return!0;const{start:h,end:d,points:A}=t;s=d.equals(h)?A:[...A,h]}else s=t.points;const{length:u}=s,l=new tt;for(let h=0;h<u-1;h++)if(l.start=s[h],l.end=s[h+1],Cr(e,l))return!0;return!1}function rs(t,e,n={}){const{start:r,end:s,points:u}=t;if(e.containsPoint(r))return!0;let l;const{interior:h=!1}=n;if(h){if(t.containsPoint(e.center()))return!0;l=s.equals(r)?u:[...u,r]}else l=u;const{length:d}=l,A=new tt;for(let y=0;y<d-1;y++)if(A.start=l[y],A.end=l[y+1],_s(e,A))return!0;return!1}function la(t,e,n){return yr(t,ir.fromRect(e),n)}function ca(t,e,n,r){return t.getSubpaths().some(s=>{const[u]=s.toPolylines(n),{type:l}=s.getSegment(-1);return"Z"===l?yr(e,u,r):zn(e,u,r)})}function zn(t,e,n={}){const{interior:r=!1}=n;let s;if(r){const{start:d}=e;if(t.containsPoint(d))return!0;s=t.clone().close()}else s=t;const u=e.points,{length:l}=u,h=new tt;for(let d=0;d<l-1;d++)if(h.start=u[d],h.end=u[d+1],ii(s,h))return!0;return!1}function yr(t,e,n){return e.containsPoint(t.start)||zn(t,e.clone().close(),n)}function is(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function _r(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}ir.parse=function(t){return new ir(Gn(t))},ir.fromRect=function(t){return new ir([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])},ir.prototype=hi($e.prototype,{type:ie.Polygon,clone:function(){return new ir(Pn(this.points))},convexHull:function(){return new ir(es(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});const ai=vr,pt=function(){if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r=Math,s=r.PI,u=r.atan2,l=r.sqrt,h=r.min,d=r.max,A=r.cos,y=r.sin,p=function(w,T,L){if(!(this instanceof p))return p.apply(Object.create(p.prototype),arguments);if(w){if(p.isV(w)&&(w=w.node),T=T||{},p.isString(w)){if("svg"===(w=w.trim()).toLowerCase())w=p.createSvgDocument();else if("<"===w[0]){var Z=p.createSvgDocument(w);if(Z.childNodes.length>1){var at,ut,X=[];for(at=0,ut=Z.childNodes.length;at<ut;at++){var vt=Z.childNodes[at];X.push(new p(document.importNode(vt,!0)))}return X}w=document.importNode(Z.firstChild,!0)}else w=document.createElementNS(e.svg,w);p.ensureId(w)}return this.node=w,this.setAttributes(T),L&&this.append(L),this}},P=p.prototype;function B(w,T,L){L||(L={});for(var Z=L.includeAnnotationIndices,X=L.eol,at=L.lineHeight,ut=L.baseSize,vt=0,Dt={},Mt=T.length-1,Lt=0;Lt<=Mt;Lt++){var kt=T[Lt],Gt=null;if(p.isObject(kt)){var Ht=kt.attrs,nn=p("tspan",Ht),Be=nn.node,hn=kt.t;X&&Lt===Mt&&(hn+=X),Be.textContent=hn;var qt=Ht.class;qt&&nn.addClass(qt),Z&&nn.attr("annotations",kt.annotations),Gt=parseFloat(Ht["font-size"]),isFinite(Gt)||(Gt=ut),Gt&&Gt>vt&&(vt=Gt)}else X&&Lt===Mt&&(kt+=X),Be=document.createTextNode(kt||" "),ut&&ut>vt&&(vt=ut);w.appendChild(Be)}return vt&&(Dt.maxFontSize=vt),at?Dt.lineHeight=at:vt&&(Dt.lineHeight=1.2*vt),Dt}Object.defineProperty(P,"id",{enumerable:!0,get:function(){return this.node.id},set:function(w){this.node.id=w}}),P.getTransformToElement=function(w){var T=this.node;if(p.isSVGGraphicsElement(w)&&p.isSVGGraphicsElement(T)){var L=p.toNode(w).getScreenCTM(),Z=T.getScreenCTM();if(L&&Z)return L.inverse().multiply(Z)}return p.createSVGMatrix()},P.transform=function(w,T){var L=this.node;if(p.isUndefined(w))return p.transformStringToMatrix(this.attr("transform"));if(T&&T.absolute)return this.attr("transform",p.matrixToTransformString(w));var Z=p.createSVGTransform(w);return L.transform.baseVal.appendItem(Z),this},P.translate=function(w,T,L){L=L||{},T=T||0;var Z=this.attr("transform")||"",X=p.parseTransformString(Z);return Z=X.value,p.isUndefined(w)?X.translate:(Z=Z.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(L.absolute?w:X.translate.tx+w)+","+(L.absolute?T:X.translate.ty+T)+") "+Z).trim()),this)},P.rotate=function(w,T,L,Z){Z=Z||{};var X=this.attr("transform")||"",at=p.parseTransformString(X);return X=at.value,p.isUndefined(w)?at.rotate:(X=X.replace(/rotate\([^)]*\)/g,"").trim(),w%=360,this.attr("transform",(X+" rotate("+(Z.absolute?w:at.rotate.angle+w)+(void 0!==T&&void 0!==L?","+T+","+L:"")+")").trim()),this)},P.scale=function(w,T){T=p.isUndefined(T)?w:T;var L=this.attr("transform")||"",Z=p.parseTransformString(L);return L=Z.value,p.isUndefined(w)?Z.scale:(L=L.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(L+" scale("+w+","+T+")").trim()),this)},P.bbox=function(w,T){var L,Z=this.node,X=Z.ownerSVGElement;if(!X)return new Pt(0,0,0,0);try{L=Z.getBBox()}catch{L={x:Z.clientLeft,y:Z.clientTop,width:Z.clientWidth,height:Z.clientHeight}}if(w)return new Pt(L);var at=this.getTransformToElement(T||X);return p.transformRect(L,at)},P.getBBox=function(w){var L,T={},Z=this.node;if(!Z.ownerSVGElement||!p.isSVGGraphicsElement(Z))return new Pt(0,0,0,0);if(w&&(w.target&&(T.target=p.toNode(w.target)),w.recursive&&(T.recursive=w.recursive)),T.recursive){var ut=this.children(),vt=ut.length;if(0===vt)return this.getBBox({target:T.target,recursive:!1});T.target||(T.target=this);for(var Dt=0;Dt<vt;Dt++){var Lt,Mt=ut[Dt];Lt=0===Mt.children().length?Mt.getBBox({target:T.target,recursive:!1}):Mt.getBBox({target:T.target,recursive:!0}),L=L?L.union(Lt):Lt}return L}try{L=Z.getBBox()}catch{L={x:Z.clientLeft,y:Z.clientTop,width:Z.clientWidth,height:Z.clientHeight}}if(T.target){var at=this.getTransformToElement(T.target);return p.transformRect(L,at)}return new Pt(L)};var et=/em$/;function rt(w,T){var L=parseFloat(w);return et.test(w)?L*T:L}P.text=function(w,T){if(w&&"string"!=typeof w)throw new Error("Vectorizer: text() expects the first argument to be a string.");w=p.sanitizeText(w),T||(T={});var L=T.displayEmpty,Z=T.eol,X=T.textPath,at=T.textVerticalAnchor,ut="middle"===at||"bottom"===at||"top"===at,vt=T.x;void 0===vt&&(vt=this.attr("x")||0);var Dt=T.includeAnnotationIndices,Mt=T.annotations;Mt&&!p.isArray(Mt)&&(Mt=[Mt]);var Lt=T.lineHeight,kt="auto"===Lt,Gt=kt?"1.5em":Lt||"1em";this.empty(),this.attr({"xml:space":"preserve",display:w||L?null:"none"});var Ht=parseFloat(this.attr("font-size"));Ht||(Ht=16,(ut||Mt)&&this.attr("font-size",Ht));var Be,nn=document;X?("string"==typeof X&&(X={d:X}),Be=function j(w,T){w||(w={});var L=p("textPath"),Z=w.d;if(Z&&void 0===w["xlink:href"]){var X=p("path").attr("d",Z).appendTo(T.defs());L.attr("xlink:href","#"+X.id)}return p.isObject(w)&&L.attr(w),L.node}(X,this)):Be=nn.createDocumentFragment();for(var ne,hn=0,qt=w.split("\n"),he=[],re=0,Se=qt.length-1;re<=Se;re++){var Ee,rn=Gt,un="v-line",Ne=nn.createElementNS(e.svg,"tspan"),Dn=qt[re];if(Dn)if(Mt){var Le=(Ee=B(Ne,p.annotateString(Dn,Mt,{offset:-hn,includeAnnotationIndices:Dt}),{includeAnnotationIndices:Dt,eol:re!==Se&&Z,lineHeight:kt?null:Gt,baseSize:Ht})).lineHeight;Le&&kt&&0!==re&&(rn=Le),0===re&&(ne=.8*Ee.maxFontSize)}else Z&&re!==Se&&(Dn+=Z),Ne.textContent=Dn;else{Ne.textContent="-",un+=" v-empty-line";var te=Ne.style;te.fillOpacity=0,te.strokeOpacity=0,Mt&&(Ee={})}Ee&&he.push(Ee),re>0&&Ne.setAttribute("dy",rn),(re>0||X)&&Ne.setAttribute("x",vt),Ne.className.baseVal=un,Be.appendChild(Ne),hn+=Dn.length+1}if(ut)if(Mt)rn=function ht(w,T,L,Z){if(!Array.isArray(T))return 0;var X=T.length;if(!X)return 0;for(var at=T[0],ut=rt(at.maxFontSize,L)||L,vt=0,Dt=rt(Z,L),Mt=1;Mt<X;Mt++)vt+=rt((at=T[Mt]).lineHeight,L)||Dt;var Gt,kt=rt(at.maxFontSize,L)||L;switch(w){case"middle":Gt=ut/2-.15*kt-vt/2;break;case"bottom":Gt=-.25*kt-vt;break;default:Gt=.8*ut}return Gt}(at,he,Ht,Gt);else if("top"===at)rn="0.8em";else{var Bt;switch(Se>0?(Bt=parseFloat(Gt)||1,Bt*=Se,et.test(Gt)||(Bt/=Ht)):Bt=0,at){case"middle":rn=.3-Bt/2+"em";break;case"bottom":rn=-Bt-.3+"em"}}else 0===at?rn="0em":at?rn=at:(rn=0,null===this.attr("y")&&this.attr("y",ne||"0.8em"));return Be.firstChild.setAttribute("dy",rn),this.append(Be),this},P.removeAttr=function(w){var T=p.qualifyAttr(w),L=this.node;return T.ns?L.hasAttributeNS(T.ns,T.local)&&L.removeAttributeNS(T.ns,T.local):L.hasAttribute(w)&&L.removeAttribute(w),this},P.attr=function(w,T){if(p.isUndefined(w)){for(var L=this.node.attributes,Z={},X=0;X<L.length;X++)Z[L[X].name]=L[X].value;return Z}if(p.isString(w)&&p.isUndefined(T))return this.node.getAttribute(w);if("object"==typeof w)for(var at in w)w.hasOwnProperty(at)&&this.setAttribute(at,w[at]);else this.setAttribute(w,T);return this},P.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",p.normalizePathData(this.attr("d"))),this},P.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},P.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},P.setAttributes=function(w){for(var T in w)w.hasOwnProperty(T)&&this.setAttribute(T,w[T]);return this},P.append=function(w){p.isArray(w)||(w=[w]);for(var T=0,L=w.length;T<L;T++)this.node.appendChild(p.toNode(w[T]));return this},P.prepend=function(w){var T=this.node.firstChild;return T?p(T).before(w):this.append(w)},P.before=function(w){var T=this.node,L=T.parentNode;if(L){p.isArray(w)||(w=[w]);for(var Z=0,X=w.length;Z<X;Z++)L.insertBefore(p.toNode(w[Z]),T)}return this},P.appendTo=function(w){return p.toNode(w).appendChild(this.node),this},P.svg=function(){return this.node instanceof window.SVGSVGElement?this:p(this.node.ownerSVGElement)},P.tagName=function(){return this.node.tagName.toUpperCase()},P.defs=function(){var w=this.svg()||this,T=w.node.getElementsByTagName("defs")[0];return T?p(T):p("defs").appendTo(w)},P.clone=function(){var w=p(this.node.cloneNode(!0));return w.node.id=p.uniqueId(),w},P.findOne=function(w){var T=this.node.querySelector(w);return T?p(T):void 0},P.find=function(w){var T=[],L=this.node.querySelectorAll(w);if(L)for(var Z=0;Z<L.length;Z++)T.push(p(L[Z]));return T},P.children=function(){for(var w=this.node.childNodes,T=[],L=0;L<w.length;L++)1===w[L].nodeType&&T.push(p(w[L]));return T},P.parent=function(){return p(this.node.parentNode)||null},P.index=function(){for(var w=0,T=this.node.previousSibling;T;)1===T.nodeType&&w++,T=T.previousSibling;return w},P.findParentByClass=function(w,T){for(var L=this.node.ownerSVGElement,Z=this.node.parentNode;Z&&Z!==T&&Z!==L;){var X=p(Z);if(X.hasClass(w))return X;Z=Z.parentNode}return null},P.contains=function(w){var T=this.node,L=p.toNode(w),Z=L&&L.parentNode;return T===Z||!!(Z&&1===Z.nodeType&&16&T.compareDocumentPosition(Z))},P.toLocalPoint=function(w,T){var L=this.svg().node,Z=L.createSVGPoint();Z.x=w,Z.y=T;try{var X=Z.matrixTransform(L.getScreenCTM().inverse()),at=this.getTransformToElement(L).inverse()}catch{return Z}return X.matrixTransform(at)},P.translateCenterToPoint=function(w){var L=this.getBBox({target:this.svg()}).center();return this.translate(w.x-L.x,w.y-L.y),this},P.translateAndAutoOrient=function(w,T,L){w=new m(w),T=new m(T),L||(L=this.svg());var Z=this.scale();this.attr("transform","");var X=this.getBBox({target:L}).scale(Z.sx,Z.sy),at=p.createSVGTransform();at.setTranslate(-X.x-X.width/2,-X.y-X.height/2);var ut=p.createSVGTransform(),vt=w.angleBetween(T,w.clone().offset(1,0));vt&&ut.setRotate(vt,0,0);var Dt=p.createSVGTransform(),Mt=w.clone().move(T,X.width/2);Dt.setTranslate(2*w.x-Mt.x,2*w.y-Mt.y);var Lt=this.getTransformToElement(L),kt=p.createSVGTransform();return kt.setMatrix(Dt.matrix.multiply(ut.matrix.multiply(at.matrix.multiply(Lt.scale(Z.sx,Z.sy))))),this.attr("transform",p.matrixToTransformString(kt.matrix)),this},P.animateAlongPath=function(w,T){T=p.toNode(T);var L=p.ensureId(T),Z=p("animateMotion",w),X=p("mpath",{"xlink:href":"#"+L});Z.append(X),this.append(Z);try{Z.node.beginElement()}catch{if("fake"===document.documentElement.getAttribute("smiling")){var at=Z.node;at.animators=[];var ut=at.getAttribute("id");ut&&(id2anim[ut]=at);for(var vt=getTargets(at),Dt=0,Mt=vt.length;Dt<Mt;Dt++){var kt=new Animator(at,vt[Dt],Dt);animators.push(kt),at.animators[Dt]=kt,kt.register()}}}return this},P.hasClass=function(w){return new RegExp("(\\s|^)"+w+"(\\s|$)").test(this.node.getAttribute("class"))},P.addClass=function(w){if(w&&!this.hasClass(w)){var T=this.node.getAttribute("class")||"";this.node.setAttribute("class",(T+" "+w).trim())}return this},P.removeClass=function(w){if(w&&this.hasClass(w)){var T=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+w+"(\\s|$)","g"),"$2");this.node.setAttribute("class",T)}return this},P.toggleClass=function(w,T){return(p.isUndefined(T)?this.hasClass(w):!T)?this.removeClass(w):this.addClass(w),this},P.sample=function(w){w=w||1;for(var at,T=this.node,L=T.getTotalLength(),Z=[],X=0;X<L;)at=T.getPointAtLength(X),Z.push({x:at.x,y:at.y,distance:X}),X+=w;return Z},P.convertToPath=function(){var w=p("path");w.attr(this.attr());var T=this.convertToPathData();return T&&w.attr("d",T),w},P.convertToPathData=function(){var w=this.tagName();switch(w){case"PATH":return this.attr("d");case"LINE":return p.convertLineToPathData(this.node);case"POLYGON":return p.convertPolygonToPathData(this.node);case"POLYLINE":return p.convertPolylineToPathData(this.node);case"ELLIPSE":return p.convertEllipseToPathData(this.node);case"CIRCLE":return p.convertCircleToPathData(this.node);case"RECT":return p.convertRectToPathData(this.node)}throw new Error(w+" cannot be converted to PATH.")},p.prototype.toGeometryShape=function(){var w,T,L,Z,X,at,ut,vt,Dt,Mt,Lt,kt,Gt,Ht,nn;switch(this.tagName()){case"RECT":return w=parseFloat(this.attr("x"))||0,T=parseFloat(this.attr("y"))||0,L=parseFloat(this.attr("width"))||0,Z=parseFloat(this.attr("height"))||0,new Pt(w,T,L,Z);case"CIRCLE":return X=parseFloat(this.attr("cx"))||0,at=parseFloat(this.attr("cy"))||0,ut=parseFloat(this.attr("r"))||0,new ye({x:X,y:at},ut,ut);case"ELLIPSE":return X=parseFloat(this.attr("cx"))||0,at=parseFloat(this.attr("cy"))||0,vt=parseFloat(this.attr("rx"))||0,Dt=parseFloat(this.attr("ry"))||0,new ye({x:X,y:at},vt,Dt);case"POLYLINE":return Mt=p.getPointsFromSvgNode(this),new $e(Mt);case"POLYGON":return(Mt=p.getPointsFromSvgNode(this)).length>1&&Mt.push(Mt[0]),new $e(Mt);case"PATH":return Lt=this.attr("d"),Yt.isDataSupported(Lt)||(Lt=p.normalizePathData(Lt)),new Yt(Lt);case"LINE":return kt=parseFloat(this.attr("x1"))||0,Ht=parseFloat(this.attr("y1"))||0,Gt=parseFloat(this.attr("x2"))||0,nn=parseFloat(this.attr("y2"))||0,new tt({x:kt,y:Ht},{x:Gt,y:nn})}return this.getBBox()},P.findIntersection=function(w,T){var L=this.svg().node,Z=this.getBBox({target:T=T||L}),X=Z.center();if(Z.intersectionWithLineFromCenterToPoint(w)){var at,ut=this.tagName();if("RECT"===ut){var vt=new Pt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),Dt=this.getTransformToElement(T),Mt=p.decomposeMatrix(Dt),Lt=L.createSVGTransform();Lt.setRotate(-Mt.rotation,X.x,X.y);var kt=p.transformRect(vt,Lt.matrix.multiply(Dt));at=new Pt(kt).intersectionWithLineFromCenterToPoint(w,Mt.rotation)}else if("PATH"===ut||"POLYGON"===ut||"POLYLINE"===ut||"CIRCLE"===ut||"ELLIPSE"===ut){var hn,qt,he,re,Se,Ht=("PATH"===ut?this:this.convertToPath()).sample(),nn=1/0,Be=[];for(hn=0;hn<Ht.length;hn++)he=(he=p.createSVGPoint((qt=Ht[hn]).x,qt.y)).matrixTransform(this.getTransformToElement(T)),(Se=(qt=new m(he)).distance(X)+(re=1.1*qt.distance(w)))<nn?(nn=Se,Be=[{sample:qt,refDistance:re}]):Se<nn+1&&Be.push({sample:qt,refDistance:re});Be.sort(function(rn,un){return rn.refDistance-un.refDistance}),Be[0]&&(at=Be[0].sample)}return at}},P.setAttribute=function(w,T){var L=this.node;if(null===T)return this.removeAttr(w),this;var Z=p.qualifyAttr(w);return Z.ns?L.setAttributeNS(Z.ns,w,T):"id"===w?L.id=T:L.setAttribute(w,T),this},p.createSvgDocument=function(w){if(w){const L=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="1.1">${w}</svg>`,{documentElement:Z}=p.parseXML(L,{async:!1});return Z}const T=document.createElementNS(e.svg,"svg");return T.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),T.setAttribute("version","1.1"),T},p.createSVGStyle=function(w){const{node:T}=p("style",{type:"text/css"},[p.createCDATASection(w)]);return T},p.createCDATASection=function(w=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(w)},p.idCounter=0,p.uniqueId=function(){return"v-"+ ++p.idCounter},p.toNode=function(w){return p.isV(w)?w.node:w.nodeName&&w||w[0]},p.ensureId=function(w){return(w=p.toNode(w)).id||(w.id=p.uniqueId())},p.sanitizeText=function(w){return(w||"").replace(/ /g,"\xa0")},p.isUndefined=function(w){return typeof w>"u"},p.isString=function(w){return"string"==typeof w},p.isObject=function(w){return w&&"object"==typeof w},p.isArray=Array.isArray,p.parseXML=function(w,T){var L;T=T||{};try{var Z=new DOMParser;p.isUndefined(T.async)||(Z.async=T.async),L=Z.parseFromString(w,"text/xml")}catch{L=void 0}if(!L||L.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+w);return L},p.qualifyAttr=function(w){if(-1!==w.indexOf(":")){var T=w.split(":");return{ns:e[T[0]],local:T[1]}}return{ns:null,local:w}},p.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,p.transformSeparatorRegex=/[ ,]+/,p.transformationListRegex=/^(\w+)\((.*)\)/,p.transformStringToMatrix=function(w){var T=p.createSVGMatrix(),L=w&&w.match(p.transformRegex);if(!L)return T;for(var Z=0,X=L.length;Z<X;Z++){var ut=L[Z].match(p.transformationListRegex);if(ut){var vt,Dt,Mt,Lt,kt,Gt=p.createSVGMatrix(),Ht=ut[2].split(p.transformSeparatorRegex);switch(ut[1].toLowerCase()){case"scale":vt=parseFloat(Ht[0]),Dt=void 0===Ht[1]?vt:parseFloat(Ht[1]),Gt=Gt.scaleNonUniform(vt,Dt);break;case"translate":Mt=parseFloat(Ht[0]),Lt=parseFloat(Ht[1]),Gt=Gt.translate(Mt,Lt);break;case"rotate":kt=parseFloat(Ht[0]),Mt=parseFloat(Ht[1])||0,Lt=parseFloat(Ht[2])||0,Gt=0!==Mt||0!==Lt?Gt.translate(Mt,Lt).rotate(kt).translate(-Mt,-Lt):Gt.rotate(kt);break;case"skewx":kt=parseFloat(Ht[0]),Gt=Gt.skewX(kt);break;case"skewy":kt=parseFloat(Ht[0]),Gt=Gt.skewY(kt);break;case"matrix":Gt.a=parseFloat(Ht[0]),Gt.b=parseFloat(Ht[1]),Gt.c=parseFloat(Ht[2]),Gt.d=parseFloat(Ht[3]),Gt.e=parseFloat(Ht[4]),Gt.f=parseFloat(Ht[5]);break;default:continue}T=T.multiply(Gt)}}return T},p.matrixToTransformString=function(w){return w||(w=!0),"matrix("+(void 0!==w.a?w.a:1)+","+(void 0!==w.b?w.b:0)+","+(void 0!==w.c?w.c:0)+","+(void 0!==w.d?w.d:1)+","+(void 0!==w.e?w.e:0)+","+(void 0!==w.f?w.f:0)+")"},p.parseTransformString=function(w){var T,L,Z;if(w){var X=p.transformSeparatorRegex;if(w.trim().indexOf("matrix")>=0){var at=p.transformStringToMatrix(w),ut=p.decomposeMatrix(at);Z=[ut.scaleX,ut.scaleY],L=[ut.rotation];var vt=[];(0!==(T=[ut.translateX,ut.translateY])[0]||0!==T[1])&&vt.push("translate("+T+")"),(1!==Z[0]||1!==Z[1])&&vt.push("scale("+Z+")"),0!==L[0]&&vt.push("rotate("+L+")"),w=vt.join(" ")}else{var Dt=w.match(/translate\((.*?)\)/);Dt&&(T=Dt[1].split(X));var Mt=w.match(/rotate\((.*?)\)/);Mt&&(L=Mt[1].split(X));var Lt=w.match(/scale\((.*?)\)/);Lt&&(Z=Lt[1].split(X))}}var kt=Z&&Z[0]?parseFloat(Z[0]):1;return{value:w,translate:{tx:T&&T[0]?parseInt(T[0],10):0,ty:T&&T[1]?parseInt(T[1],10):0},rotate:{angle:L&&L[0]?parseInt(L[0],10):0,cx:L&&L[1]?parseInt(L[1],10):void 0,cy:L&&L[2]?parseInt(L[2],10):void 0},scale:{sx:kt,sy:Z&&Z[1]?parseFloat(Z[1]):kt}}},p.deltaTransformPoint=function(w,T){return{x:T.x*w.a+T.y*w.c+0,y:T.x*w.b+T.y*w.d+0}},p.decomposeMatrix=function(w){var T=p.deltaTransformPoint(w,{x:0,y:1}),L=p.deltaTransformPoint(w,{x:1,y:0}),Z=180/s*u(T.y,T.x)-90,X=180/s*u(L.y,L.x);return{translateX:w.e,translateY:w.f,scaleX:l(w.a*w.a+w.b*w.b),scaleY:l(w.c*w.c+w.d*w.d),skewX:Z,skewY:X,rotation:Z}},p.matrixToScale=function(w){var T,L,Z,X;return w?(T=p.isUndefined(w.a)?1:w.a,X=p.isUndefined(w.d)?1:w.d,L=w.b,Z=w.c):T=X=1,{sx:L?l(T*T+L*L):T,sy:Z?l(Z*Z+X*X):X}},p.matrixToRotate=function(w){var T={x:0,y:1};return w&&(T=p.deltaTransformPoint(w,T)),{angle:qn(sn(u(T.y,T.x))-90)}},p.matrixToTranslate=function(w){return{tx:w&&w.e||0,ty:w&&w.f||0}},p.isV=function(w){return w instanceof p},p.isVElement=p.isV,p.isSVGGraphicsElement=function(w){return!!w&&(w=p.toNode(w))instanceof SVGElement&&"function"==typeof w.getScreenCTM};var ft=p("svg").node;return p.createSVGMatrix=function(w){var T=ft.createSVGMatrix();for(var L in w)T[L]=w[L];return T},p.createSVGTransform=function(w){return p.isUndefined(w)?ft.createSVGTransform():(w instanceof SVGMatrix||(w=p.createSVGMatrix(w)),ft.createSVGTransformFromMatrix(w))},p.createSVGPoint=function(w,T){var L=ft.createSVGPoint();return L.x=w,L.y=T,L},p.transformRect=function(w,T){var L=ft.createSVGPoint();L.x=w.x,L.y=w.y;var Z=L.matrixTransform(T);L.x=w.x+w.width,L.y=w.y;var X=L.matrixTransform(T);L.x=w.x+w.width,L.y=w.y+w.height;var at=L.matrixTransform(T);L.x=w.x,L.y=w.y+w.height;var ut=L.matrixTransform(T),vt=h(Z.x,X.x,at.x,ut.x),Dt=d(Z.x,X.x,at.x,ut.x),Mt=h(Z.y,X.y,at.y,ut.y),Lt=d(Z.y,X.y,at.y,ut.y);return new Pt(vt,Mt,Dt-vt,Lt-Mt)},p.transformPoint=function(w,T){return new m(p.createSVGPoint(w.x,w.y).matrixTransform(T))},p.transformLine=function(w,T){return new tt(p.transformPoint(w.start,T),p.transformPoint(w.end,T))},p.transformPolyline=function(w,T){var L=w instanceof $e?w.points:w;p.isArray(L)||(L=[]);for(var Z=[],X=0,at=L.length;X<at;X++)Z[X]=p.transformPoint(L[X],T);return new $e(Z)},p.styleToObject=function(w){for(var T={},L=w.split(";"),Z=0;Z<L.length;Z++){var at=L[Z].split("=");T[at[0].trim()]=at[1].trim()}return T},p.createSlicePathData=function(w,T,L,Z){var X=2*s-1e-6,at=w,ut=T,vt=L,Dt=Z,Mt=(Dt<vt&&(Mt=vt,vt=Dt,Dt=Mt),Dt-vt),Lt=Mt<s?"0":"1",kt=A(vt),Gt=y(vt),Ht=A(Dt),nn=y(Dt);return Mt>=X?at?"M0,"+ut+"A"+ut+","+ut+" 0 1,1 0,"+-ut+"A"+ut+","+ut+" 0 1,1 0,"+ut+"M0,"+at+"A"+at+","+at+" 0 1,0 0,"+-at+"A"+at+","+at+" 0 1,0 0,"+at+"Z":"M0,"+ut+"A"+ut+","+ut+" 0 1,1 0,"+-ut+"A"+ut+","+ut+" 0 1,1 0,"+ut+"Z":at?"M"+ut*kt+","+ut*Gt+"A"+ut+","+ut+" 0 "+Lt+",1 "+ut*Ht+","+ut*nn+"L"+at*Ht+","+at*nn+"A"+at+","+at+" 0 "+Lt+",0 "+at*kt+","+at*Gt+"Z":"M"+ut*kt+","+ut*Gt+"A"+ut+","+ut+" 0 "+Lt+",1 "+ut*Ht+","+ut*nn+"L0,0Z"},p.mergeAttrs=function(w,T){for(var L in T)w[L]="class"===L?w[L]?w[L]+" "+T[L]:T[L]:"style"===L?p.isObject(w[L])&&p.isObject(T[L])?p.mergeAttrs(w[L],T[L]):p.isObject(w[L])?p.mergeAttrs(w[L],p.styleToObject(T[L])):p.isObject(T[L])?p.mergeAttrs(p.styleToObject(w[L]),T[L]):p.mergeAttrs(p.styleToObject(w[L]),p.styleToObject(T[L])):T[L];return w},p.annotateString=function(w,T,L){T=T||[];for(var at,vt,Dt,Z=(L=L||{}).offset||0,X=[],ut=[],Mt=0;Mt<w.length;Mt++){vt=ut[Mt]=w[Mt];for(var Lt=0;Lt<T.length;Lt++){var kt=T[Lt];Mt>=kt.start+Z&&Mt<kt.end+Z&&(p.isObject(vt)?vt.attrs=p.mergeAttrs(p.mergeAttrs({},vt.attrs),kt.attrs):vt=ut[Mt]={t:w[Mt],attrs:kt.attrs},L.includeAnnotationIndices&&(vt.annotations||(vt.annotations=[])).push(Lt))}(Dt=ut[Mt-1])?p.isObject(vt)&&p.isObject(Dt)?JSON.stringify(vt.attrs)===JSON.stringify(Dt.attrs)?at.t+=vt.t:(X.push(at),at=vt):p.isObject(vt)||p.isObject(Dt)?(X.push(at),at=vt):at=(at||"")+vt:at=vt}return at&&X.push(at),X},p.findAnnotationsAtIndex=function(w,T){var L=[];return w&&w.forEach(function(Z){Z.start<T&&T<=Z.end&&L.push(Z)}),L},p.findAnnotationsBetweenIndexes=function(w,T,L){var Z=[];return w&&w.forEach(function(X){(T>=X.start&&T<X.end||L>X.start&&L<=X.end||X.start>=T&&X.end<L)&&Z.push(X)}),Z},p.shiftAnnotations=function(w,T,L){return w&&w.forEach(function(Z){Z.start<T&&Z.end>=T?Z.end+=L:Z.start>=T&&(Z.start+=L,Z.end+=L)}),w},p.convertLineToPathData=function(w){return["M",(w=p(w)).attr("x1"),w.attr("y1"),"L",w.attr("x2"),w.attr("y2")].join(" ")},p.convertPolygonToPathData=function(w){var T=p.getPointsFromSvgNode(w);return 0===T.length?null:p.svgPointsToPath(T)+" Z"},p.convertPolylineToPathData=function(w){var T=p.getPointsFromSvgNode(w);return 0===T.length?null:p.svgPointsToPath(T)},p.svgPointsToPath=function(w){for(var T=0,L=w.length;T<L;T++)w[T]=w[T].x+" "+w[T].y;return"M "+w.join(" L")},p.getPointsFromSvgNode=function(w){var T=[],L=(w=p.toNode(w)).points;if(L)for(var Z=0,X=L.numberOfItems;Z<X;Z++)T.push(L.getItem(Z));return T},p.KAPPA=.551784,p.convertCircleToPathData=function(w){w=p(w);var T=parseFloat(w.attr("cx"))||0,L=parseFloat(w.attr("cy"))||0,Z=parseFloat(w.attr("r")),X=Z*p.KAPPA;return["M",T,L-Z,"C",T+X,L-Z,T+Z,L-X,T+Z,L,"C",T+Z,L+X,T+X,L+Z,T,L+Z,"C",T-X,L+Z,T-Z,L+X,T-Z,L,"C",T-Z,L-X,T-X,L-Z,T,L-Z,"Z"].join(" ")},p.convertEllipseToPathData=function(w){w=p(w);var T=parseFloat(w.attr("cx"))||0,L=parseFloat(w.attr("cy"))||0,Z=parseFloat(w.attr("rx")),X=parseFloat(w.attr("ry"))||Z,at=Z*p.KAPPA,ut=X*p.KAPPA;return["M",T,L-X,"C",T+at,L-X,T+Z,L-ut,T+Z,L,"C",T+Z,L+ut,T+at,L+X,T,L+X,"C",T-at,L+X,T-Z,L+ut,T-Z,L,"C",T-Z,L-ut,T-at,L-X,T,L-X,"Z"].join(" ")},p.convertRectToPathData=function(w){return w=p(w),p.rectToPath({x:parseFloat(w.attr("x"))||0,y:parseFloat(w.attr("y"))||0,width:parseFloat(w.attr("width"))||0,height:parseFloat(w.attr("height"))||0,rx:parseFloat(w.attr("rx"))||0,ry:parseFloat(w.attr("ry"))||0})},p.rectToPath=function(w){var L=w.x,Z=w.y,X=w.width,at=w.height,ut=h(w.rx||w["top-rx"]||0,X/2),vt=h(w.rx||w["bottom-rx"]||0,X/2),Dt=h(w.ry||w["top-ry"]||0,at/2),Mt=h(w.ry||w["bottom-ry"]||0,at/2);return(ut||vt||Dt||Mt?["M",L,Z+Dt,"v",at-Dt-Mt,"a",vt,Mt,0,0,0,vt,Mt,"h",X-2*vt,"a",vt,Mt,0,0,0,vt,-Mt,"v",-(at-Mt-Dt),"a",ut,Dt,0,0,0,-ut,-Dt,"h",-(X-2*ut),"a",ut,Dt,0,0,0,-ut,Dt,"Z"]:["M",L,Z,"H",L+X,"V",Z+at,"H",L,"V",Z,"Z"]).join(" ")},p.normalizePathData=function(){var w="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",T=new RegExp("([a-z])["+w+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+w+"]*,?["+w+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+w+"]*,?["+w+"]*","ig"),Z=Math,X=Z.PI,at=Z.sin,ut=Z.cos,vt=Z.tan,Dt=Z.asin,Mt=Z.sqrt,Lt=Z.abs;function kt(qt,he,ne,re,Se,rn){var un=.3333333333333333,Ne=2/3;return[un*qt+Ne*ne,un*he+Ne*re,un*Se+Ne*ne,un*rn+Ne*re,Se,rn]}function Gt(qt,he,ne){return{x:qt*ut(ne)-he*at(ne),y:qt*at(ne)+he*ut(ne)}}function Ht(qt,he,ne,re,Se,rn,un,Ne,Dn,Ee){var Bt,Ie=120*X/180,Le=X/180*(+Se||0),te=[];if(Ee)Sr=Ee[0],Yn=Ee[1],To=Ee[2],Do=Ee[3];else{he=(Bt=Gt(qt,he,-Le)).y;var Mr=((qt=Bt.x)-(Ne=(Bt=Gt(Ne,Dn,-Le)).x))/2,pr=(he-(Dn=Bt.y))/2,hs=Mr*Mr/(ne*ne)+pr*pr/(re*re);hs>1&&(ne*=hs=Mt(hs),re*=hs);var _u=ne*ne,Yu=re*re,jl=(rn==un?-1:1)*Mt(Lt((_u*Yu-_u*pr*pr-Yu*Mr*Mr)/(_u*pr*pr+Yu*Mr*Mr))),To=jl*ne*pr/re+(qt+Ne)/2,Do=jl*-re*Mr/ne+(he+Dn)/2,Sr=Dt(((he-Do)/re).toFixed(9)),Yn=Dt(((Dn-Do)/re).toFixed(9));(Sr=qt<To?X-Sr:Sr)<0&&(Sr=2*X+Sr),(Yn=Ne<To?X-Yn:Yn)<0&&(Yn=2*X+Yn),un&&Sr>Yn&&(Sr-=2*X),!un&&Yn>Sr&&(Yn-=2*X)}var Uu=Yn-Sr;if(Lt(Uu)>Ie){var Gl=Yn,mf=Ne,eu=Dn;te=Ht(Ne=To+ne*ut(Yn=Sr+Ie*(un&&Yn>Sr?1:-1)),Dn=Do+re*at(Yn),ne,re,Se,0,un,mf,eu,[Yn,Gl,To,Do])}Uu=Yn-Sr;var If=ut(Sr),Af=at(Sr),Cf=ut(Yn),yf=at(Yn),Zl=vt(Uu/4),Bl=4/3*(ne*Zl),Rl=4/3*(re*Zl),Wl=[qt,he],qa=[qt+Bl*Af,he-Rl*If],_l=[Ne+Bl*yf,Dn-Rl*Cf],Yl=[Ne,Dn];if(qa[0]=2*Wl[0]-qa[0],qa[1]=2*Wl[1]-qa[1],Ee)return[qa,_l,Yl].concat(te);for(var Ul=[],wf=(te=[qa,_l,Yl].concat(te).join().split(",")).length,na=0;na<wf;na++)Ul[na]=na%2?Gt(te[na-1],te[na],Le).y:Gt(te[na],te[na+1],Le).x;return Ul}function hn(qt){var he=function Be(qt){if((!Array.isArray(qt)||!Array.isArray(qt&&qt[0]))&&(qt=function nn(qt){if(!qt)return null;var he={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ne=[];return String(qt).replace(T,function(re,Se,rn){var un=[],Ne=Se.toLowerCase();for(rn.replace(L,function(Dn,Ee){Ee&&un.push(+Ee)}),"m"===Ne&&un.length>2&&(ne.push([Se].concat(un.splice(0,2))),Ne="l",Se="m"===Se?"l":"L");un.length>=he[Ne]&&(ne.push([Se].concat(un.splice(0,he[Ne]))),he[Ne]););}),ne}(qt)),!qt||!qt.length)return[["M",0,0]];for(var Ne,he=[],ne=0,re=0,Se=0,rn=0,Dn=qt.length,Ee=0;Ee<Dn;Ee++){var Ie=[];he.push(Ie);var te,Bt,Le=qt[Ee];if((Ne=Le[0])!=Ne.toUpperCase())switch(Ie[0]=Ne.toUpperCase(),Ie[0]){case"A":Ie[1]=Le[1],Ie[2]=Le[2],Ie[3]=Le[3],Ie[4]=Le[4],Ie[5]=Le[5],Ie[6]=+Le[6]+ne,Ie[7]=+Le[7]+re;break;case"V":Ie[1]=+Le[1]+re;break;case"H":Ie[1]=+Le[1]+ne;break;case"M":for(Se=+Le[1]+ne,rn=+Le[2]+re,te=Le.length,Bt=1;Bt<te;Bt++)Ie[Bt]=+Le[Bt]+(Bt%2?ne:re);break;default:for(te=Le.length,Bt=1;Bt<te;Bt++)Ie[Bt]=+Le[Bt]+(Bt%2?ne:re)}else for(var Mr=Le.length,pr=0;pr<Mr;pr++)Ie[pr]=Le[pr];switch(Ie[0]){case"Z":ne=+Se,re=+rn;break;case"H":ne=Ie[1];break;case"V":re=Ie[1];break;case"M":Se=Ie[Ie.length-2],rn=Ie[Ie.length-1],ne=Ie[Ie.length-2],re=Ie[Ie.length-1];break;default:ne=Ie[Ie.length-2],re=Ie[Ie.length-1]}}return he}(qt),ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function re(te,Bt,Mr){var pr,hs;if(!te)return["C",Bt.x,Bt.y,Bt.x,Bt.y,Bt.x,Bt.y];switch(te[0]in{T:1,Q:1}||(Bt.qx=null,Bt.qy=null),te[0]){case"M":Bt.X=te[1],Bt.Y=te[2];break;case"A":te=0===parseFloat(te[1])||0===parseFloat(te[2])?["L",te[6],te[7]]:["C"].concat(Ht.apply(0,[Bt.x,Bt.y].concat(te.slice(1))));break;case"S":"C"===Mr||"S"===Mr?(pr=2*Bt.x-Bt.bx,hs=2*Bt.y-Bt.by):(pr=Bt.x,hs=Bt.y),te=["C",pr,hs].concat(te.slice(1));break;case"T":"Q"===Mr||"T"===Mr?(Bt.qx=2*Bt.x-Bt.qx,Bt.qy=2*Bt.y-Bt.qy):(Bt.qx=Bt.x,Bt.qy=Bt.y),te=["C"].concat(kt(Bt.x,Bt.y,Bt.qx,Bt.qy,te[1],te[2]));break;case"Q":Bt.qx=te[1],Bt.qy=te[2],te=["C"].concat(kt(Bt.x,Bt.y,te[1],te[2],te[3],te[4]));break;case"H":te=["L"].concat(te[1],Bt.y);break;case"V":te=["L"].concat(Bt.x,te[1])}return te}function Se(te,Bt){if(te[Bt].length>7){te[Bt].shift();for(var Mr=te[Bt];Mr.length;)rn[Bt]="A",te.splice(Bt++,0,["C"].concat(Mr.splice(0,6)));te.splice(Bt,1),Dn=he.length}}for(var rn=[],un="",Ne="",Dn=he.length,Ee=0;Ee<Dn;Ee++){he[Ee]&&(un=he[Ee][0]),"C"!==un&&(rn[Ee]=un,Ee>0&&(Ne=rn[Ee-1])),he[Ee]=re(he[Ee],ne,Ne),"A"!==rn[Ee]&&"C"===un&&(rn[Ee]="C"),Se(he,Ee);var Ie=he[Ee],Le=Ie.length;ne.x=Ie[Le-2],ne.y=Ie[Le-1],ne.bx=parseFloat(Ie[Le-4])||ne.x,ne.by=parseFloat(Ie[Le-3])||ne.y}return(!he[0][0]||"M"!==he[0][0])&&he.unshift(["M",0,0]),he}return function(qt){return hn(qt).join(",").split(",").join(" ")}}(),p.namespace=e,p.g=G,p}(),sr={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},An=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,sr.classNamePrefix.length)!==sr.classNamePrefix&&(e=sr.classNamePrefix+e),e}).join(" ")},Yi=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,sr.classNamePrefix.length)===sr.classNamePrefix&&(e=e.substr(sr.classNamePrefix.length)),e}).join(" ")},Ur=function(t,e){for(var n={},r={},s=pt.namespace.svg,u=e||s,l=document.createDocumentFragment(),h=[t,l,u];h.length>0;){u=h.pop();for(var d=h.pop(),A=h.pop(),y=0,p=A.length;y<p;y++){var P=A[y];if(!P.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var j=P.tagName;P.hasOwnProperty("namespaceURI")&&(u=P.namespaceURI);var B=document.createElementNS(u,j),et=u===s,rt=et?pt:pe,ht=P.attributes;ht&&rt(B).attr(ht);var ft=P.style;if(ft&&pe(B).css(ft),P.hasOwnProperty("className")){var w=P.className;et?B.className.baseVal=w:B.className=w}if(P.hasOwnProperty("textContent")&&(B.textContent=P.textContent),P.hasOwnProperty("selector")){var T=P.selector;if(n[T])throw new Error("json-dom-parser: selector must be unique");n[T]=B,rt(B).attr("joint-selector",T)}if(P.hasOwnProperty("groupSelector")){var L=P.groupSelector;Array.isArray(L)||(L=[L]);for(var Z=0,X=L.length;Z<X;Z++){var at=L[Z],ut=r[at];ut||(ut=r[at]=[]),ut.push(B)}}d.appendChild(B);var vt=P.children;Array.isArray(vt)&&h.push(vt,B,u)}}return{fragment:l,selectors:n,groupSelectors:r}},Ui=function(t){let e=0;if(0===t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e},Fi=function(t,e,n){for(var s,r=Array.isArray(e)?e:e.split(n||"/"),u=0,l=r.length;u<l;){if(s=r[u++],Object(t)!==t||!(s in t))return;t=t[s]}return t},Fs=function(t,e){return"string"!=typeof e&&"number"!=typeof e&&(e=String(e)),!("constructor"===e&&"function"==typeof t[e]||"__proto__"===e)},ss=function(t,e,n,r){const s=Array.isArray(e)?e:e.split(r||"/"),u=s.length-1;let l=t,h=0;for(;h<u;h++){const d=s[h];if(!Fs(l,d))return t;l=l[d]||(l[d]={})}return l[s[u]]=n,t},as=function(t,e,n){const r=Array.isArray(e)?e:e.split(n||"/"),s=r.length-1;let u=t,l=0;for(;l<s;l++){const h=r[l];if(!Fs(u,h))return t;const d=u[h];if(!d)return t;u=d}return delete u[r[s]],t},ys=function(t){return ys.id=ys.id||1,t.id=void 0===t.id?"j_"+ys.id++:t.id,t.id},to=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},Vn=function(t){var e=t,n=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(n){for(var r in t)void 0===n[r]&&(n[r]=t[r]);e=n}var s=e.target;if(s){var u=s.correspondingUseElement;u&&(e.target=u)}return e},Xs=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var r=(new Date).getTime(),s=Math.max(0,16-(r-e)),u=setTimeout(function(){n(r+s)},s);return e=r+s,u}}return function(n,r,...s){return t(void 0!==r?n.bind(r,...s):n)}}(),ha=((e=typeof window<"u")&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t),hr=function(t){return vn(t)&&"%"===t.slice(-1)},Xi=function(t,e){var r=parseFloat(t);if(Number.isNaN(r))return null;var u,s={};if(s.value=r,null==e)u="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;u=e.join("|")}else vn(e)&&(u=e);var l=function n(h){var d=new RegExp("(?:\\d+(?:\\.\\d+)*)("+h+")$").exec(t);return d?d[1]:null}(u);return null===l?null:(s.unit=l,s)},ws=function(t,e,n={},r={}){var s=e.width,u=e.height,l=r.svgDocument||pt("svg").node,h=pt("tspan").node,d=pt("text").attr(n).append(h).node,A=document.createTextNode("");d.style.opacity=0,d.style.display="block",h.style.display="block",h.appendChild(A),l.appendChild(d),r.svgDocument||document.body.appendChild(l);var y=r.separator||" ",p=r.eol||"\n",P=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,j=r.maxLineCount;me(j)||(j=1/0);for(var ht,ft,w,B=t.split(y),et=[],rt=[],T=0,L=0,Z=B.length;T<Z;T++){var X=B[T];if(X){var at=!1;if(p&&X.indexOf(p)>=0){if(X.length>1){for(var ut=X.split(p),vt=0,Dt=ut.length-1;vt<Dt;vt++)ut.splice(2*vt+1,0,p);B.splice(T,1,...ut.filter(ne=>""!==ne)),T--,Z=B.length;continue}rt[++L]="",at=!0}if(!at)if(A.data=rt[L]?rt[L]+" "+X:X,h.getComputedTextLength()<=s)rt[L]=A.data,(ht||ft)&&(et[L++]=!0,ht=0,ft=0);else{if(!rt[L]||ht){var Mt=!!ht;if(ht=X.length-1,Mt||!ht){if(!ht){if(!rt[L]){rt=[];break}B.splice(T,2,X+B[T+1]),Z--,et[L++]=!0,T--;continue}B[T]=X.substring(0,ht),B[T+1]=X.substring(ht)+(void 0===B[T+1]?"":B[T+1])}else{if(ft)B.splice(T,2,B[T]+B[T+1]),ft=0;else{var Lt=X.search(P);Lt>-1&&Lt!==X.length-1&&0!==Lt&&(ft=Lt+1,ht=0),B.splice(T,1,X.substring(0,ft||ht),X.substring(ft||ht)),Z++}L&&!et[L-1]&&L--}T--;continue}L++,T--}var kt=null;if(rt.length>j)kt=j-1;else if(void 0!==u){var Gt;void 0===w&&(w=(Gt="auto"===n.lineHeight?{value:1.5,unit:"em"}:Xi(n.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===Gt.unit&&(w*=d.getBBox().height)),w*rt.length>u&&(kt=Math.floor(u/w)-1)}if(null!==kt){rt.splice(kt+1);var Ht=r.ellipsis;if(!Ht||kt<0)break;"string"!=typeof Ht&&(Ht="\u2026");var nn=rt[kt];if(!nn&&!at)break;var hn,qt,Be=nn.length;do{if(qt=nn[Be],hn=nn.substring(0,Be),qt?qt.match(y)&&(hn+=qt):hn+="string"==typeof y?y:" ",A.data=hn+=Ht,h.getComputedTextLength()<=s){rt[kt]=hn;break}Be--}while(Be>=0);break}}}return r.svgDocument?l.removeChild(d):document.body.removeChild(l),rt.join(p)},Pa=function(t){var e=pe(pe.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var n=this;pe.each(n.attributes,function(){var s=this.name,u=this.value;(s.startsWith("on")||u.startsWith("javascript:")||u.startsWith("data:")||u.startsWith("vbscript:"))&&pe(n).removeAttr(s)})}),e.html()},N=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,r,s,u;return n=r=s=u=0,isFinite(t.vertical)&&(n=s=+t.vertical),isFinite(t.horizontal)&&(r=u=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(r=+t.right),isFinite(t.bottom)&&(s=+t.bottom),isFinite(t.left)&&(u=+t.left),{top:n,right:r,bottom:s,left:u}},z={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var r=(11-6*e-11*t)/4;return-r*r+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(r){var s=t(r);return s<e?e:s>n?n:s}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},_={number:function(t,e){var n=e-t;return function(r){return t+n*r}},object:function(t,e){var n=Object.keys(t);return function(r){var s,u,l={};for(s=n.length-1;-1!=s;s--)l[u=n[s]]=t[u]+(e[u]-t[u])*r;return l}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),s=255&n,u=(255&r)-s,l=65280&n,h=(65280&r)-l,d=16711680&n,A=(16711680&r)-d;return function(y){return"#"+(1<<24|s+u*y&255|l+h*y&65280|d+A*y&16711680).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),s=n.exec(e),u=s[1].indexOf("."),l=u>0?s[1].length-u-1:0,h=+s[1]-(t=+r[1]),d=r[2];return function(A){return(t+h*A).toFixed(l)+d}}},H={outline:function(t){var n=Number.isFinite(t.margin)?t.margin:2,r=Number.isFinite(t.width)?t.width:1;return Q('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(t){return Q('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return Q('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Q(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Q('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Q('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Q('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return Q('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Q('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return Q('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Q('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},Q=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(r){for(var s=Array.from(arguments),u=s.slice(1,4).find(function(d){return!!d}),l=u.split("."),h=n[l.shift()];void 0!==h&&l.length;)h=h[l.shift()];return void 0!==h?h:""})}},b=Kt.assign,D=Kt.defaults,Y=Kt.defaultsDeep,W=Kt.invokeMap||Kt.invoke,it=Kt.sortedIndexBy||Kt.sortedIndex,gt=Kt.uniqBy||Kt.uniq,bt=Kt.clone,ot=Kt.cloneDeep,mt=Kt.isEmpty,Zt=Kt.isEqual,Rt=Kt.isFunction,Ot=Kt.isPlainObject,Ut=Kt.toArray,wr=Kt.groupBy,ee=Kt.flattenDeep,Hn=Kt.without,ze=Kt.difference,xs=Kt.union,Fr=Kt.has,Ue=Kt.result,br=Kt.omit,Ni=Kt.pick,Wn=Kt.forIn,Xr=Kt.camelCase,Vi=Kt.uniqueId,kn=function(){if(Kt.mergeWith){var t=Array.from(arguments),e=t[t.length-1],n=Rt(e)?e:Ea;return t.push(function(r,s){var u=n(r,s);return void 0!==u?u:Array.isArray(r)&&!Array.isArray(s)?s:void 0}),Kt.mergeWith.apply(this,t)}return Kt.merge.apply(this,arguments)},fn=function(t){return!!t&&("object"==typeof t||"function"==typeof t)},me=function(t){return"number"==typeof t||!!t&&"object"==typeof t&&"[object Number]"===Object.prototype.toString.call(t)},vn=function(t){return"string"==typeof t||!!t&&"object"==typeof t&&"[object String]"===Object.prototype.toString.call(t)},Ea=function(){};var t,e;function Oa(t){t=gt(t);const e=Ut(t).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Ut(t).forEach(function(n){const r=e[n.id];if(r.isLink()){const l=r.source(),h=r.target();l.id&&e[l.id]&&r.prop("source/id",e[l.id].id),h.id&&e[h.id]&&r.prop("target/id",e[h.id].id)}const s=n.get("parent");s&&e[s]&&r.set("parent",e[s].id);const u=Ut(n.get("embeds")).reduce(function(l,h){return e[h]&&l.push(e[h].id),l},[]);mt(u)||r.set("embeds",u)}),e}const Mi={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},gr=Object.keys(Mi).map(t=>Mi[t]).join(""),ja="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Hs=/\s/g,ro=new RegExp(`^(${ja}\\*)?([${gr}])([-+]{1,2}${ja})?$`,"g");function io(t){throw new Error(`Invalid calc() expression: ${t}`)}function iu(t,e){const n=ro.exec(t.replace(Hs,""));n||io(t),ro.lastIndex=0;const[,r=1,s,u=0]=n,{x:l,y:h,width:d,height:A}=e;let y=0;switch(s){case Mi.width:y=d;break;case Mi.height:y=A;break;case Mi.x:y=l;break;case Mi.y:y=h;break;case Mi.minimum:y=Math.min(A,d);break;case Mi.maximum:y=Math.max(A,d);break;case Mi.diagonal:y=Math.sqrt(A*A+d*d)}return parseFloat(r)*y+function Ga(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}(u)}function so(t){return"string"==typeof t&&t.includes("calc")}const zo="calc(".length;function oi(t,e){let n=t,r=0;for(;;){let s=n.indexOf("calc(",r);if(-1===s)return n;let u=s+zo,l=1;t:for(;;){switch(n[u]){case"(":l++;break;case")":if(l--,0===l)break t;break;case void 0:io(n)}u++}let h=n.slice(s+zo,u);so(h)&&(h=oi(h,e));const d=String(iu(h,e));n=n.slice(0,s)+d+n.slice(u+1),r=s+d.length}}function os(t,e){return function(n,r){var s=hr(n);n=parseFloat(n),s&&(n/=100);var u={};if(isFinite(n)){var l=s||n>=0&&n<=1?n*r[e]:Math.max(n+r[e],0);u[t]=l}return u}}function Js(t,e,n){return function(r,s){var l,u=hr(r);if(r=parseFloat(r),u&&(r/=100),isFinite(r)){var h=s[n]();l=u||r>0&&r<1?h[t]+s[e]*r:h[t]+r}var d=m();return d[t]=l||0,d}}function ui(t,e,n){return function(r,s){var u;u="middle"===r?s[e]/2:r===n?s[e]:isFinite(r)?r>-1&&r<1?-s[e]*r:-r:hr(r)?s[e]*parseFloat(r)/100:0;var l=m();return l[t]=-(s[t]+u),l}}function vi(t,e){var n="joint-shape",r=e&&e.resetOffset;return function(s,u,l){var h=pe(l),d=h.data(n);if(!d||d.value!==s){var A=t(s);d={value:s,shape:A,shapeBBox:A.bbox()},h.data(n,d)}var y=d.shape.clone(),p=d.shapeBBox.clone(),P=p.origin(),j=u.origin();p.x=j.x,p.y=j.y;var B=u.maxRectScaleToFit(p,j);return y.scale(0===p.width||0===u.width?1:B.sx,0===p.height||0===u.height?1:B.sy,P),r&&y.translate(-P.x,-P.y),y}}function Si(t){var n=vi(function e(r){return new Yt(pt.normalizePathData(r))},t);return function(r,s,u){return{d:n(r,s,u).serialize()}}}function Ks(t){var e=vi($e,t);return function(n,r,s){return{points:e(n,r,s).serialize()}}}function ga(t,e){var n=new m(1,0);return function(r){var s,u,l=this[t](r);return l?(u=e.rotate?l.vector().vectorAngle(n):0,s=l.start):(s=this.path.start,u=0),0===u?{transform:"translate("+s.x+","+s.y+")"}:{transform:"translate("+s.x+","+s.y+") rotate("+u+")"}}}function ko(t){return function(n,r,s){const u=pt(s);u.attr(t)!==n&&u.attr(t,n)}}function Ye(t,e,n){return void 0!==n.text}function Vr(){return this.model.isLink()}function bn(t){var e={},n=t.stroke;"string"==typeof n&&(e.stroke=n,e.fill=n);var r=t.strokeOpacity;return void 0===r&&(r=t["stroke-opacity"]),void 0===r&&(r=t.opacity),void 0!==r&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),e}function Hr(t){const{paper:e}=this;return`url(#${"pattern"===t.type?e.definePattern(t):e.defineGradient(t)})`}const Ae={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:ko("href")},xlinkHref:{set:ko("xlink:href")},filter:{qualify:Ot,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Ot,set:Hr},stroke:{qualify:Ot,set:Hr},sourceMarker:{qualify:Ot,set:function(t,e,n,r){return t=b(bn(r),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Ot,set:function(t,e,n,r){return t=b(bn(r),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Ot,set:function(t,e,n,r){return t=b(bn(r),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!Ot(n.textWrap)},set:function(t,e,n,r){var s=pe(n),u="joint-text",l=s.data(u),h=Ni(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:d}=h;so(d)&&(h.x=oi(d,e));var A=h.fontSize=r["font-size"]||r.fontSize,y=JSON.stringify([t,h]);if(void 0===l||l!==y){A&&n.setAttribute("font-size",A);var p=h.textPath;if(fn(p)){var P=p.selector;if("string"==typeof P){var j=this.findBySelector(P)[0];j instanceof SVGPathElement&&(h.textPath=b({"xlink:href":"#"+j.id},p))}}pt(n).text(""+t,h),s.data(u,y)}}},textWrap:{qualify:Ot,set:function(t,e,n,r){var s=t.width||0,u={};u.width=hr(s)?e.width*parseFloat(s)/100:s<=0?e.width+s:s;var l=t.height||0;u.height=hr(l)?e.height*parseFloat(l)/100:l<=0?e.height+l:l;var h,d=t.text;void 0===d&&(d=r.text),h=void 0!==d?ws(""+d,u,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,maxLineCount:t.maxLineCount}):"",Ae.text.set.call(this,h,e,n,r)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var r=pe(n),s="joint-title",u=r.data(s);if(void 0===u||u!==t){r.data(s,t);var l=n.firstChild;if(l&&"TITLE"===l.tagName.toUpperCase())l.textContent=t;else{var h=document.createElementNS(n.namespaceURI,"title");h.textContent=t,n.insertBefore(h,l)}}}},lineHeight:{qualify:Ye},textVerticalAnchor:{qualify:Ye},textPath:{qualify:Ye},annotations:{qualify:Ye},eol:{qualify:Ye},displayEmpty:{qualify:Ye},port:{set:function(t){return null===t||void 0===t.id?t:t.id}},style:{qualify:Ot,set:function(t,e,n){pe(n).css(t)}},html:{set:function(t,e,n){pe(n).html(t+"")}},ref:{},refX:{position:Js("x","width","origin")},refY:{position:Js("y","height","origin")},refDx:{position:Js("x","width","corner")},refDy:{position:Js("y","height","corner")},refWidth:{set:os("width","width")},refHeight:{set:os("height","height")},refRx:{set:os("rx","width")},refRy:{set:os("ry","height")},refRInscribed:{set:function(t){var e=os("r","width"),n=os("r","height");return function(r,s){return(s.height>s.width?e:n)(r,s)}}()},refRCircumscribed:{set:function(t,e){var n=hr(t);t=parseFloat(t),n&&(t/=100);var s,r=Math.sqrt(e.height*e.height+e.width*e.width);return isFinite(t)&&(s=n||t>=0&&t<=1?t*r:Math.max(t+r,0)),{r:s}}},refCx:{set:os("cx","width")},refCy:{set:os("cy","height")},xAlignment:{offset:ui("x","width","right")},yAlignment:{offset:ui("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:Si({resetOffset:!0})},refDKeepOffset:{set:Si({resetOffset:!1})},refPointsResetOffset:{set:Ks({resetOffset:!0})},refPointsKeepOffset:{set:Ks({resetOffset:!1})},connection:{qualify:Vr,set:function({stubs:t=0}){let e;if(isFinite(t)&&0!==t){let n;n=t<0?(this.getConnectionLength()+t)/2:t;const r=this.getConnection(),s=r.divideAtLength(n),u=r.divideAtLength(-n);s&&u&&(e=`${s[0].serialize()} ${u[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Vr,set:ga("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Vr,set:ga("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Vr,set:ga("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Vr,set:ga("getTangentAtRatio",{rotate:!1})}};Ae["xlink:href"]=Ae.xlinkHref,["transform","d","points","width","height","cx","cy","r","rx","ry","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{Ae[t]={qualify:so,set:function(n,r){return{[t]:oi(n,r)}}}}),Ae.refR=Ae.refRInscribed,Ae.refD=Ae.refDResetOffset,Ae.refPoints=Ae.refPointsResetOffset,Ae.atConnectionLength=Ae.atConnectionLengthKeepGradient,Ae.atConnectionRatio=Ae.atConnectionRatioKeepGradient,Ae.refX2=Ae.refX,Ae.refY2=Ae.refY,Ae.refWidth2=Ae.refWidth,Ae.refHeight2=Ae.refHeight,Ae["ref-x"]=Ae.refX,Ae["ref-y"]=Ae.refY,Ae["ref-dy"]=Ae.refDy,Ae["ref-dx"]=Ae.refDx,Ae["ref-width"]=Ae.refWidth,Ae["ref-height"]=Ae.refHeight,Ae["x-alignment"]=Ae.xAlignment,Ae["y-alignment"]=Ae.yAlignment;const ao=Ae,Ti=Qe.Model.extend({constructor:function(t,e){var n,r=t||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=Vi("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=Ue(this,"defaults"))&&(r=kn({},n,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=Ue(this.constructor.prototype,"defaults").attrs||{},r={};Wn(this.attributes.attrs,function(u,l){const h=e[l];Wn(u,function(d,A){fn(d)&&!Array.isArray(d)?Wn(d,function(y,p){(!h||!h[A]||!Zt(h[A][p],y))&&(r[l]=r[l]||{},(r[l][A]||(r[l][A]={}))[p]=y)}):(!h||!Zt(h[A],d))&&(r[l]=r[l]||{},r[l][A]=d)})});const s=ot(br(this.attributes,"attrs"));return s.attrs=r,s},initialize:function(t){const e=this.getIdAttribute();(!t||!(e in t))&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},processPorts:function(){var t=this.ports,e={};Wn(this.get("attrs"),function(u,l){u&&u.port&&(void 0!==u.port.id?e[u.port.id]=u.port:e[u.port]={id:u.port})});var n={};Wn(t,function(u,l){e[l]||(n[l]=!0)}),this.graph&&!mt(n)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(u){n[u.get("target").port]&&u.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(u){n[u.get("source").port]&&u.remove()})),this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,t);const s=this.getEmbeddedCells();for(let u=0,l=s.length;u<l;u++){const h=s[u];h&&h.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=t||{};var r,n=e.maxZIndex();t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==t.breadthFirst})).unshift(this):r=[this],n=n-r.length+1;var s=e.get("cells"),u=s.indexOf(this)!==s.length-r.length;u||(u=r.some(function(l,h){return l.get("z")!==n+h})),u&&(this.startBatch("to-front"),n+=r.length,r.forEach(function(l,h){l.set("z",n+h,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=t||{};var r,n=e.minZIndex();t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==t.breadthFirst})).unshift(this):r=[this];var u=0!==e.get("cells").indexOf(this);u||(u=r.some(function(l,h){return l.get("z")!==n+h})),u&&(this.startBatch("to-back"),n-=r.length,r.forEach(function(l,h){l.set("z",n+h,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return void 0===t?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const r=b([],this.get("embeds"));t.forEach(s=>{r[s.isLink()?"unshift":"push"](s.id),s.parent(this.id,e)}),this.set("embeds",gt(r),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(r=>r.unset("parent",e)),this.set("embeds",Hn(this.get("embeds"),...t.map(r=>r.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();e.push(r),n.push.apply(n,r.getEmbeddedCells())}}else(e=this.getEmbeddedCells()).forEach(function(s){e.push.apply(e,s.getEmbeddedCells(t))});else e=Ut(this.get("embeds")).map(this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var n=vn(t)?t:t.id,r=this.parent();if(e=D({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if((t=t||{}).deep)return Ut(Oa([this].concat(this.getEmbeddedCells({deep:!0}))));var e=Qe.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var r="/",s=vn(t);if(s||Array.isArray(t)){if(arguments.length>1){var u,l;s?l=(u=t).split("/"):(u=t.join(r),l=t.slice());var h=l[0],d=l.length;if((n=n||{}).propertyPath=u,n.propertyValue=e,n.propertyPathArray=l,1===d)return this.set(h,e,n);for(var A={},y=A,p=h,P=1;P<d;P++){var j=l[P],B=Number.isFinite(s?Number(j):j);y=y[p]=B?[]:{},p=j}A=ss(A,l,e,"/");var et=kn({},this.attributes);n.rewrite&&as(et,u,"/");var rt=kn(et,A);return this.set(h,rt[h],n)}return Fi(this.attributes,t,r)}return this.set(kn({},this.attributes,t),e)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),r=n[0];if("attrs"===r&&(e.dirty=!0),1===n.length)return this.unset(t,e);var s=n.slice(1),u=ot(this.get(r));return as(u,s,"/"),this.set(r,u,e)},attr:function(t,e,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(r[0]=Array.isArray(t)?["attrs"].concat(t):vn(t)?"attrs/"+t:{attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/",n=b({duration:100,delay:10,timingFunction:z.linear,valueFunction:_.number},n);var l,u=0,h=function(p){var P,j,B;(j=(p-=u=u||p)/n.duration)<1?this._transitionIds[t]=P=Xs(h):(j=1,delete this._transitionIds[t]),B=l(n.timingFunction(j)),n.transitionId=P,this.prop(t,B,n),P||this.trigger("transition:end",this,t)}.bind(this);const{_scheduledTransitionIds:d}=this;let A;return A=setTimeout(p=>{d[t]&&(d[t]=Hn(d[t],A),0===d[t].length&&delete d[t]),this.stopPendingTransitions(t,r),l=n.valueFunction(Fi(this.attributes,t,r),e),this._transitionIds[t]=Xs(p),this.trigger("transition:start",this,t)},n.delay,h),d[t]||(d[t]=[]),d[t].push(A),A},getTransitions:function(){return xs(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(u=>Zt(s,u.split(e).slice(0,s.length)))}return r.forEach(s=>{n[s].forEach(l=>clearTimeout(l)),delete n[s]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(u=>Zt(s,u.split(e).slice(0,s.length)))}r.forEach(s=>{ha(n[s]),delete n[s],this.trigger("transition:end",this,s)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,b({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,b({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new m(0,0)},getPointFromConnectedLink:function(){return new m},getBBox:function(){return new Pt(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const r=new m(e,n);return t&&r.rotate(this.getBBox().center(),t),r},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes;return e&&e[t]||ao[t]},define:function(t,e,n,r){n=b({defaults:Y({type:t},e,this.prototype.defaults)},n);var s=this.extend(n,r);return typeof joint<"u"&&Fr(joint,"shapes")&&ss(joint.shapes,t,s,"."),s}});function Eo(t,e,n){var r=t.toJSON();return r.angle=e||0,D({},n,r)}function Qs(t,e,n){return t.map(function(r,s,u){var l=this.pointAt((s+.5)/u.length);return(r.dx||r.dy)&&l.offset(r.dx||0,r.dy||0),Eo(l.round(),0,r)},Et(e,n))}function mi(t,e,n,r){var s=e.center(),u=e.width/e.height,l=e.topMiddle(),h=ye.fromRect(e);return t.map(function(d,A,y){var p=n+r(A,y.length),P=l.clone().rotate(s,-p).scale(u,1,s),j=d.compensateRotation?-h.tangentTheta(P):0;return(d.dx||d.dy)&&P.offset(d.dx||0,d.dy||0),d.dr&&P.move(s,d.dr),Eo(P.round(),j,d)})}function nt(t,e){var n=e.x;vn(n)&&(n=parseFloat(n)/100*t.width);var r=e.y;return vn(r)&&(r=parseFloat(r)/100*t.height),R(n||0,r||0)}const Ct=function(t,e,n){return t.map(nt.bind(null,e))},dt=function(t,e,n){return n.fn(t,e,n)},_t=function(t,e,n){return Qs(t,nt(e,n.start||e.origin()),nt(e,n.end||e.corner()))},fe=function(t,e,n){return Qs(t,e.origin(),e.bottomLeft())},Fe=function(t,e,n){return Qs(t,e.topRight(),e.corner())},Sn=function(t,e,n){return Qs(t,e.origin(),e.topRight())},en=function(t,e,n){return Qs(t,e.bottomLeft(),e.corner())},da=function(t,e,n){var s=n.step||360/t.length;return mi(t,e,n.startAngle||0,function(u){return u*s})},su=function(t,e,n){var s=n.step||20;return mi(t,e,n.startAngle||0,function(u,l){return(u+.5-l/2)*s})};function k(t,e){return Y({},t,e,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function U(t,e,n,r){r=D({},r,{offset:15});var l,h,d,A,s=e.center().theta(t),u=q(e),y=r.offset,p=0;s<u[1]||s>u[2]?(d=".3em",l=y,h=0,A="start"):s<u[0]?(d="0",l=0,h=-y,n?(p=-90,A="start"):A="middle"):s<u[3]?(d=".3em",l=-y,h=0,A="end"):(d=".6em",l=0,h=y,n?(p=90,A="start"):A="middle");var P=Math.round;return k({x:P(l),y:P(h),angle:p,attrs:{".":{y:d,"text-anchor":A}}})}function q(t){var e=t.center(),n=e.theta(t.origin()),r=e.theta(t.bottomLeft()),s=e.theta(t.corner());return[n,e.theta(t.topRight()),s,r]}function At(t,e,n,r){var u,l,h,d,s=e.center().theta(t),A=(r=D({},r,{offset:15})).offset,y=0,p=q(e);s<p[1]||s>p[2]?(h=".3em",u=-A,l=0,d="end"):s<p[0]?(h=".6em",u=0,l=A,n?(y=90,d="start"):d="middle"):s<p[3]?(h=".3em",u=A,l=0,d="start"):(h="0em",u=0,l=-A,n?(y=-90,d="start"):d="middle");var P=Math.round;return k({x:P(u),y:P(l),angle:y,attrs:{".":{y:h,"text-anchor":d}}})}function st(t,e,n){n=D({},n,{offset:20});var d,r=R(0,0),s=-t.theta(r),u=s,l=t.clone().move(r,n.offset).difference(t).round(),h=".3em";(s+90)%180==0?(d=e?"end":"middle",!e&&-270===s&&(h="0em")):s>-270&&s<-90?(d="start",u=s-180):d="end";var A=Math.round;return k({x:A(l.x),y:A(l.y),angle:e?u:0,attrs:{".":{y:h,"text-anchor":d}}})}const wt=function(t,e,n){return k(n,e)},It=function(t,e,n){return k(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},zt=function(t,e,n){return k(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},jt=function(t,e,n){return k(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},Qt=function(t,e,n){return k(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},$t=function(t,e,n){return U(t,e,!0,n)},oe=function(t,e,n){return U(t,e,!1,n)},xe=function(t,e,n){return At(t,e,!0,n)},Je=function(t,e,n){return At(t,e,!1,n)},Vt=function(t,e,n){return st(t.difference(e.center()),!1,n)},Tn=function(t,e,n){return st(t.difference(e.center()),!0,n)};var Kn=function(t){var e=ot(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=mr,this.portLabelLayoutNamespace=se,this._init(e)};Kn.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),r=this.getPortsByGroup(t),s=n.position||{},u=s.name,l=this.portLayoutNamespace;l[u]||(u="left");var h=s.args||{},d=r.map(function(p){return p&&p.position&&p.position.args}),A=l[u](d,e,h),y={ports:r,result:[]};return Ut(A).reduce(function(p,P,j){var B=p.ports[j];return p.result.push({portId:B.id,portTransformation:P,labelTransformation:this._getPortLabelLayout(B,m(P),e),portAttrs:B.attrs,portSize:B.size,labelSize:B.label.size}),p}.bind(this),y),y.result},_getPortLabelLayout:function(t,e,n){var r=this.portLabelLayoutNamespace,s=t.label.position.name||"left";return r[s]?r[s](e,n,t.label.position.args):null},_init:function(t){if(fn(t.groups))for(var e=Object.keys(t.groups),n=0,r=e.length;n<r;n++){var s=e[n];this.groups[s]=this._evaluateGroup(t.groups[s])}for(var u=Ut(t.items),l=0,h=u.length;l<h;l++)this.ports.push(this._evaluatePort(u[l]))},_evaluateGroup:function(t){return kn(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=b({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=kn({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=kn({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=b({},n.size,e.size),e},_getZIndex:function(t,e){return me(e.z)?e.z:me(t.z)||"auto"===t.z?t.z:"auto"},_createPositionNode:function(t,e){return kn({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var r,n={};Rt(t)?(r="fn",n.fn=t):vn(t)?r=t:void 0===t?r=e?"left":null:Array.isArray(t)?(r="absolute",n.x=t[0],n.y=t[1]):fn(t)&&(r=t.name,b(n,t.args));var s={args:n};return r&&(s.name=r),s},_getLabel:function(t,e){var n=t.label||{},r=n;return r.position=this._getPosition(n.position,e),r}};const dr={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};Ut(t.items).forEach(function(h){e[h.id]=!0});var n=this.previous("ports")||{},r={};Ut(n.items).forEach(function(h){e[h.id]||(r[h.id]=!0)});var s=this.graph;s&&!mt(r)&&(s.getConnectedLinks(this,{inbound:!0}).forEach(function(h){r[h.get("target").port]&&h.remove()}),s.getConnectedLinks(this,{outbound:!0}).forEach(function(h){r[h.get("source").port]&&h.remove()}))},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return-1!==this.getPortIndex(t)},getPorts:function(){return ot(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=Ut(this.prop(["ports","items"])).filter(n=>n.group===t);return ot(e)},getPort:function(t){return ot(Ut(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){return this._portSettingsData.getGroupPortsMetrics(t,Pt(this.size())).reduce(function(n,r){var s=r.portTransformation;return n[r.portId]={x:s.x,y:s.y,angle:s.angle},n},{})},getPortIndex:function(t){var e=fn(t)?t.id:t;return this._isValidPortId(e)?Ut(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!fn(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=b([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const r="number"==typeof t?t:this.getPortIndex(t);if(!fn(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const s=b([],this.prop("ports/items"));return s.splice(r,0,e),this.prop("ports/items",s,n),this},portProp:function(t,e,n,r){var s=this.getPortIndex(t);if(-1===s)throw new Error("Element: unable to find port with id "+t);var u=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?u[0]=["ports","items",s].concat(e):vn(e)?u[0]=["ports/items/",s,"/",e].join(""):(u=["ports/items/"+s],Ot(e)&&(u.push(e),u.push(n))),this.prop.apply(this,u)},_validatePorts:function(){var t=this.get("ports")||{},e=[],n=Ut((t=t||{}).items);return n.forEach(function(r){"object"!=typeof r&&e.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),gt(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return null!=t&&!fn(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",b([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},r=this.getPortIndex(t);if(-1!==r){const s=b([],this.prop(["ports","items"]));s.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],s,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,r;if(Array.isArray(t)){if(n=e||{},0===t.length)return this.this;r=b([],this.prop(["ports","items"])).filter(function(u){return!t.some(function(l){const h=fn(l)?l.id:l;return u.id===h})})}else n=t||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e,t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new Kn(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(u){if(!e.find(function(l){return l.id===u.id}))return u}),s=e.filter(function(u){if(!n.find(function(l){return l.id===u.id}))return u});s.length>0&&this.trigger("ports:remove",this,s),r.length>0&&this.trigger("ports:add",this,r)}}},mn={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,r=e.node.childNodes.length;n<r;n++)t.push(e.node.childNodes[n]);var s=wr(this.model._portSettingsData.getPorts(),"z"),u="auto";Ut(s[u]).forEach(function(y){var p=this._getPortElement(y);e.append(p),t.push(p)},this);for(var l=Object.keys(s),h=0;h<l.length;h++){var d=l[h];if(d!==u){var A=parseInt(d,10);this._appendPorts(s[d],A,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var r=this._getContainerElement(),s=Ut(t).map(this._getPortElement,this);n[e]||e<0?pt(n[Math.max(e,0)]).before(s):r.append(s)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const n=this._portElementsCache[t];if(!n)return null;const r=n.portContentElement.node,s=n.portContentSelectors,[u=null]=this.findBySelector(e,r,s);return u},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){W(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,r,s;var u=pt(this.portContainerMarkup).addClass("joint-port"),l=this._getPortMarkup(t);if(Array.isArray(l)){var h=this.parseDOMJSON(l,u.node),d=h.fragment;e=d.childNodes.length>1?pt("g").append(d):pt(d.firstChild),s=h.selectors}else e=pt(l),Array.isArray(e)&&(e=pt("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const A=this._getPortLabelMarkup(t.label);if(Array.isArray(A)){const{fragment:P,selectors:j}=this.parseDOMJSON(A,u.node),B=P.childNodes.length;B>0&&(r=j,n=1===B?pt(P.firstChild):pt("g").append(P))}else n=pt(A),Array.isArray(n)&&(n=pt("g").append(n));var y;if(s&&r){for(var p in r)if(s[p]&&p!==this.selector)throw new Error("ElementView: selectors within port must be unique.");y=b({},s,r)}else y=s||r;return u.append(e.addClass("joint-port-body")),n&&u.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:u,portLabelElement:n,portSelectors:y,portLabelSelectors:r,portContentElement:e,portContentSelectors:s},u},_updatePortGroup:function(t){for(var e=Pt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),r=0,s=n.length;r<s;r++){var u=n[r],h=this._portElementsCache[u.portId]||{},d=u.portTransformation;this.applyPortTransform(h.portElement,d),this.updateDOMSubtreeAttributes(h.portElement.node,u.portAttrs,{rootBBox:new Pt(u.portSize),selectors:h.portSelectors});var A=u.labelTransformation;A&&h.portLabelElement&&(this.applyPortTransform(h.portLabelElement,A,-d.angle||0),this.updateDOMSubtreeAttributes(h.portLabelElement.node,A.attrs,{rootBBox:new Pt(u.labelSize),selectors:h.portLabelSelectors}))}},applyPortTransform:function(t,e,n){var r=pt.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(r,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},on=Ti.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Ti.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const r=me(e);n=(r?n:t)||{};const{parentRelative:s,deep:u,restrictedArea:l}=n;let h;if(s){if(!this.graph)throw new Error("Element must be part of a graph.");const d=this.getParentCell();d&&!d.isLink()&&(h=d.get("position"))}if(r){if(h&&(t+=h.x,e+=h.y),u||l){const{x:d,y:A}=this.get("position");this.translate(t-d,e-A,n)}else this.set("position",{x:t,y:e},n);return this}{const d=m(this.get("position"));return s?d.difference(h):d}},translate:function(t,e,n){if(e=e||0,0===(t=t||0)&&0===e)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},s=n.restrictedArea;if(s&&n.translateBy===this.id)if("function"==typeof s){var u=s.call(this,r.x+t,r.y+e,n);t=u.x-r.x,e=u.y-r.y}else{var l=this.getBBox({deep:!0}),h=r.x-l.x,d=r.y-l.y,A=Math.max(s.x+h,Math.min(s.x+s.width+h-l.width,r.x+t)),y=Math.max(s.y+d,Math.min(s.y+s.height+d-l.height,r.y+e));t=A-r.x,e=y-r.y}var p={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(fn(n.transition)||(n.transition={}),this.transition("position",p,b({},n.transition,{valueFunction:_.object})),W(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",p,n),W(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var r=this.get("size");return void 0===t?{width:r.width,height:r.height}:(fn(t)&&(n=e,e=me(t.height)?t.height:r.height,t=me(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,n){if(this.startBatch("resize",n=n||{}),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width}var l,s=qn(this.get("angle")||0),u=this.getBBox();if(s){var h={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(h+=Math.floor((s+45)/90),h%=4);var d=u[["bottomLeft","corner","topRight","origin"][h]](),A=m(d).rotate(u.center(),-s),y=Math.sqrt(t*t+e*e)/2,p=h*Math.PI/2;p+=Math.atan(h%2==0?e/t:t/e),p-=ln(s);var P=m.fromPolar(y,p,A);l=m(P).offset(t/-2,e/-2)}else switch(l=u.topLeft(),n.direction){case"top":case"top-right":l.offset(0,u.height-e);break;case"left":case"bottom-left":l.offset(u.width-t,0);break;case"top-left":l.offset(u.width-t,u.height-e)}this.set("size",{width:t,height:e},n),this.position(l.x,l.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,r){var s=this.getBBox().scale(t,e,n);return this.startBatch("scale",r),this.position(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this},fitEmbeds:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(p=>p.isElement());if(0===n.length)return this;this.startBatch("fit-embeds",t),t.deep&&W(n,"fitEmbeds",t);const{left:r,right:s,top:u,bottom:l}=N(t.padding);let{x:h,y:d,width:A,height:y}=e.getCellsBBox(n);return h-=r,d-=u,A+=r+s,y+=l+u,this.set({position:{x:h,y:d},size:{width:A,height:y}},t),this.stopBatch("fit-embeds"),this},rotate:function(t,e,n,r){if(n){var s=this.getBBox().center(),u=this.get("size"),l=this.get("position");s.rotate(n,this.get("angle")-t);var h=s.x-u.width/2-l.x,d=s.y-u.height/2-l.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(l.x+h,l.y+d,r),this.rotate(t,e,null,r),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,r);return this},angle:function(){return qn(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:r,rotate:s}=t;if(r&&e){const p=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return p.push(this),e.getCellsBBox(p,t)}const{angle:u=0,position:{x:l,y:h},size:{width:d,height:A}}=n,y=new Pt(l,h,d,A);return s&&y.rotateAroundCenter(u),y},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),r=n.center(),s=t.get(e);if(!s)return r;var u=s.port;if(!u||!this.hasPort(u))return r;var l=this.portProp(u,["group"]),h=this.getPortsPositions(l),d=new m(h[u]).offset(n.origin()),A=this.angle();return A&&d.rotate(r,-A),d}});b(on.prototype,dr);const Pr={},_n=Qe.View.extend({options:{},theme:null,themeClassNamePrefix:An("theme-"),requireSetThemeOverride:!1,defaultTheme:sr.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=b({},this.options,t),Qe.View.call(this,t)},initialize:function(){Pr[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},renderChildren:function(t){if(t||(t=Ue(this,"children")),t){var e=this.svgElement,r=Ur(t,pt.namespace[e?"svg":"xhtml"]);(e?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(t,e){for(var n=e;n&&1===n.nodeType;){var r=n.getAttribute(t);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Ue(this,"el"));else{var t=Ue(this,"tagName"),e=b({},Ue(this,"attributes")),n=b({},Ue(this,"style"));this.id&&(e.id=Ue(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(pt.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof Qe.$?t:Qe.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=pt(this.el))},_ensureElClassName:function(){var t=Ue(this,"className");if(t){var e=An(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override||(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t),this},addThemeClassName:function(t){if(!(t=t||this.theme))return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){var e=this.themeClassNamePrefix+(t=t||this.theme);return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Pr[this.cid]=null,Qe.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var r=this.getEventNamespace();for(var s in e){var u=e[s];"function"!=typeof u&&(u=this[u]),u&&pe(t).on(s+r,n,u.bind(this))}return this},undelegateElementEvents:function(t){return pe(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=Ue(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,r="__"+this.cid+"__";return void 0===e?n&&n[r]||{}:(n||(n=t.data={}),n[r]||(n[r]={}),b(n[r],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&b({},t[0])||{},n=t[1]&&b({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return"function"==typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},e.render.__render__=r,Qe.View.extend.call(this,e,n)}});if(pe.event&&!("dbltap"in pe.event.special)){const t=sr.doubleTapInterval,e=30;pe.event.special.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:s,target:u}=n,l=pe.data(u),h=(new Date).getTime(),d="lastTouch"in l?h-l.lastTouch:0;d<t&&d>e?(l.lastTouch=null,n.type=s.origType,s.handler.call(this,n,...r)):l.lastTouch=h}}}function Ns(t){return t?Array.isArray(t)?t:[t]:[]}const Ji=_n.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,transformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return this.update(t,e),this.mount(),this.transform(),0},findNode(t,e=null){let n;if("string"==typeof e)[n]=t.findBySelector(e);else if(Ot(e)){const r=t.model.isLink(),{label:s=null,port:u,selector:l}=e;r&&null!==s?n=t.findLabelNode(s,l):!r&&u?n=t.findPortNode(u,l):[n]=t.findBySelector(l)}else e&&(n=pt.toNode(e),n instanceof SVGElement||(n=null));return n||null},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:r,transformGroup:s}=this;if(!t||s)return;const{vel:u,paper:l}=e,{layer:h}=r;if(h){const d=this.transformGroup=pt("g").addClass("highlight-transform").append(n);l.getLayerView(h).insertSortedNode(d.node,r.z)}else(!n.parentNode||n.nextSibling)&&u.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;!t||(e?(this.transformGroup=null,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const r=e.getRootTranslateMatrix(),s=e.getRootRotateMatrix(),u=r.multiply(s);t.attr("transform",pt.matrixToTransformString(u))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:r,id:s}=this;if(r)return;const u=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),u?(this.highlight(e,u),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",s,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:r}=this;t&&this.unhighlight(e,t),this.unmount(),r._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){}},{_views:{},highlight:function(t,e,n){const r=this.uniqueId(e,n);this.add(t,e,r,n)},unhighlight:function(t,e,n){const r=this.uniqueId(e,n);this.remove(t,r)},get(t,e=null){const{cid:n}=t,{_views:r}=this,s=r[n];if(null===e){const u=[];if(!s)return u;for(let l in s){const h=s[l];h instanceof this&&u.push(h)}return u}if(!s)return null;if(e in s){const u=s[e];if(u instanceof this)return u}return null},add(t,e,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const s=Ji.get(t,n);s&&s.remove();const u=new this(r);return u.id=n,this._addRef(t,n,u),u.requestUpdate(t,e),u},_addRef(t,e,n){const{cid:r}=t,{_views:s}=this;let u=s[r];u||(u=s[r]={}),u[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:r}=this,s=r[n];if(s){e&&delete s[e];for(let u in s)return;delete r[n]}},remove(t,e=null){Ns(this.get(t,e)).forEach(n=>{n.remove()})},update(t,e=null,n=!1){Ns(this.get(t,e)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(t,e=null){Ns(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},uniqueId:(t,e="")=>pt.ensureId(t)+JSON.stringify(e)}),Ba={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},je=_n.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,r,s){t.push("type-"+s.slice(0,r+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var r,s,u,t={},e={},n=0,l=Ue(this,"presentationAttributes");for(var h in l)if(l.hasOwnProperty(h)){var d=l[h];for(Array.isArray(d)||(d=[d]),r=0,s=d.length;r<s;r++){var A=t[u=d[r]];A||(A=t[u]=1<<n++),e[h]|=A}}var y=Ue(this,"initFlag");for(Array.isArray(y)||(y=[y]),r=0,s=y.length;r<s;r++)t[u=y[r]]||(t[u]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)n|=e[t[r]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||ys(this),_n.call(this,t)},initialize:function(){this.setFlags(),_n.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},onMount(){},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=Ur(t),r=n.selectors,s=n.groupSelectors;for(var u in s){if(r[u])throw new Error("dia.CellView: ambiguous group selector");r[u]=s[u]}if(e){var l=this.selector;if(r[l])throw new Error("dia.CellView: ambiguous root selector.");r[l]=e}return{fragment:n.fragment,selectors:r}},can:function(t){var e=Rt(this.options.interactive)?this.options.interactive(this):this.options.interactive;return fn(e)&&!1!==e[t]||function(t){return!0===t||!1===t||!!t&&"object"==typeof t&&"[object Boolean]"===Object.prototype.toString.call(t)}(e)&&!1!==e},findBySelector:function(t,e,n){if(e||(e=this.el),n||(n=this.selectors),!t||"."===t)return[e];if(n){var r=n[t];if(r)return Array.isArray(r)?r:[r]}return sr.useCSSSelectors?pe(e).find(t).toArray():[]},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix(),s=this.getRootRotateMatrix();return pt.transformRect(e,r.multiply(s).multiply(n))},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix();return pt.transformRect(e,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model.position();return pt.createSVGMatrix().translate(e.x,e.y)},getRootRotateMatrix:function(){var t=pt.createSVGMatrix(),e=this.model,n=e.angle();if(n){var r=e.getBBox(),s=r.width/2,u=r.height/2;t=t.translate(s,u).rotate(n).translate(-s,-u)}return t},_notifyHighlight:function(t,e,n={}){const{el:r}=this;let s;if([s=r]="string"==typeof e?this.findBySelector(e):this.$(e),n.partial=s!==r,void 0===n.type){let u;switch(!0){case n.embedding:u=Ba.EMBEDDING;break;case n.connecting:u=Ba.CONNECTING;break;case n.magnetAvailability:u=Ba.MAGNET_AVAILABILITY;break;case n.elementAvailability:u=Ba.ELEMENT_AVAILABILITY;break;default:u=Ba.DEFAULT}n.type=u}return this.notify(t,s,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const r=n.getAttribute("magnet"),s=n===e;if((r||s)&&"false"!==r)return n;if(s)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return t},getSelector:function(t,e){var n;if(t===this.el)return"string"==typeof e&&(n="> "+e),n;if(t){var r=pt(t).index()+1;n=t.tagName+":nth-child("+r+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var r=this.paper,s=r.model,u=r.getDefaultLink(this,t);return u.set({source:this.getLinkEnd(t,e,n,u,"source"),target:{x:e,y:n}}).addTo(s,{async:!1,ui:!0}),u.findView(r)},getLinkEnd:function(t,...e){var n=this.model,r=n.id,s=this.findAttribute("port",t),u=t.getAttribute("joint-selector"),l={id:r};return null!=u&&(l.magnet=u),null!=s?(l.port=s,!n.hasPort(s)&&!u&&(l.selector=this.getSelector(t))):null==u&&this.el!==t&&(l.selector=this.getSelector(t)),this.customizeLinkEnd(l,t,...e)},customizeLinkEnd:function(t,e,n,r,s,u){const{paper:l}=this,{connectionStrategy:h}=l.options;if("function"==typeof h){var d=h.call(l,t,this,e,new m(n,r),s,u,l);if(d)return d}return t},getMagnetFromLinkEnd:function(t){var u,e=this.el,n=t.port,r=t.magnet,s=this.model;return null!=n&&s.isElement()&&s.hasPort(n)?u=this.findPortNode(n,r)||e:(r||(r=t.selector),!r&&null!=n&&(r='[port="'+n+'"]'),u=this.findBySelector(r,e,this.selectors)[0]),this.findProxyNode(u,"magnet")},dragLinkStart:function(t,e,n,r){this.model.startBatch("add-link");const s=this.addLinkFromMagnet(e,n,r);s.notifyPointerdown(t,n,r),s.eventData(t,s.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:s})},dragLink:function(t,e,n){var r=this.eventData(t),s=r.linkView;if(s)s.pointermove(t,e,n);else{var u=this.paper,l=u.options.magnetThreshold,h=this.getEventTarget(t),d=r.targetMagnet;if("onleave"===l){if(d===h||pt(d).contains(h))return}else if(u.eventData(t).mousemoved<=l)return;this.dragLinkStart(t,d,e,n)}},dragLinkEnd:function(t,e,n){var s=this.eventData(t).linkView;!s||(s.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){mt(e)||(t instanceof SVGElement?pt(t).attr(e):pe(t).attr(e))},processNodeAttributes:function(t,e){var n,r,s,u,l,h,d,A,y,p=[];for(n in e)!e.hasOwnProperty(n)||(r=e[n],!(s=this.getAttributeDefinition(n))||Rt(s.qualify)&&!s.qualify.call(this,r,t,e)?(h||(h={}),h[to(n)]=r):(vn(s.set)&&(h||(h={}),h[s.set]=r),null!==r&&p.push(n,s)));for(u=0,l=p.length;u<l;u+=2)r=e[n=p[u]],Rt((s=p[u+1]).set)&&(d||(d={}),d[n]=r),Rt(s.position)&&(A||(A={}),A[n]=r),Rt(s.offset)&&(y||(y={}),y[n]=r);return{raw:e,normal:h,set:d,position:A,offset:y}},updateRelativeAttributes:function(t,e,n,r){r||(r={});var s,u,h=e.raw||{},d=e.normal||{},A=e.set,y=e.position,p=e.offset;for(s in A){u=A[s];var P=this.getAttributeDefinition(s).set.call(this,u,n.clone(),t,h);fn(P)?b(d,P):void 0!==P&&(d[s]=P)}if(t instanceof HTMLElement)this.setNodeAttributes(t,d);else{var rt,ht,ft,j=d.transform,B=pt.transformStringToMatrix(j),et=m(B.e,B.f);if(j&&(d=br(d,"transform"),B.e=B.f=0),y||p){var w=this.getNodeScale(t,r.scalableNode);rt=w.sx,ht=w.sy}var T=!1;for(s in y)u=y[s],(ft=this.getAttributeDefinition(s).position.call(this,u,n.clone(),t,h))&&(et.offset(m(ft).scale(rt,ht)),T||(T=!0));this.setNodeAttributes(t,d);var L=!1;if(p){var Z=this.getNodeBoundingRect(t);if(Z.width>0&&Z.height>0){var X=pt.transformRect(Z,B).scale(1/rt,1/ht);for(s in p)u=p[s],(ft=this.getAttributeDefinition(s).offset.call(this,u,X,t,h))&&(et.offset(m(ft).scale(rt,ht)),L||(L=!0))}}(void 0!==j||T||L)&&(et.round(1),B.e=et.x,B.f=et.y,t.setAttribute("transform",pt.matrixToTransformString(B)))}},getNodeScale:function(t,e){var n,r;if(e&&e.contains(t)){var s=e.scale();n=1/s.sx,r=1/s.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=pt.ensureId(t),r=e[n];return r||(r=e[n]={}),r},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return void 0===e.boundingRect&&(e.boundingRect=pt(t).getBBox()),new Pt(e.boundingRect)},getNodeMatrix:function(t){var e=this.nodeCache(t);if(void 0===e.magnetMatrix){var n=this.rotatableNode||this.el;e.magnetMatrix=pt(t).getTransformToElement(n)}return pt.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return void 0===e.geometryShape&&(e.geometryShape=pt(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,r){var s,u,l,h,d={},A=[];for(var y in t)if(t.hasOwnProperty(y)&&Ot(l=t[y])){var p=n[y]=this.findBySelector(y,e,r);for(s=0,u=p.length;s<u;s++){var P=p[s];h=pt.ensureId(P);var j=r&&r[y]===P,B=d[h];if(B){B.array||(A.push(h),B.array=!0,B.attributes=[B.attributes],B.selectedLength=[B.selectedLength]);var et=B.attributes,rt=B.selectedLength;if(j)et.unshift(l),rt.unshift(-1);else{var ht=it(rt,u);et.splice(ht,0,l),rt.splice(ht,0,u)}}else d[h]={attributes:l,selectedLength:j?-1:u,node:P,array:!1}}}for(s=0,u=A.length;s<u;s++)(l=d[h=A[s]]).attributes=kn({},...l.attributes.reverse());return d},getEventTarget:function(t,e={}){const{target:n,type:r,clientX:s=0,clientY:u=0}=t;return e.fromPoint||"touchmove"===r||"touchend"===r?document.elementFromPoint(s,u):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=Pt()),n.selectors||(n.selectors=this.selectors);var h,d,A,y,p,r={},s={},u=[],l=[],P=n.roAttributes,j=this.findNodesAttributes(P||e,t,r,n.selectors),B=P?this.findNodesAttributes(e,t,r,n.selectors):j;for(var et in j)if((p=this.processNodeAttributes(d=(y=j[et]).node,A=y.attributes)).set||p.position||p.offset){var ft,rt=B[et]&&B[et].attributes,ht=rt&&void 0===A.ref?rt.ref:A.ref;if(ht){if(!(ft=(r[ht]||this.findBySelector(ht,t,n.selectors))[0]))throw new Error('dia.CellView: "'+ht+'" reference does not exist.')}else ft=null;if(h={node:d,refNode:ft,processedAttributes:p,allAttributes:rt},ft){var w=l.findIndex(function(Lt){return Lt.refNode===d});w>-1?l.splice(w,0,h):l.push(h)}else u.push(h)}else this.setNodeAttributes(d,p.normal);u.push(...l);for(var T,L=0,Z=u.length;L<Z;L++){d=(h=u[L]).node,ft=h.refNode;var X=pt(n.rotatableNode),at=ft?pt.ensureId(ft):"",ut=!!X&&!!ft&&X.contains(ft),vt=s[at];if(!vt){var Dt=ut?X:t;vt=s[at]=ft?pt(ft).getBBox({target:Dt}):n.rootBBox}P?(p=this.processNodeAttributes(d,h.allAttributes),this.mergeProcessedAttributes(p,h.processedAttributes)):p=h.processedAttributes;var Mt=vt;ut&&!X.contains(d)&&(T||(T=pt.transformStringToMatrix(X.attr("transform"))),Mt=pt.transformRect(vt,T)),this.updateRelativeAttributes(d,p,Mt,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),b(t.set,e.set),b(t.position,e.position),b(t.offset,e.offset);var n=t.normal&&t.normal.transform;void 0!==n&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return!(!e||t&&e.getName()!==t)},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){Ji.remove(this)},updateHighlighters:function(t=!1){Ji.update(this,null,t)},transformHighlighters:function(){Ji.transform(this)},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:r}=this,{graph:s}=r;s&&(r.startBatch("pointer"),this.eventData(t,{graph:s})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:r}=this.eventData(t);this.notify("cell:pointerup",t,e,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,r){this.notify("cell:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){this.notify(e,t,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e}=this;e.isAsync()&&e.dumpView(this);const n=this.getEventTarget(t,{fromPoint:!0}),r=e.findView(n);r!==this&&(this.mouseleave(t),r&&r.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Highlighting:Ba,addPresentationAttributes:function(t){return kn({},Ue(this.prototype,"presentationAttributes"),t,function(e,n){if(e&&n&&("string"==typeof e&&(e=[e]),"string"==typeof n&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return gt(e.concat(n))})}}),Ge={UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",TOOLS:"TOOLS",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},En=je.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=je.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){je.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Ge.UPDATE],position:[Ge.TRANSLATE,Ge.TOOLS],size:[Ge.RESIZE,Ge.PORTS,Ge.TOOLS],angle:[Ge.ROTATE,Ge.TOOLS],markup:[Ge.RENDER],ports:[Ge.PORTS]},initFlag:[Ge.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=sr;this.hasFlag(t,Ge.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(t,Ge.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),r=!0,t=this.removeFlag(t,[Ge.RENDER,Ge.UPDATE,Ge.RESIZE,Ge.TRANSLATE,Ge.ROTATE,Ge.PORTS,Ge.TOOLS]);else{let s=!1;this.hasFlag(t,Ge.RESIZE)&&(this.resize(e),s=!0,t=this.removeFlag(t,[Ge.RESIZE,Ge.UPDATE])),this.hasFlag(t,Ge.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,Ge.UPDATE),s=!0,n&&(t=this.removeFlag(t,Ge.PORTS))),this.hasFlag(t,Ge.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,Ge.TRANSLATE),r=!0),this.hasFlag(t,Ge.ROTATE)&&(this.rotate(),t=this.removeFlag(t,Ge.ROTATE),r=!0),this.hasFlag(t,Ge.PORTS)&&(this._renderPorts(),s=!0,t=this.removeFlag(t,Ge.PORTS)),s&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(t,Ge.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,Ge.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=sr;n&&this._removePorts();var r=this.model,s=r.attr();this.updateDOMSubtreeAttributes(this.el,s,{rootBBox:new Pt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===s?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=pt(n[this.rotatableSelector])||null,this.scalableNode=pt(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(pt(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),sr.useCSSSelectors||this._renderPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var n=t.size;return"rotate("+e+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),r=e.size(),s=this.scalableNode,u=!1;s.node.getElementsByTagName("path").length>0&&(u=!0);var l=s.getBBox({recursive:u});s.attr("transform","scale("+r.width/(l.width||1)+","+r.height/(l.height||1)+")");var A=this.rotatableNode,y=A&&A.attr("transform");if(y){A.attr("transform",y+" rotate("+-n+","+r.width/2+","+r.height/2+")");var p=s.getBBox({target:this.paper.cells});e.set("position",{x:p.x,y:p.y},b({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,r=(t.paper||this.paper).model,s=t.initialZIndices={},u=e.getEmbeddedCells({deep:!0}),l=r.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...u,...l].forEach(A=>s[A.id]=A.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const h=r.getElements().reduce((A,y)=>Math.max(A,y.attributes.z||0),0);l.forEach(A=>{A.attributes.z<=h&&A.set("z",h+1,{ui:!0})}),e.stopBatch("to-front");const d=e.parent();d?(r.getCell(d).unembed(e,{ui:!0}),t.initialParentId=d):t.initialParentId=null},processEmbedding:function(t={},e,n,r){const s=t.model||this.model,u=t.paper||this.paper,l=u.model,{findParentBy:h,frontParentOnly:d,validateEmbedding:A}=u.options;let y;y=Rt(h)?Ut(h.call(l,this,e,n,r)):"pointer"===h?Ut(l.findModelsFromPoint({x:n,y:r})):l.findModelsUnderElement(s,{searchBy:h}),y=y.filter(j=>j instanceof Ti&&s.id!==j.id&&!j.isEmbeddedIn(s)),d&&(y=y.slice(-1));let p=null;const P=t.candidateEmbedView;for(let j=y.length-1;j>=0;j--){const B=y[j];if(P&&P.model.id==B.id){p=P;break}{const et=B.findView(u);if(!Rt(A)||A.call(u,this,et)){p=et;break}}}p&&p!=P&&(this.clearEmbedding(t),t.candidateEmbedView=p.highlight(p.findProxyNode(null,"container"),{embedding:!0})),!p&&P&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:s}=r.options,{initialParentId:u}=t;if(u&&"function"==typeof s&&!s.call(r,this))return void this._disallowUnembed(t)}r.model.getConnectedLinks(n,{deep:!0}).forEach(s=>{s.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,r=e||this.model,u=(t.paper||this.paper).model;switch(n){case"remove":r.remove({ui:!0});break;case"revert":{const{initialParentId:l,initialPosition:h,initialZIndices:d}=t;if(h){const{x:y,y:p}=h;r.position(y,p,{deep:!0,ui:!0})}d&&Object.keys(d).forEach(y=>{const p=u.getCell(y);p&&p.set("z",d[y],{ui:!0})});const A=u.getCell(l);A&&A.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findAttribute("port",t);if(r){const s=this.findPortNode(r,n);if(s)return s}else{const[s]=this.findBySelector(n);if(s)return s}}return t},notifyPointerdown(t,e,n){je.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){je.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),je.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){je.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){je.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){je.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.isPropagationStopped(t)||(this.notifyPointerdown(t,e,n),this.dragStart(t,e,n))},pointermove:function(t,e,n){var r=this.eventData(t);switch(r.action){case"magnet":this.dragMagnet(t,e,n);break;case"move":(r.delegatedView||this).drag(t,e,n);default:this.notifyPointermove(t,e,n)}this.eventData(t,r)},pointerup:function(t,e,n){var r=this.eventData(t);switch(r.action){case"magnet":this.dragMagnetEnd(t,e,n);break;case"move":(r.delegatedView||this).dragEnd(t,e,n);default:this.notifyPointerup(t,e,n)}var s=r.targetMagnet;s&&this.magnetpointerclick(t,s,e,n),this.checkMouseleave(t)},mouseover:function(t){je.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){je.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){je.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){je.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,r){je.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,r)},onmagnet:function(t,e,n){this.dragMagnetStart(t,e,n)},magnetpointerdblclick:function(t,e,n,r){this.notify("element:magnet:pointerdblclick",t,e,n,r)},magnetcontextmenu:function(t,e,n,r){this.notify("element:magnet:contextmenu",t,e,n,r)},dragStart:function(t,e,n){var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(t,{action:"move",delegatedView:r});const s=r.model.position();r.eventData(t,{initialPosition:s,pointerOffset:s.difference(e,n),restrictedArea:this.paper.getRestrictedArea(r,e,n)})},dragMagnetStart:function(t,e,n){if(this.can("addLinkFromMagnet")){var r=t.currentTarget,s=this.paper;this.eventData(t,{targetMagnet:r}),t.stopPropagation(),s.options.validateMagnet(this,r,t)?(s.options.magnetThreshold<=0&&this.dragLinkStart(t,r,e,n),this.eventData(t,{action:"magnet"}),this.stopPropagation(t)):this.pointerdown(t,e,n),s.delegateDragEvents(this,t.data)}},drag:function(t,e,n){var r=this.paper,s=r.options.gridSize,u=this.model,l=this.eventData(t),{pointerOffset:h,restrictedArea:d,embedding:A}=l,y=ei(e+h.x,s),p=ei(n+h.y,s);u.position(y,p,{restrictedArea:d,deep:!0,ui:!0}),r.options.embeddingMode&&(A||(this.prepareEmbedding(l),A=!0),this.processEmbedding(l,t,e,n)),this.eventData(t,{embedding:A})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var r=this.eventData(t);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,r){var s=this.paper;s.eventData(t).mousemoved>s.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,r)}},{Flags:Ge});b(En.prototype,mn);const oo={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},Ze=on.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),ql=Ze.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),Xu=En.extend({presentationAttributes:En.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=En.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),$l=Ze.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),au=Ze.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),ar=Ze.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),zr=Ze.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),tc=Ze.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),ec=Ze.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),ou=Ze.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),nc=ou.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Ra=oo.test("svgforeignobject"),uo=Ze.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Ra?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Ze.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":b({},e),div:{style:b({},e)}})},updateContent:function(t,e){this.attr(Ra?{".content":{html:Pa(e)}}:{".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),uu=En.extend({presentationAttributes:Ra?En.prototype.presentationAttributes:En.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=En.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n=this.model;if(Ra)En.prototype.update.call(this,n,e);else{var r=br(e||n.get("attrs"),".content");En.prototype.update.call(this,n,r),(!e||Fr(e,".content"))&&this.updateContent(n,e)}},updateContent:function(t,e){var n=kn({},(e||t.get("attrs"))[".content"]);n=br(n,"text");var r=ws(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),s=ss({},".content",n,"/");s[".content"].text=r,En.prototype.update.call(this,t,s)}}),On=Ti.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){return void 0===t?bt(this.get("source")):t instanceof Ti?((r=bt(e)||{}).id=t.id,this.set("source",r,n)):Ot(t)?this.set("source",r=t,e):((r=bt(e)||{}).x=t.x,r.y=t.y,this.set("source",r,n));var r},target:function(t,e,n){return void 0===t?bt(this.get("target")):t instanceof Ti?((r=bt(e)||{}).id=t.id,this.set("target",r,n)):Ot(t)?this.set("target",r=t,e):((r=bt(e)||{}).x=t.x,r.y=t.y,this.set("target",r,n));var r},router:function(t,e,n){if(void 0===t){var r=this.get("router");return r?"object"==typeof r?bt(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var s="object"==typeof t||"function"==typeof t;return this.set("router",s?t:{name:t,args:e},s?e:n)},connector:function(t,e,n){if(void 0===t){var r=this.get("connector");return r?"object"==typeof r?bt(r):r:this.get("smooth")?{name:"smooth"}:null}var s="object"==typeof t||"function"==typeof t;return this.set("connector",s?t:{name:t,args:e},s?e:n)},label:function(t,e,n){var r=this.labels();return(t=isFinite(t)&&null!==t?0|t:0)<0&&(t=r.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return 0===arguments.length?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var r=this.labels(),s=r.length;return(t=isFinite(t)&&null!==t?0|t:s)<0&&(t=s+t+1),r.splice(t,0,e),this.labels(r,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&null!==t?0|t:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var r=this.vertices();if((t=isFinite(t)&&null!==t?0|t:0)<0&&(t=r.length+t),arguments.length<=1)return this.prop(["vertices",t]);var s=this._normalizeVertex(e);return this.prop(["vertices",t],s,n)},vertices:function(t,e){if(0===arguments.length)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],r=0;r<t.length;r++){var s=t[r],u=this._normalizeVertex(s);n.push(u)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),s=r.length;(t=isFinite(t)&&null!==t?0|t:s)<0&&(t=s+t+1);var u=this._normalizeVertex(e);return r.splice(t,0,u),this.vertices(r,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&null!==t?0|t:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){return Ot(t)?t:{x:t.x,y:t.y}},translate:function(t,e,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(r){return{x:(r.x||0)+t,y:(r.y||0)+e}},n)},scale:function(t,e,n,r){return this.applyToPoints(function(s){return m(s).scale(t,e,n).toJSON()},r)},applyToPoints:function(t,e){if(!Rt(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:s}=this.attributes;r.id||(n.source=t(r)),s.id||(n.target=t(s));var u=this.vertices();return u.length>0&&(n.vertices=u.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new m(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new m(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(m),this.getTargetPoint()];return new $e(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),s=this.getParentCell();n&&r&&(e=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),s&&(!e||e.id!==s.id)&&s.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,r=e.id,s=n.id;if(!r||!s)return!1;var u=r===s;if(!u&&t.deep&&this.graph){var l=this.getSourceCell(),h=this.getTargetCell();u=l.isEmbeddedIn(h)||h.isEmbeddedIn(l)}return u},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=vn(t)||me(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){return t.id===e.id&&(t.port===e.port||!t.port&&!e.port)}}),Wa=on.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),lo=on.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Oo=on.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),_a=on.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),rc=on.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),ic=on.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),sc=on.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),ac=on.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),oc=on.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),jo=on.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),co=on.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),E=on.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(void 0===t)return this.attr("body/lateralArea");var n=hr(t);return this.attr({body:{lateralArea:t},top:n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t}},e)}},{attributes:{lateralArea:{set:function(t,e){var n=hr(t);n&&(t=parseFloat(t)/100);var r=e.x,s=e.y,u=e.width,l=e.height,d=n?l*t:t,A=pt.KAPPA,y=A*(u/2),p=A*(n?l*t:t),j=r+u/2,B=r+u,et=s+d,rt=et-d,ht=s+l-d,ft=s+l;return{d:["M",r,et,"L",r,ht,"C",r,ht+p,j-y,ft,j,ft,"C",j+y,ft,B,ht+p,B,ht,"L",B,et,"C",B,et-p,j+y,rt,j,rt,"C",j-y,rt,r,et-p,r,et,"Z"].join(" ")}}}}});var Di=oo.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};const ke=on.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},Di]},{attributes:{text:{set:function(t,e,n,r){if(!(n instanceof HTMLElement)){var s=r.style||{},u={text:t,width:-5,height:"100%"},l=b({textVerticalAnchor:"middle"},s);return ao.textWrap.set.call(this,u,e,n,l),{fill:s.color||null}}n.textContent=t},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),Vu=On.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),uc=On.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),lc=On.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),Ms=Ze.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){Ze.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var r=gt(this.get("inPorts")),s=ze(gt(this.get("outPorts")),r),u=this.createPortItems("in",r),l=this.createPortItems("out",s);this.prop("ports/items",u.concat(l),b({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return Ut(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,n){var r=this.get(e);return this.set(e,Array.isArray(r)?r.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,Hn(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,fn(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),cc=Ms.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),fc=Ms.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),hc=On.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),Bo=Ze.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),lu=Bo.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),Ss=lu.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),gc=lu.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),cu=Bo.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),pa=Bo.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),dc=cu.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),pc=cu.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),Ts=pa.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),vc=pa.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),mc=pa.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),Ic=pa.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),Ac=pa.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),Cc=pa.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),va=On.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),yc=Ze.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),wc=Ze.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),Ki=Ze.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),bc=Ze.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),xc=Ze.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),Nc=Ze.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),Mc=Ze.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),Sc=Ze.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),Hu=Ze.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),Ju=Ze.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),Tc=Ze.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),Dc=Ze.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),Ro=on.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),fo=Ro.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),ho=on.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),Lc=ho.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Ua=on.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),Pc=Ua.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),Ds=Ua.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),fu=Ua.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),ma=Ua.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),Li=on.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),zc=On.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),Ku=au.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),Qu=on.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),go=on.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),qs=On.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),qu=on.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),kc=On.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),Wo=Ze.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),Ec=En.extend({presentationAttributes:En.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:En.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=En.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){t.removeClass(n)});var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append(pt("circle"));break;case 2:t.addClass("two"),t.append([pt("circle"),pt("circle")]);break;case 3:t.addClass("three"),t.append([pt("circle"),pt("circle"),pt("circle")]);break;default:t.addClass("alot"),t.append(pt("text").text(e+""))}}}),$u=Ze.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),xr=On.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),po=Ze.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),Ze.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;e.forEach(function(r){var s=Array.isArray(r.text)?r.text:[r.text],u=20*s.length+20;t[".uml-class-"+r.type+"-text"].text=s.join("\n"),t[".uml-class-"+r.type+"-rect"].height=u,t[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=u})}}),_o=En.extend({initialize:function(){En.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),us=po.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),hu=_o,Yo=po.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),Ia=_o,tl=On.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),Jr=On.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),gu=On.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),Oc=On.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),jc=On.define("uml.Association"),Gc=Ze.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),Ze.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),du=au.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),Zc=Ze.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),vo=On.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),pu={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,r=n>0&&e[0]||[],s=n>1&&e[n-1]||{};return Array.isArray(r)||(s instanceof Ti?r=e:r instanceof Ti&&(e.length>1&&e.pop(),r=e)),s instanceof Ti&&(s={}),t.call(this,r,s)}}},Bc=Qe.Collection.extend({initialize:function(t,e){this.cellNamespace=e.cellNamespace?e.cellNamespace:typeof joint<"u"&&Fr(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,u=new("link"===t.type?On:Fi(n.cellNamespace,t.type,".")||on)(t,e);return e.dry||(u.graph=n.graph),u},comparator:function(t){return t.get("z")||0}}),$s=Qe.Model.extend({initialize:function(t,e){var n=new Bc([],{model:(e=e||{}).cellModel,cellNamespace:e.cellNamespace,graph:this});Qe.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=Qe.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return"object"==typeof t?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=br(r,"cells")),Qe.Model.prototype.set.call(this,r,n)},clear:function(t){t=b({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.startBatch("clear",t);var n=e.sortBy(function(r){return r.isLink()?1:2});do{n.shift().remove(t)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof Qe.Model?(n=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):n=t,!vn(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof Qe.Model?t.has("z")||t.set("z",this.maxZIndex()+1):void 0===t.z&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return 0===t.length||(t=ee(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e)),this},resetCells:function(t,e){var n=Ut(t).map(function(r){return this._prepareCell(r,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),W(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){var n=(e=e||{}).indirect,r=e.inbound,s=e.outbound;void 0===r&&void 0===s&&(r=s=!0);var u=[],l={};function h(p,P){if(Wn(p.getOutboundEdges(P.id),function(B,et){if(!l[et]){var rt=p.getCell(et);u.push(rt),l[et]=!0,n&&(r&&d(p,rt),s&&h(p,rt))}}.bind(p)),n&&P.isLink()){var j=P.getTargetCell();j&&j.isLink()&&(l[j.id]||(u.push(j),h(p,j)))}}function d(p,P){if(Wn(p.getInboundEdges(P.id),function(B,et){if(!l[et]){var rt=p.getCell(et);u.push(rt),l[et]=!0,n&&(r&&d(p,rt),s&&h(p,rt))}}.bind(p)),n&&P.isLink()){var j=P.getSourceCell();j&&j.isLink()&&(l[j.id]||(u.push(j),d(p,j)))}}if(s&&h(this,t),r&&d(this,t),e.deep){var A=t.getEmbeddedCells({deep:!0}),y={};A.forEach(function(p){p.isElement()&&(y[p.id]=!0)}),A.forEach(function(p){p.isLink()||(s&&Wn(this.getOutboundEdges(p.id),function(P,j){if(!l[j]){var B=this.getCell(j),{source:et,target:rt}=B.attributes,ht=et.id,ft=rt.id;if(!e.includeEnclosed&&ht&&y[ht]&&ft&&y[ft])return;u.push(this.getCell(j)),l[j]=!0}}.bind(this)),r&&Wn(this.getInboundEdges(p.id),function(P,j){if(!l[j]){var B=this.getCell(j),{source:et,target:rt}=B.attributes,ht=et.id,ft=rt.id;if(!e.includeEnclosed&&ht&&y[ht]&&ft&&y[ft])return;u.push(this.getCell(j)),l[j]=!0}}.bind(this)))},this)}return u},getNeighbors:function(t,e){e||(e={});var n=e.inbound,r=e.outbound;void 0===n&&void 0===r&&(n=r=!0);var s=this.getConnectedLinks(t,e).reduce(function(h,d){var{source:A,target:y}=d.attributes,p=d.hasLoop(e);if(n&&Fr(A,"id")&&!h[A.id]){var P=this.getCell(A.id);P.isElement()&&(p||P&&P!==t&&(!e.deep||!P.isEmbeddedIn(t)))&&(h[A.id]=P)}if(r&&Fr(y,"id")&&!h[y.id]){var j=this.getCell(y.id);j.isElement()&&(p||j&&j!==t&&(!e.deep||!j.isEmbeddedIn(t)))&&(h[y.id]=j)}return h}.bind(this),{});if(t.isLink()){if(n){var u=t.getSourceCell();u&&u.isElement()&&!s[u.id]&&(s[u.id]=u)}if(r){var l=t.getTargetCell();l&&l.isElement()&&!s[l.id]&&(s[l.id]=l)}}return Ut(s)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var r=[],s=n.get("parent");s;)r.push(s),s=this.getCell(s).get("parent");return r},this);t=t.sort(function(n,r){return n.length-r.length});var e=Ut(t.shift()).find(function(n){return t.every(function(r){return r.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){var n=[];return this.search(t,function(r){r!==t&&n.push(r)},b({},e=e||{},{outbound:!0})),n},cloneCells:Oa,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],r={},s=[],u=[];return Ut(t).forEach(function(l){r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?u.push(l):s.push(l)),e.deep&&l.getEmbeddedCells({deep:!0}).forEach(function(d){r[d.id]||(n.push(d),r[d.id]=d,d.isLink()?u.push(d):s.push(d))})}),u.forEach(function(l){var{source:h,target:d}=l.attributes;if(h.id&&!r[h.id]){var A=this.getCell(h.id);n.push(A),r[A.id]=A,s.push(A)}if(d.id&&!r[d.id]){var y=this.getCell(d.id);n.push(this.getCell(d.id)),r[y.id]=y,s.push(y)}},this),s.forEach(function(l){this.getConnectedLinks(l,e).forEach(function(d){var{source:A,target:y}=d.attributes;!r[d.id]&&A.id&&r[A.id]&&y.id&&r[y.id]&&(n.push(d),r[d.id]=d)})},this),n},getPredecessors:function(t,e){var n=[];return this.search(t,function(r){r!==t&&n.push(r)},b({},e=e||{},{inbound:!0})),n},search:function(t,e,n){(n=n||{}).breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const r={},s={},u=[];for(u.push(t),s[t.id]=0;u.length>0;){var l=u.shift();if(r[l.id]||(r[l.id]=!0,!1===e.call(this,l,s[l.id])))continue;const h=this.getNeighbors(l,n);for(let d=0,A=h.length;d<A;d++){const y=h[d];s[y.id]=s[l.id]+1,u.push(y)}}},dfs:function(t,e,n={}){const r={},s={},u=[];for(u.push(t),s[t.id]=0;u.length>0;){const l=u.pop();if(r[l.id]||(r[l.id]=!0,!1===e.call(this,l,s[l.id])))continue;const h=this.getNeighbors(l,n),d=u.length;for(let A=0,y=h.length;A<y;A++){const p=h[A];s[p.id]=s[l.id]+1,u.splice(d,0,p)}}},getSources:function(){var t=[];return Wn(this._nodes,function(e,n){(!this._in[n]||mt(this._in[n]))&&t.push(this.getCell(n))}.bind(this)),t},getSinks:function(){var t=[];return Wn(this._nodes,function(e,n){(!this._out[n]||mt(this._out[n]))&&t.push(this.getCell(n))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||mt(this._in[t.id])},isSink:function(t){return!this._out[t.id]||mt(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){var r=(n=n||{}).inbound,s=n.outbound;void 0===r&&void 0===s&&(r=s=!0);var u=!1;return this.getConnectedLinks(t,n).forEach(function(l){var{source:h,target:d}=l.attributes;if(r&&Fr(h,"id")&&h.id===e.id||s&&Fr(d,"id")&&d.id===e.id)return u=!0,!1}),u},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){W(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){const n=new Pt(t),{strict:r=!1}=e,s=r?"containsRect":"intersect";return this.getElements().filter(u=>n[s](u.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){const{searchBy:n="bbox"}=e,r=t.getBBox().rotateAroundCenter(t.angle());return("bbox"===n?this.findModelsInArea(r):this.findModelsFromPoint(r[n]())).filter(u=>t.id!==u.id&&!u.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return Ut(t).reduce(function(r,s){const u=s.getBBox({rotate:n});return u?r?r.union(u):u:r},null)},translate:function(t,e,n){var r=this.getCells().filter(function(s){return!s.isEmbedded()});return W(r,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,r){var s=this.getCellsBBox(n);if(s){var u=Math.max(t/s.width,0),l=Math.max(e/s.height,0);W(n,"scale",u,l,s.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",b({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",b({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return n=0===arguments.length?Object.keys(e):Array.isArray(t)?t:[t],n.some(r=>e[r]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:r}=e.attributes;if(n.id&&r.id){var s=e.getSourceCell();if(s&&t.getConnectedLinks(s,{outbound:!0}).filter(function(h){var{source:d,target:A}=h.attributes;return d&&d.id===n.id&&(!d.port||d.port===n.port)&&A&&A.id===r.id&&(!A.port||A.port===r.port)}).length>1)return!1}return!0},linkPinning:function(t,e){var{source:n,target:r}=e.attributes;return n.id&&r.id}}});!function(t,e,n){if(vn(n)){if(!pu[n])throw new Error('Unknown wrapper: "'+n+'"');n=pu[n]}if(!Rt(n))throw new Error("Wrapper must be a function.");Ut(["resetCells","addCells","removeCells"]).forEach(function(r){t[r]=n(t[r])})}($s.prototype,0,pu.cells);const Rc=function(t,e,n){return t},Wc=function(t,e,n){var A,y,p,r=e.side||"bottom",s=N(e.padding||40),u=n.sourceBBox,l=n.targetBBox,h=u.center(),d=l.center();switch(r){case"bottom":p=1,A="y",y="height";break;case"top":p=-1,A="y",y="height";break;case"left":p=-1,A="x",y="width";break;case"right":p=1,A="x",y="width";break;default:throw new Error("Router: invalid side")}return h[A]+=p*(u[y]/2+s[r]),d[A]+=p*(l[y]/2+s[r]),p*(h[A]-d[A])>0?d[A]=h[A]:h[A]=d[A],[h].concat(t,d)};var vu={N:"S",S:"N",E:"W",W:"E"},nl={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Uo(t,e,n){var r=new m(t.x,e.y);return n.containsPoint(r)&&(r=new m(e.x,t.y)),r}function mu(t,e){return t["W"===e||"E"===e?"width":"height"]}function Kr(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function mo(t){return new Pt(t.x,t.y,0,0)}function Fa(t){var e=N(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function rl(t,e){return t.sourceBBox.clone().moveAndExpand(Fa(e))}function Fo(t,e){return t.targetBBox.clone().moveAndExpand(Fa(e))}function Iu(t,e,n){var r=new m(t.x,e.y),s=new m(e.x,t.y),u=Kr(t,r),l=Kr(t,s),h=vu[n],d=u===n||u!==h&&(l===h||l!==n)?r:s;return{points:[d],direction:Kr(d,e)}}function Aa(t,e,n){var r=Uo(t,e,n);return{points:[r],direction:Kr(r,e)}}function _c(t,e,n,r){var d,s={},u=[new m(t.x,e.y),new m(e.x,t.y)],l=u.filter(function(p){return!n.containsPoint(p)}),h=l.filter(function(p){return Kr(p,t)!==r});if(h.length>0)d=h.filter(function(p){return Kr(t,p)===r}).pop(),s.points=[d=d||h[0]],s.direction=Kr(d,e);else{d=ze(u,l)[0];var A=new m(e).move(d,-mu(n,r)/2),y=Uo(A,t,n);s.points=[y,A],s.direction=Kr(A,e)}return s}function al(t,e,n,r){var s=Aa(e,t,r),u=s.points[0];if(n.containsPoint(u)){var l=(s=Aa(t,e,n)).points[0];if(r.containsPoint(l)){var h=new m(t).move(l,-mu(n,Kr(t,l))/2),d=new m(e).move(u,-mu(r,Kr(e,u))/2),A=new tt(h,d).midpoint(),y=Aa(t,A,n),p=Iu(A,e,y.direction);s.points=[y.points[0],p.points[0]],s.direction=p.direction}}return s}function Xo(t,e,n,r,s){var y,p,P,u={},l=n.union(r).inflate(1),h=l.center().distance(e)>l.center().distance(t),d=h?e:t,A=h?t:e;return s?(y=m.fromPolar(l.width+l.height,nl[s],d),y=l.pointNearestToPoint(y).move(y,-1)):y=l.pointNearestToPoint(d).move(d,1),p=Uo(y,A,l),y.round().equals(p.round())?(p=m.fromPolar(l.width+l.height,ln(y.theta(d))+Math.PI/2,A),P=Uo(y,p=l.pointNearestToPoint(p).move(A,1).round(),l),u.points=h?[p,P,y]:[y,P,p]):u.points=h?[p,y]:[y,p],u.direction=Kr(h?y:p,e),u}function Au(t,e,n){var r=rl(n,e),s=Fo(n,e),u=function il(t,e){return t.sourceAnchor?t.sourceAnchor:rl(t,e).center()}(n,e),l=function sl(t,e){return t.targetAnchor?t.targetAnchor:Fo(t,e).center()}(n,e);r=r.union(mo(u)),s=s.union(mo(l)),(t=Ut(t).map(m)).unshift(u),t.push(l);for(var h,d=[],A=0,y=t.length-1;A<y;A++){var p=null,P=t[A],j=t[A+1],B=!!Kr(P,j);if(0===A)A+1===y?r.intersect(s.clone().inflate(1))?p=Xo(P,j,r,s):B||(p=al(P,j,r,s)):r.containsPoint(j)?p=Xo(P,j,r,mo(j).moveAndExpand(Fa(e))):B||(p=Aa(P,j,r));else if(A+1===y){var et=B&&Kr(j,P)===h;s.containsPoint(P)||et?p=Xo(P,j,mo(P).moveAndExpand(Fa(e)),s,h):B||(p=_c(P,j,s,h))}else B||(p=Iu(P,j,h));p?(Array.prototype.push.apply(d,p.points),h=p.direction):h=Kr(P,j),A+1<y&&d.push(j)}return d}var Cu={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!Rt(Au))throw new Error("Manhattan requires the orthogonal router as default fallback.");return Au(t,b({},Cu,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function yu(t){this.map={},this.options=t,this.mapGridSize=100}function Ls(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function wu(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Vo(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function ol(t,e){return t.sourceAnchor?t.sourceAnchor:wu(t,e).center()}function we(t,e,n,r,s){var u=360/n,l=t.theta(function Yc(t,e,n,r){var s=r.step;return new m(t.x+(e.x-t.x)/n.x*s,t.y+(e.y-t.y)/n.y*s)}(t,e,r,s)),h=qn(l+u/2);return u*Math.floor(h/u)}function ul(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function cl(t,e){if(!t)return e;var n=Math.abs(t),r=Math.round(n/e);return r?e+(n-r*e)/r:n}function kr(t,e){return t.round(e)}function Ho(t,e,n){return kr(function Uc(t,e){var n=e.source,r=ei(t.x-n.x,e.x)+n.x,s=ei(t.y-n.y,e.y)+n.y;return new m(r,s)}(t.clone(),e),n)}function ta(t){return t.clone().toString()}function Ao(t){return new m(0===t.x?0:Math.abs(t.x)/t.x,0===t.y?0:Math.abs(t.y)/t.y)}function fl(t,e,n,r,s,u,l){for(var p,h=[],d=Ao(s.difference(n)),A=ta(n),y=t[A];y;){var P=Ao((p=e[A]).difference(y));P.equals(d)||(h.unshift(p),d=P),y=t[A=ta(y)]}var j=e[A];return Ao(j.difference(r)).equals(d)||h.unshift(j),h}function xu(t,e){for(var n=1/0,r=0,s=e.length;r<s;r++){var u=t.manhattanDistance(e[r]);u<n&&(n=u)}return n}function li(t,e,n,r,s){var u=s.precision,l=s.directionMap,h=t.difference(e.center()),d=fn(l)?Object.keys(l):[],A=Ut(n),y=d.reduce(function(p,P){if(A.includes(P)){for(var ft,j=l[P],B=new m(t.x+j.x*(Math.abs(h.x)+e.width),t.y+j.y*(Math.abs(h.y)+e.height)),rt=new tt(t,B).intersect(e)||[],ht=rt.length,w=null,T=0;T<ht;T++){var L=rt[T],Z=t.squaredDistance(L);(void 0===ft||Z>ft)&&(ft=Z,w=L)}if(w){var X=Ho(w,r,u);e.containsPoint(X)&&(X=Ho(X.offset(j.x*r.x,j.y*r.y),r,u)),p.push(X)}}return p},[]);return e.containsPoint(t)||y.push(Ho(t,r,u)),y}function ea(t,e,n,r){var u,l,s=r.precision;u=kr(t instanceof Pt?ol(this,r).clone():t.clone(),s),l=kr(e instanceof Pt?function bu(t,e){return t.targetAnchor?t.targetAnchor:Vo(t,e).center()}(this,r).clone():e.clone(),s);var d,A,y,p,h=function ll(t,e,n){return{source:e.clone(),x:cl(n.x-e.x,t),y:cl(n.y-e.y,t)}}(r.step,u,l);if(y=t instanceof Pt?li(d=u,t,r.startDirections,h,r):[d=u],e instanceof Pt?(A=l,p=li(l,e,r.endDirections,h,r)):p=[A=l],y=y.filter(Le=>!n(Le)),p=p.filter(Le=>!n(Le)),y.length>0&&p.length>0){for(var P=new Ls,j={},B={},et={},rt=0,ht=y.length;rt<ht;rt++){var ft=y[rt],w=ta(ft);P.add(w,xu(ft,p)),j[w]=ft,et[w]=0}var Z,X,T=r.previousDirectionAngle,L=void 0===T,at=r.directions;!function Io(t,e,n){var r=n.step;Ut(n.directions).forEach(function(s){s.gridOffsetX=s.offsetX/r*e.x,s.gridOffsetY=s.offsetY/r*e.y})}(0,h,r);for(var ut=at.length,vt=Ut(p).reduce(function(Le,te){var Bt=ta(te);return Le.push(Bt),Le},[]),Dt=r.maximumLoops;!P.isEmpty()&&Dt>0;){var Be,Mt=P.pop(),Lt=j[Mt],kt=B[Mt],Gt=et[Mt],Ht=void 0===kt,nn=Lt.equals(d);Be=Ht?L?nn?null:we(d,Lt,ut,h,r):T:we(kt,Lt,ut,h,r);var hn=y.length===p.length;if(hn)for(var qt=0;qt<y.length;qt++)if(!y[qt].equals(p[qt])){hn=!1;break}if((!Ht||!hn)&&vt.indexOf(Mt)>=0)return r.previousDirectionAngle=Be,fl(B,j,Lt,d,A);for(rt=0;rt<ut;rt++){var ne=(Z=at[rt]).angle;if(X=ul(Be,ne),L&&nn||!(X>r.maxAllowedDirectionChange)){var re=Ho(Lt.clone().offset(Z.gridOffsetX,Z.gridOffsetY),h,s),Se=ta(re);if(!P.isClose(Se)&&!n(re)){if(vt.indexOf(Se)>=0&&!re.equals(A)&&ul(ne,we(re,A,ut,h,r))>r.maxAllowedDirectionChange)continue;var Ie=Gt+Z.cost+(nn?0:r.penalties[X]);(!P.isOpen(Se)||Ie<et[Se])&&(j[Se]=re,B[Se]=Lt,et[Se]=Ie,P.add(Se,Ie+xu(re,p)))}}}Dt--}}return r.fallbackRoute.call(this,d,A,r)}yu.prototype.build=function(t,e){var n=this.options,r=Ut(n.excludeEnds).reduce(function(d,A){var y=e.get(A);if(y){var p=t.getCell(y.id);p&&d.push(p)}return d},[]),s=[],u=t.getCell(e.get("source").id);u&&(s=xs(s,u.getAncestors().map(function(d){return d.id})));var l=t.getCell(e.get("target").id);l&&(s=xs(s,l.getAncestors().map(function(d){return d.id})));var h=this.mapGridSize;return t.getElements().reduce(function(d,A){var y=Ut(n.excludeTypes).includes(A.get("type")),p=r.find(function(T){return T.id===A.id}),P=s.includes(A.id);if(!(y||p||P))for(var B=A.getBBox().moveAndExpand(n.paddingBox),et=B.origin().snapToGrid(h),rt=B.corner().snapToGrid(h),ht=et.x;ht<=rt.x;ht+=h)for(var ft=et.y;ft<=rt.y;ft+=h){var w=ht+"@"+ft;d[w]=d[w]||[],d[w].push(B)}return d},this.map),this},yu.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return Ut(this.map[e]).every(function(n){return!n.containsPoint(t)})},Ls.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=it(this.items,t,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,t)},Ls.prototype.remove=function(t){this.hash[t]=this.CLOSE},Ls.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},Ls.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},Ls.prototype.isEmpty=function(){return 0===this.items.length},Ls.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};const Xa=function(t,e,n){return function hl(t,e,n){(function Nu(t){if(t.directions=Ue(t,"directions"),t.penalties=Ue(t,"penalties"),t.paddingBox=Ue(t,"paddingBox"),t.padding=Ue(t,"padding"),t.padding){var e=N(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}Ut(t.directions).forEach(function(n){var r=new m(0,0),s=new m(n.offsetX,n.offsetY);n.angle=qn(r.theta(s))})})(e),n.options.perpendicular=!!e.perpendicular;var r=wu(n,e),s=Vo(n,e),u=ol(n,e);let l;if("function"==typeof e.isPointObstacle)l=e.isPointObstacle;else{const w=new yu(e);w.build(n.paper.model,n.model),l=T=>!w.isPointAccessible(T)}for(var y,p,h=Ut(t).map(m),d=[],A=u,P=0,j=h.length;P<=j;P++){var B=null;if(p=y||r,!(y=h[P])&&(y=s,(!n.model.get("source").id||!n.model.get("target").id)&&Rt(e.draggingRoute))){var rt=p===r?u:p,ht=y.origin();B=e.draggingRoute.call(n,rt,ht,e)}if(null===(B=B||ea.call(n,p,y,l,e)))return e.fallbackRouter(t,e,n);var ft=B[0];ft&&ft.equals(A)&&B.shift(),A=B[B.length-1]||A,Array.prototype.push.apply(d,B)}return d}(t,b({},Cu,e),n)};var gl={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var r=t.theta(e),s=[],u={x:e.x,y:t.y},l={x:t.x,y:e.y};if(r%180>90){var h=u;u=l,l=h}var d=r%90<45?u:l,A=new tt(t,d),y=90*Math.ceil(r/90),p=m.fromPolar(A.squaredLength(),ln(y+135),d),P=new tt(e,p),j=A.intersection(P),B=j||e,rt=360/n.directions.length,ht=(j?B:t).theta(e),ft=qn(ht+rt/2),w=rt*Math.floor(ft/rt);return n.previousDirectionAngle=w,B&&s.push(B.round()),s.push(e),s}};const Mu=function(t,e,n){if(!Rt(Xa))throw new Error("Metro requires the manhattan router.");return Xa(t,b({},gl,e),n)};var Jo=["arc","gap","cubic"],Fc=["smooth"],Qi=1/3,Co=2/3;function Ko(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(s,u,l){var h=r[l+1];return null!=h&&(s[l]=Et(u,h)),s},[])}function pl(t,e){return Et(t,e).squaredLength()}function Du(t,e,n,r){var u,s=new Yt;return u=Yt.createSegment("M",t[0].start),s.appendSegment(u),Ut(t).forEach(function(l,h){if(l.isJump){var d,A,y,p;if("arc"===n){d=-90,A=l.start.difference(l.end);var P=Number(A.x<0||0===A.x&&A.y<0);P&&(d+=180);var et,j=l.midpoint(),B=new tt(j,l.end).rotate(j,d);y=(et=new tt(l.start,j)).pointAt(2/3).rotate(l.start,d),p=B.pointAt(1/3).rotate(B.end,-d),u=Yt.createSegment("C",y,p,B.end),s.appendSegment(u),et=new tt(j,l.end),y=B.pointAt(1/3).rotate(B.end,d),p=et.pointAt(1/3).rotate(l.end,-d),u=Yt.createSegment("C",y,p,l.end),s.appendSegment(u)}else if("gap"===n)u=Yt.createSegment("M",l.end),s.appendSegment(u);else if("cubic"===n){d=l.start.theta(l.end);var rt=.6*e,ht=1.35*e;A=l.start.difference(l.end),(P=Number(A.x<0||0===A.x&&A.y<0))&&(ht*=-1),y=m(l.start.x+rt,l.start.y+ht).rotate(l.start,d),p=m(l.end.x-rt,l.end.y+ht).rotate(l.end,d),u=Yt.createSegment("C",y,p,l.end),s.appendSegment(u)}}else{var ft=t[h+1];0==r||!ft||ft.isJump?(u=Yt.createSegment("L",l.end),s.appendSegment(u)):function Hc(t,e,n,r,s){var j,u=n.distance(r)/2,l=n.distance(s)/2,h=-Math.min(t,u),d=-Math.min(t,l),A=n.clone().move(r,h).round(),y=n.clone().move(s,d).round(),p=new m(Qi*A.x+Co*n.x,Co*n.y+Qi*A.y),P=new m(Qi*y.x+Co*n.x,Co*n.y+Qi*y.y);j=Yt.createSegment("L",A),e.appendSegment(j),j=Yt.createSegment("C",p,P,y),e.appendSegment(j)}(r,s,l.end,l.start,ft.end)}}),s}const ml=function(t,e,n,r){!function Tu(t){var e=t.paper,n=e._jumpOverUpdateList;if(null==n){n=e._jumpOverUpdateList=[];var r=e.model;r.on("batch:stop",function(){this.hasActiveBatch()||function Xc(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const r=e[n],s=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(s)}}(e)}),r.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}(this);var s=r.raw,u=r.size||5,l=r.jump&&(""+r.jump).toLowerCase(),h=r.radius||0,d=r.ignoreConnectors||Fc;-1===Jo.indexOf(l)&&(l=Jo[0]);var A=this.paper,p=A.model.getLinks();if(1===p.length)return Du(Ko(t,e,n),u,l,h);var P=this.model,j=p.indexOf(P),B=A.options.defaultConnector||{},et=p.filter(function(L,Z){var X=L.get("connector")||B;return!(Ut(d).includes(X.name)||Z>j&&"jumpover"===X.name)}),rt=et.map(function(L){return A.findViewByModel(L)}),ht=Ko(t,e,n),ft=rt.map(function(L){return null==L?[]:L===this?ht:Ko(L.sourcePoint,L.targetPoint,L.route)},this),w=ht.reduce(function(L,Z){var X=et.reduce(function(at,ut,vt){if(ut!==P){var Dt=function Vc(t,e){return Ut(e).reduce(function(n,r){var s=t.intersection(r);return s&&n.push(s),n},[])}(Z,ft[vt]);at.push.apply(at,Dt)}return at},[]).sort(function(at,ut){return pl(Z.start,at)-pl(Z.start,ut)});return X.length>0?L.push.apply(L,function vl(t,e,n){return e.reduce(function(r,s,u){if(!0===s.skip)return r;var l=r.pop()||t,h=R(s).move(l.start,-n),d=R(s).move(l.start,+n),A=e[u+1];if(null!=A){var y=d.distance(A);y<=n&&(d=A.move(l.start,y),A.skip=!0)}else if(h.distance(l.end)<2*n+1)return r.push(l),r;if(d.distance(l.start)<2*n+1)return r.push(l),r;var j=Et(h,d);return j.isJump=!0,r.push(Et(l.start,h),j,Et(d,l.end)),r},[])}(Z,X,u)):L.push(Z),L},[]),T=Du(w,u,l,h);return s?T:T.serialize()},Il=function(t,e,n,r){var s=r&&r.raw,u=[t].concat(n).concat([e]),l=new $e(u),h=new Yt(l);return s?h:h.serialize()},ci=function(t,e,n,r){r||(r={});var h,s=r.radius||10,u=r.raw,l=new Yt;h=Yt.createSegment("M",t),l.appendSegment(h);for(var y,p,P,j,B,et,rt,ht,ft,w,T,d=1/3,A=2/3,L=0,Z=n.length;L<Z;L++)y=new m(n[L]),p=n[L-1]||t,P=n[L+1]||e,j=B||y.distance(p)/2,B=y.distance(P)/2,et=-Math.min(s,j),rt=-Math.min(s,B),ht=y.clone().move(p,et).round(),ft=y.clone().move(P,rt).round(),w=new m(d*ht.x+A*y.x,A*y.y+d*ht.y),T=new m(d*ft.x+A*y.x,A*y.y+d*ft.y),h=Yt.createSegment("L",ht),l.appendSegment(h),h=Yt.createSegment("C",w,T,ft),l.appendSegment(h);return h=Yt.createSegment("L",e),l.appendSegment(h),u?l:l.serialize()},ls=function(t,e,n,r){var u,s=r&&r.raw;if(n&&0!==n.length){var l=[t].concat(n).concat([e]),h=De.throughPoints(l);u=new Yt(h)}else{var d;if(u=new Yt,d=Yt.createSegment("M",t),u.appendSegment(d),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var A=(t.x+e.x)/2;d=Yt.createSegment("C",A,t.y,A,e.y,e.x,e.y),u.appendSegment(d)}else{var y=(t.y+e.y)/2;d=Yt.createSegment("C",t.x,y,e.x,y,e.x,e.y),u.appendSegment(d)}}return s?u:u.serialize()},Pi={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Qr={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Va=function(t,e,n=[],r={},s){const u=Boolean(r.raw),{direction:l=Pi.AUTO,precision:h=3}=r,d={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new m(r.sourceTangent):null,targetTangent:r.targetTangent?new m(r.targetTangent):null};d.sourceDirection="string"==typeof r.sourceDirection?r.sourceDirection:"number"==typeof r.sourceDirection?new m(1,0).rotate(null,r.sourceDirection):r.sourceDirection?new m(r.sourceDirection).normalize():null,d.targetDirection="string"==typeof r.targetDirection?r.targetDirection:"number"==typeof r.targetDirection?new m(1,0).rotate(null,r.targetDirection):r.targetDirection?new m(r.targetDirection).normalize():null;const A=[t,...n.map(et=>new m(et)),e];let y,p;if(d.sourceTangent)y=d.sourceTangent;else{const et=function Qo(t,e,n,r){if(r.sourceDirection)switch(r.sourceDirection){case Qr.UP:return new m(0,-1);case Qr.DOWN:return new m(0,1);case Qr.LEFT:return new m(-1,0);case Qr.RIGHT:return new m(1,0);case Qr.AUTO:return Lu(t,e);case Qr.CLOSEST_POINT:return Ja(0,e);case Qr.OUTWARDS:return Pu(t,e);default:return r.sourceDirection}switch(n){case Pi.HORIZONTAL:return function Ha(t,e,n){const{sourceBBox:r}=t;let s;return"left"===(s=r.width&&r.height?r.sideNearestToPoint(e[0]):r.x>e[1].x?"right":"left",s)?new m(-1,0):new m(1,0)}(t,e);case Pi.VERTICAL:return function Cl(t,e,n){const{sourceBBox:r}=t;let s;return"top"===(s=r.width&&r.height?r.sideNearestToPoint(e[0]):r.y>e[1].y?"bottom":"top",s)?new m(0,-1):new m(0,1)}(t,e);case Pi.CLOSEST_POINT:return Ja(0,e);case Pi.OUTWARDS:return Pu(t,e);default:return Lu(t,e)}}(s,A,l,d),rt=A[0].distance(A[1])*d.coeff,ft=yo(et,A[1].difference(A[0]).normalize());if(ft>Math.PI/4){const w=rt+(ft-Math.PI/4)*d.angleTangentCoefficient;y=et.clone().scale(w,w)}else y=et.clone().scale(rt,rt)}if(d.targetTangent)p=d.targetTangent;else{const et=function wl(t,e,n,r){if(r.targetDirection)switch(r.targetDirection){case Qr.UP:return new m(0,-1);case Qr.DOWN:return new m(0,1);case Qr.LEFT:return new m(-1,0);case Qr.RIGHT:return new m(0,1);case Qr.AUTO:return Ca(t,e);case Qr.CLOSEST_POINT:return yl(0,e);case Qr.OUTWARDS:return zu(t,e);default:return r.targetDirection}switch(n){case Pi.HORIZONTAL:return function Al(t,e,n){const{targetBBox:r}=t;let s;return"left"===(s=r.width&&r.height?r.sideNearestToPoint(e[e.length-1]):r.x>e[e.length-2].x?"left":"right",s)?new m(-1,0):new m(1,0)}(t,e);case Pi.VERTICAL:return function Jc(t,e,n){const{targetBBox:r}=t;let s;return"top"===(s=r.width&&r.height?r.sideNearestToPoint(e[e.length-1]):r.y>e[e.length-2].y?"top":"bottom",s)?new m(0,-1):new m(0,1)}(t,e);case Pi.CLOSEST_POINT:return yl(0,e);case Pi.OUTWARDS:return zu(t,e);default:return Ca(t,e)}}(s,A,l,d),rt=A.length-1,ht=A[rt-1].distance(A[rt])*d.coeff,w=yo(et,A[rt-1].difference(A[rt]).normalize());if(w>Math.PI/4){const T=ht+(w-Math.PI/4)*d.angleTangentCoefficient;p=et.clone().scale(T,T)}else p=et.clone().scale(ht,ht)}const j=function Kc(t,e,n,r){const{tau:s,coeff:u}=r,l=[],h=[],d=[],A=t.length-1;for(let y=0;y<A;y++)l[y]=t[y].distance(t[y+1]);h[0]=e,h[A]=n;for(let y=1;y<A;y++){let p,P;p=1===y?t[y-1].clone().offset(h[y-1].x,h[y-1].y):t[y-1].clone(),P=y===A-1?t[y+1].clone().offset(h[y+1].x,h[y+1].y):t[y+1].clone();const j=p.difference(t[y]).normalize(),B=P.difference(t[y]).normalize(),et=yo(j,B);let ht,rt=(Math.PI-et)/2;const ft=wo(j,B);let w;w=wo(t[y].difference(t[y+1]),t[y].difference(t[y-1])),ft<0&&(rt=-rt),et<Math.PI/2&&(rt<0&&w<0||rt>0&&w>0)&&(rt-=Math.PI),ht=B.clone(),qo(ht,rt);const T=ht.clone(),L=ht.clone(),Z=l[y-1]*u,X=l[y]*u;T.scale(Z,Z),L.scale(X,X),h[y]=[T,L]}for(let y=0;y<A;y++){let p,P;p=0===y?t[y+1].difference(h[y].x/s,h[y].y/s):t[y+1].difference(h[y][1].x/s,h[y][1].y/s),P=y===A-1?t[y].clone().offset(h[y+1].x/s,h[y+1].y/s):t[y].difference(h[y+1][0].x/s,h[y+1][0].y/s),d[y]=[p,t[y],t[y+1],P]}return d}(A,y,p,d).map(et=>function bl(t,e){const{tau:n}=e,r=new m;r.x=t[1].x+(t[2].x-t[0].x)/(6*n),r.y=t[1].y+(t[2].y-t[0].y)/(6*n);const s=new m;return s.x=t[2].x+(t[3].x-t[1].x)/(6*n),s.y=t[2].y+(t[3].y-t[1].y)/(6*n),new De(t[1],r,s,t[2])}(et,d)),B=new Yt(j).round(h);return u?B:B.serialize()};function Lu(t,e,n){const{sourceBBox:r}=t;let s;switch(s=r.sideNearestToPoint(r.width&&r.height?e[0]:e[1]),s){case"top":return new m(0,-1);case"bottom":return new m(0,1);case"right":return new m(1,0);case"left":return new m(-1,0)}}function Ca(t,e,n){const{targetBBox:r}=t;let s;switch(s=r.sideNearestToPoint(r.width&&r.height?e[e.length-1]:e[e.length-2]),s){case"top":return new m(0,-1);case"bottom":return new m(0,1);case"right":return new m(1,0);case"left":return new m(-1,0)}}function Ja(t,e,n){return e[1].difference(e[0]).normalize()}function yl(t,e,n){const r=e.length-1;return e[r-1].difference(e[r]).normalize()}function Pu(t,e,n){const{sourceBBox:r}=t,s=r.center();return e[0].difference(s).normalize()}function zu(t,e,n){const{targetBBox:r}=t,s=r.center();return e[e.length-1].difference(s).normalize()}function qo(t,e){const n=Math.cos(e),r=Math.sin(e),u=r*t.x+n*t.y;t.x=n*t.x-r*t.y,t.y=u}function yo(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function wo(t,e){return t.x*e.y-t.y*e.x}Va.Directions=Pi,Va.TangentDirections=Qr;const le={RENDER:"RENDER",UPDATE:"UPDATE",TOOLS:"TOOLS",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Ka=je.extend({className:function(){var t=je.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){je.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[le.RENDER],attrs:[le.UPDATE],router:[le.UPDATE],connector:[le.CONNECTOR],smooth:[le.UPDATE],manhattan:[le.UPDATE],toolMarkup:[le.LEGACY_TOOLS],labels:[le.LABELS],labelMarkup:[le.LABELS],vertices:[le.VERTICES,le.UPDATE],vertexMarkup:[le.VERTICES],source:[le.SOURCE,le.UPDATE],target:[le.TARGET,le.UPDATE]},initFlag:[le.RENDER,le.SOURCE,le.TARGET,le.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,le.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,le.SOURCE)}if(this.hasFlag(t,le.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,le.TARGET)}const{paper:n,sourceView:r,targetView:s}=this;if(n&&(r&&!n.isViewMounted(r)||s&&!n.isViewMounted(s)))return t;if(this.hasFlag(t,le.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),this.removeFlag(t,[le.RENDER,le.UPDATE,le.VERTICES,le.LABELS,le.TOOLS,le.LEGACY_TOOLS,le.CONNECTOR]);let u=!1;this.hasFlag(t,le.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,le.VERTICES));const{model:l}=this,{attributes:h}=l;let d=this.hasFlag(t,le.LABELS),A=this.hasFlag(t,le.LEGACY_TOOLS);d&&(this.onLabelsChange(l,h.labels,e),t=this.removeFlag(t,le.LABELS),u=!0),A&&(this.renderTools(),t=this.removeFlag(t,le.LEGACY_TOOLS));const y=this.hasFlag(t,le.UPDATE),p=this.hasFlag(t,le.CONNECTOR);return(y||p)&&(y?e.translateBy&&l.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[le.UPDATE,le.TOOLS,le.CONNECTOR]),d=!1,A=!1,u=!0),d&&this.updateLabelPositions(),A&&this.updateToolsPosition(),u&&this.updateHighlighters(),this.hasFlag(t,le.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,le.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(le.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],r=n.length;if(r>1&&e[n[1]]){if(2===r)return"markup"in Object(t.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=pt(t);Array.isArray(e)||(e=[e]);for(var n=this._V,r=0,s=e.length;r<s;r++){var u=e[r],l=u.attr("class");l&&(l=Yi(l),n[pe.camelCase(l)]=u)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if("string"==typeof t)return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=pt(t),n=document.createDocumentFragment();if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++)n.appendChild(e[r].node);else n.appendChild(e.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment&&t.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n,r=e.childNodes;return(n=r.length>1||"G"!==r[0].nodeName.toUpperCase()?pt("g").append(e):pt(r[0])).addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},r=this._labelSelectors={},s=this.model,u=s.attributes.labels||[],l=u.length;if(0===l)return e&&e.remove(),this;e?e.empty():(e=t.labels=pt("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(An(Ue(this,"className"))),e.attr("model-id",s.id)));for(var h=0;h<l;h++){var y,p,A=this._normalizeLabelMarkup(this._getLabelMarkup(u[h].markup));if(A)y=A.node,p=A.selectors;else{var j=this._normalizeLabelMarkup(this._getLabelMarkup(s._builtins.defaultLabel.markup)),B=s._getDefaultLabel(),rt=this._normalizeLabelMarkup(this._getLabelMarkup(B.markup))||j;y=rt.node,p=rt.selectors}y.setAttribute("label-idx",h),e.append(y),n[h]=y;var ht=this.selector;if(p[ht])throw new Error("dia.LinkView: ambiguous label root selector.");p[ht]=y,r[h]=p}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:r,options:s}=this,{labels:u}=r;if(!u||!n.hasLabels())return;const{node:l}=u;s.labelsLayer?e.getLayerView(s.labelsLayer).insertSortedNode(l,n.get("z")):l.parentNode!==t&&t.appendChild(l)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},onMount:function(){this.mountLabels()},unmount:function(){je.prototype.unmount.apply(this,arguments),this.unmountLabels()},findLabelNode:function(t,e){const n=this._labelCache[t];if(!n)return null;const r=this._labelSelectors[t],[s=null]=this.findBySelector(e,n,r);return s},_mergeLabelAttrs:function(t,e,n,r){return null===e?null:void 0===e?null===n?null:void 0===n?t?void 0:r:t?n:kn({},r,n):t?kn({},n,e):kn({},r,n,e)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),s=t._builtins.defaultLabel.attrs,u=t._getDefaultLabel(),l=u.markup,h=u.attrs,d=0,A=e.length;d<A;d++){var y=this._labelCache[d];y.setAttribute("cursor",n?"move":"default");var p=this._labelSelectors[d],P=e[d],et=this._mergeLabelAttrs(P.markup||l,P.attrs,h,s);this.updateDOMSubtreeAttributes(y,et,{rootBBox:new Pt(P.size),selectors:p})}return this},renderTools:function(){if(!this._V.linkTools)return this;var r,t=pe(this._V.linkTools.node).empty(),e=Q(this.model.get("toolMarkup")||this.model.toolMarkup),n=pt(e());return t.append(n.node),this._toolCache=n,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=Q(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=pt(e())):r=n.clone(),t.append(r.node),this._tool2Cache=r),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=pe(this._V.markerVertices.node).empty(),e=Q(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){t.append(pt(e(b({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=pe(this._V.markerArrowheads.node);t.empty();var e=Q(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=pt(e({end:"source"})),this._V.targetArrowhead=pt(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const n=this.model,r=n.vertices(),s=[this.sourceAnchor,...r,this.targetAnchor],u=s.length,l=new $e(s);l.simplify({threshold:.001});const h=l.points.map(A=>A.toJSON()),d=h.length;return u===d?0:(n.vertices(h.slice(1,d-1),t),u-d)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new m(this.sourceAnchor);case"target":return new m(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new m(this.sourcePoint);case"target":return new m(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:r}=this;if(!n||!r)return;const s=new $e(n);s.translate(t,e),this.route=s.points,this._translateConnectionPoints(t,e),r.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),r=this.sourceAnchor=n.source,s=this.targetAnchor=n.target,u=this.findRoute(e);this.route=u;var l=this.findConnectionPoints(u,r,s);this.sourcePoint=l.source,this.targetPoint=l.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,r=this.findMarkerPoints(t,e,n),s=this.findPath(t,r.source||e,r.target||n);this.path=s},findMarkerPoints:function(t,e,n){var l,h,r=t[0],s=t[t.length-1],u=this._markerCache;return this._V.markerSource&&(u.sourceBBox=u.sourceBBox||this._V.markerSource.getBBox(),l=m(e).move(r||n,u.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(u.targetBBox=u.targetBBox||this._V.markerTarget.getBBox(),h=m(n).move(s||e,u.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),u.sourcePoint=l||e.clone(),u.targetPoint=h||n.clone(),{source:l,target:h}},findAnchorsOrdered:function(t,e,n,r){var s,u,l,h,d=this.model,A=d.get(t),y=d.get(n),p=this.getEndView(t),P=this.getEndView(n),j=this.getEndMagnet(t),B=this.getEndMagnet(n);p?(l=e?new m(e):P?B:new m(y),s=this.getAnchor(A.anchor,p,j,l,t)):s=new m(A),P?(h=new m(r||s),u=this.getAnchor(y.anchor,P,B,h,n)):u=new m(y);var et={};return et[t]=s,et[n]=u,et},findAnchors:function(t){var e=this.model,n=t[0],r=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(t,e,n){var p,P,j,ht,r=t[0],s=t[t.length-1],u=this.model,l=u.get("source"),h=u.get("target"),d=this.sourceView,A=this.targetView,y=this.paper.options;if(d&&!d.isNodeConnection(this.sourceMagnet)){p=this.sourceMagnet||d.el;var B=l.connectionPoint||y.defaultConnectionPoint,rt=new tt(r||n,e);j=this.getConnectionPoint(B,d,p,rt,"source")}else j=e;if(A&&!A.isNodeConnection(this.targetMagnet)){P=this.targetMagnet||A.el;var ft=h.connectionPoint||y.defaultConnectionPoint,T=new tt(s||e,n);ht=this.getConnectionPoint(ft,A,P,T,"target")}else ht=n;return{source:j,target:ht}},getAnchor:function(t,e,n,r,s){var h,u=e.isNodeConnection(n),l=this.paper.options;if(t||(t=u?l.defaultLinkAnchor:l.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:l.defaultAnchor),!t)throw new Error("Anchor required.");if("function"==typeof t)h=t;else{var d=t.name;if("function"!=typeof(h=l[u?"linkAnchorNamespace":"anchorNamespace"][d]))throw new Error("Unknown anchor: "+d)}var y=h.call(this,e,n,r,t.args||{},s,this);return y?y.round(this.decimalsRounding):new m},getConnectionPoint:function(t,e,n,r,s){var u,A,l=r.end,h=this.paper.options;if("function"==typeof h.linkConnectionPoint&&(u=h.linkConnectionPoint(this,e,n===e.el?void 0:n,r.start,s)))return u;if(!t)return l;if("function"==typeof t)A=t;else{var y=t.name;if("function"!=typeof(A=h.connectionPointNamespace[y]))throw new Error("Unknown connection point: "+y)}return(u=A.call(this,r,e,n,t.args||{},s,this))?u.round(this.decimalsRounding):l},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_normalizeLabelPosition:function(t){return"number"==typeof t?{distance:t,offset:null,angle:0,args:null}:t},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var s=e._builtins.defaultLabel.position,u=e._getDefaultLabel(),l=this._normalizeLabelPosition(u.position),h=kn({},s,l),d=0,A=n.length;d<A;d++){var y=this._labelCache[d];if(y){var P=this._normalizeLabelPosition(n[d].position),j=kn({},h,P),B=this._getLabelTransformationMatrix(j);y.setAttribute("transform",pt.matrixToTransformString(B)),this._cleanLabelMatrices(d)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,r=n[t];if(r)for(let s in r){const{id:u}=r[s];u&&u in e&&delete e[u].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength?(r=this.getPointAtLength(n-(this.options.doubleLinkToolsOffset||e)),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")):this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===pe.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:n}=this,r=`${t}View`,s=e.get(t),u=s&&s.id;if(!u)return this[r]=null,this.updateEndMagnet(t),!0;const l=n.getModelById(u);if(!l)throw new Error("LinkView: invalid "+t+" cell.");const h=l.findView(n);return!!h&&(this[r]=h,this.updateEndMagnet(t),!0)},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(t));r===n.el&&(r=null),this[e]=r}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var n=Ut(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(t){return(this.model.label(t).position||{}).angle||0},_getLabelPositionArgs:function(t){return(this.model.label(t).position||{}).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(t,e){return null===t?null:void 0===t?null===e?null:e:kn({},e,t)},addLabel:function(t,e,n,r){var s,u,h,l=0;"number"!=typeof t?(s=t.x,u=t.y,"number"==typeof e?(l=e,h=n):h=e):(s=t,u=e,"number"==typeof n?(l=n,h=r):h=n);var d=this._getDefaultLabelPositionArgs(),y=this._mergeLabelPositionArgs(h,d),p={position:this.getLabelPosition(s,u,l,y)};return this.model.insertLabel(-1,p,h),-1},addVertex:function(t,e,n){var r="number"!=typeof t,s=r?t.x:t,u=r?t.y:e,l=r?e:n,h={x:s,y:u},d=this.getVertexIndex(s,u);return this.model.insertVertex(d,h,l),d},sendToken:function(t,e,n){var s,u,l;fn(e)?(s=e.duration,u="reverse"===e.direction,l=e.connection):(s=e,u=!1,l=null);var h={dur:(s=s||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};u&&(h.keyPoints="1;0",h.keyTimes="0;1");var A,d=pt(t);if("string"==typeof l)A=this.findBySelector(l,this.el,this.selectors)[0];else{var y=this._V;A=y.connection?y.connection.node:this.el.querySelector("path")}if(!(A instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");d.appendTo(this.paper.cells).animateAlongPath(h,A),setTimeout(function r(p,P){return function(){p.remove(),"function"==typeof P&&P()}}(d,n),s)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||Xt,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return t.map(m);n=r}var s=Rt(n)?n:e[n.name];if(!Rt(s))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');return s.call(this,t,n.args||{},this)||t.map(m)},findPath:function(t,e,n){var r=this.paper.options.connectorNamespace||Bn,s=this.model.connector();s||(s=this.paper.options.defaultConnector||{});var l=Rt(s)?s:r[s.name];if(!Rt(l))throw new Error('dia.LinkView: unknown connector: "'+s.name+'".');var h=bt(s.args||{});h.raw=!0;var d=l.call(this,e,n,t,h,this);return"string"==typeof d&&(d=new Yt(pt.normalizePathData(d))),d},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(hr(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,r){var l,s={},u=0;"number"==typeof n?(u=n,l=r):l=n,l&&(s.args=l);var et,rt,h=!(l&&l.absoluteDistance),d=l&&l.absoluteDistance&&l.reverseDistance,A=l&&l.absoluteOffset,y=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},P=new m(t,e),j=y.closestPointT(P,p),B=y.lengthAtT(j,p);if(h&&(B=B/this.getConnectionLength()||0),d&&(B=-1*(this.getConnectionLength()-B)||1),s.distance=B,A||(et=y.tangentAtT(j)),et)rt=et.pointOffset(P);else{var ht=y.pointAtT(j),ft=P.difference(ht);rt={x:ft.x,y:ft.y}}return s.offset=rt,s.angle=u,s},_getLabelTransformationMatrix:function(t){var e,n=0,r={};if("number"==typeof t)e=t;else{if("number"!=typeof t.distance)throw new Error("dia.LinkView: invalid label position distance.");r=t.args||{},e=t.distance,n=t.angle||0}var s=e>0&&e<=1,u=0,l={x:0,y:0};if(t.offset){var h=t.offset;"number"==typeof h&&(u=h),h.x&&(l.x=h.x),h.y&&(l.y=h.y)}var et,d=0!==l.x||0!==l.y||0===u,A=r.keepGradient,y=r.ensureLegibility,p=this.path,P={segmentSubdivisions:this.getConnectionSubdivisions()},j=s?e*this.getConnectionLength():e,B=p.tangentAtLength(j,P),rt=n;if(B){if(d)(et=B.start).offset(l);else{var ht=B.clone();ht.rotate(B.start,-90),ht.setLength(u),et=ht.end}A&&(rt=B.angle()+n,y&&(rt=qn((rt+90)%180-90)))}else et=p.start,d&&et.offset(l);return pt.createSVGMatrix().translate(et.x,et.y).rotate(rt)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new m(e.e,e.f)},getVertexIndex:function(t,e){for(var r=this.model.vertices(),s=this.getClosestPointLength(new m(t,e)),u=0,l=r.length;u<l&&!(s<this.getClosestPointLength(r[u]));u++);return u},notifyPointerdown(t,e,n){je.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){je.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),je.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){je.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){je.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){je.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){switch(this.notifyPointerdown(t,e,n),t.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(t,e,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(t,e,n);case"marker-arrowhead":return void this.dragArrowheadStart(t,e,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(t,e,n);case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var r=this._dragData;switch(r&&this.eventData(t,r),this.eventData(t).action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n)}r&&b(r,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var r=this._dragData;switch(r&&(this.eventData(t,r),this._dragData=null),this.eventData(t).action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){je.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){je.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){je.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){je.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,r){je.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){var s=pt(t.target).findParentByClass("link-tool",this.el);if(s){if(t.stopPropagation(),this.can("useLinkTools")){if("remove"===e)return void this.model.remove({ui:!0});this.notify(e,t,n,r)}this.notifyPointerdown(t,n,r),this.paper.delegateDragEvents(this,t.data)}else je.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n),this.eventData(t).stopPropagation&&t.stopPropagation()},dragConnectionStart:function(t,e,n){if(this.can("vertexAdd")){var r=this.addVertex({x:e,y:n},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(t,e,n){if(this.can("labelMove")){var s=parseInt(t.currentTarget.getAttribute("label-idx"),10),u=this._getLabelPositionAngle(s),l=this._getLabelPositionArgs(s),h=this._getDefaultLabelPositionArgs(),d=this._mergeLabelPositionArgs(l,h);this.eventData(t,{action:"label-move",labelIdx:s,positionAngle:u,positionArgs:d,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,n){if(this.can("vertexMove")){var s=parseInt(t.target.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:s})}},dragVertexRemoveStart:function(t,e,n){if(this.can("vertexRemove")){var s=parseInt(t.target.getAttribute("idx"),10);this.model.removeVertex(s)}},dragArrowheadStart:function(t,e,n){if(this.can("arrowheadMove")){var s=t.target.getAttribute("end"),u=this.startArrowheadMove(s,{ignoreBackwardsCompatibility:!0});this.eventData(t,u)}},dragStart:function(t,e,n){!this.can("linkMove")||this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var r=this.eventData(t),s={position:this.getLabelPosition(e,n,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete s.position.offset,this.model.label(r.labelIdx,s)},dragVertex:function(t,e,n){var r=this.eventData(t);this.model.vertex(r.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?this._snapArrowhead(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var r=this.eventData(t);this.model.translate(e-r.dx,n-r.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var r=this.eventData(t),s=this.paper;s.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,e,n),s.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,t)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(t){"remove"===t.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(t.arrowhead,t.initialEnd,{ui:!0})},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,r=t.initialEnd,s=this.model.prop(n);if(s&&!On.endsEqual(r,s)){var l=this.paper;r.id&&this.notify("link:disconnect",e,l.findViewByModel(r.id),t.initialMagnet,n),s.id&&this.notify("link:connect",e,l.findViewByModel(s.id),t.magnetUnderPointer,n)}},_snapArrowhead:function(t,e,n){const{paper:r}=this,{snapLinks:s,connectionStrategy:u}=r.options,l=this.eventData(t);var h=s.radius||50,d=r.findViewsInArea({x:e-h,y:n-h,width:2*h,height:2*h}),A=l.closestView||null,y=l.closestMagnet||null,p=l.magnetProxy||null;l.closestView=l.closestMagnet=l.magnetProxy=null;var P=Number.MAX_VALUE,j=new m(e,n);d.forEach(function(T){const L=[];"false"!==T.el.getAttribute("magnet")&&L.push({bbox:T.model.getBBox(),magnet:T.el}),T.$("[magnet]").toArray().forEach(Z=>{L.push({bbox:T.getNodeBBox(Z),magnet:Z})}),L.forEach(Z=>{const{magnet:X,bbox:at}=Z,ut=at.center().squaredDistance(j);ut<P&&(y===X||r.options.validateConnection.apply(r,l.validateConnectionArgs(T,T.el===X?null:X)))&&(P=ut,l.closestView=T,l.closestMagnet=X)})},this);var B,et=null,rt=l.closestView,ht=l.closestMagnet;ht&&(et=l.magnetProxy=rt.findProxyNode(ht,"highlighter"));var ft=l.arrowhead,w=y!==ht;if(A&&w&&A.unhighlight(p,{connecting:!0,snapping:!0}),rt){const{prevEnd:T,prevX:L,prevY:Z}=l;if(l.prevX=e,l.prevY=n,!w&&("function"!=typeof u||L===e&&Z===n)||(B=rt.getLinkEnd(ht,e,n,this.model,ft),!w&&Zt(T,B)))return;l.prevEnd=B,w&&rt.highlight(et,{connecting:!0,snapping:!0})}else B={x:e,y:n};this.model.set(ft,B||{x:e,y:n},{ui:!0}),A&&this.notify("link:snap:disconnect",t,A,y,ft),rt&&this.notify("link:snap:connect",t,rt,ht,ft)},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,r){const{paper:s,model:u}=this;if(r.eventTarget!==t){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const l=r.viewUnderPointer=s.findView(t);if(l){const h=r.magnetUnderPointer=l.findMagnet(t),d=r.magnetProxy=l.findProxyNode(h,"highlighter");h&&this.paper.options.validateConnection.apply(s,r.validateConnectionArgs(l,h))?d&&l.highlight(d,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=t,u.set(r.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:r}=this,{viewUnderPointer:s,magnetUnderPointer:u,magnetProxy:l,arrowhead:h}=t;if(!u||!l||!s)return;s.unhighlight(l,{connecting:!0});const d=s.getLinkEnd(u,e,n,r,h);r.set(h,d,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){null!==t.z&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,r=0,s=0;"source"===t?(r=2,n="target"):(s=2,n="source");var u=this.model.get(n);if(u.id){var l=e[r]=this.paper.findViewByModel(u.id),h=l.getMagnetFromLinkEnd(u);h===l.el&&(h=void 0),e[r+1]=h}return function d(A,y){return e[s]=A,e[s+1]=A.el===y?void 0:y,e}},_markAvailableMagnets:function(t){function e(p,P){var j=p.paper;return j.options.validateConnection.apply(j,this.validateConnectionArgs(p,P))}var n=this.paper,r=n.model.getCells();t.marked={};for(var s=0,u=r.length;s<u;s++){var l=r[s].findView(n);if(l){var h=Array.prototype.slice.call(l.el.querySelectorAll("[magnet]"));"false"!==l.el.getAttribute("magnet")&&h.push(l.el);var d=h.filter(e.bind(t,l));if(d.length>0){for(var A=0,y=d.length;A<y;A++)l.highlight(d[A],{magnetAvailability:!0});l.highlight(null,{elementAvailability:!0}),t.marked[l.model.id]=d}}}},_unmarkAvailableMagnets:function(t){for(var n,r,e=Object.keys(t.marked),s=0,u=e.length;s<u;s++){r=t.marked[n=e[s]];var l=this.paper.findViewByModel(n);if(l){for(var h=0,d=r.length;h<d;h++)l.unhighlight(r[h],{magnetAvailability:!0});l.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:bt(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),!0!==e.ignoreBackwardsCompatibility&&(this._dragData=n),n},onRemove:function(){je.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:le});Object.defineProperty(Ka.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new Pt(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new Pt(this.sourceAnchor):t.getNodeBBox(n||t.el)}}),Object.defineProperty(Ka.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new Pt(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new Pt(this.targetAnchor):t.getNodeBBox(n||t.el)}});const Ii={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Qc=_n.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return An(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;(t=+t)||(t=0);let r=n[t];if(r)return r;r=n[t]=document.createComment("z-index:"+(t+1));let s=-1/0;for(let u in n)u=+u,u<t&&u>s&&(s=u);return e.insertBefore(r,s!==-1/0?n[s].nextSibling:e.firstChild),r},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}}),xl=Ji.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:r}=n;let s;try{const u=pt(e);if(s=u.convertToPathData().trim(),"PATH"===u.tagName()&&r){const l=s.search(/.M/i)+1;l>0&&(s=s.substr(0,l))}}catch{const l=t.getNodeBoundingRect(e);s=pt.rectToPath(b({},n,l.toJSON()))}return s},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:r}=this,{padding:s,layer:u}=r;let l=t.getNodeMatrix(e);if(s){!u&&e===t.el&&n.remove();let h=t.getNodeBoundingRect(e);const d=h.x+h.width/2,A=h.y+h.height/2;h=pt.transformRect(h,l);const y=Math.max(h.width,1),p=Math.max(h.height,1),P=(y+s)/y,j=(p+s)/p,B=pt.createSVGMatrix({a:P,b:0,c:0,d:j,e:d-P*d,f:A-j*A});l=l.multiply(B)}n.attr({d:this.getPathData(t,e),transform:pt.matrixToTransformString(l)})},highlight(t,e){const{vel:n,options:r}=this;n.attr(r.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),cs=20,Ml=Ji.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:cs,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:s}=this,u=e.tagName();if(!pt.isSVGGraphicsElement(e)||s.includes(u))return e.remove(),!1;if(r.includes(u)){const l=t.vel.findOne(`#${e.id}`);if(l){const{node:h}=l;let d=t.getNodeBoundingRect(h);t.model.isElement()&&(d=pt.transformRect(d,t.getNodeMatrix(h)));const A=pt("rect",d.toJSON()),{x:y,y:p}=d.center(),{angle:P,cx:j=y,cy:B=p}=l.rotate();P&&A.rotate(P,j,B),e.parent().append(A)}return e.remove(),!1}return n.forEach(l=>{"fill"===l&&"none"===e.attr("fill")||e.removeAttr(l)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{e.removeAttr(r)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:s}=n,u=e.tagName();let l;if("G"===u){if(!s)return null;l=e.clone(),function Nl(t,e){const n=t.children();for(;n.length>0;){const r=n.shift();e(r)&&n.push(...r.children())}}(l,h=>this.transformMaskChild(t,h))}else{if(r.includes(u))return null;l=e.clone()}return this.transformMaskRoot(t,l),l},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:r,options:s}=this,{padding:u,attrs:l}=s,h="stroke-width"in l?l["stroke-width"]:1,d="none"!==e.attr("fill");let A=parseFloat(e.attr("stroke-width"));isNaN(A)&&(A=1);const y=A+2*u,p=y+2*h;let P=this.getMaskShape(t,e);if(!P){const j=t.getNodeBoundingRect(e.node);j.inflate(j.width?0:.5,j.height?0:.5),P=pt("rect",j.toJSON())}return P.attr(l),pt("mask",{id:this.getMaskId()}).append([P.clone().attr({fill:d?n:"none",stroke:n,"stroke-width":p}),P.clone().attr({fill:d?r:"none",stroke:r,"stroke-width":y})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:r}=this,{padding:s,attrs:u,maskClip:l=cs,layer:h}=n,d="stroke"in u?u.stroke:"#000000";!h&&e===t.el&&r.remove();const A=t.getNodeBoundingRect(e).inflate(s+l),y=this.getMask(t,pt(e));this.addMask(t.paper,y),r.attr(A.toJSON()),r.attr({transform:pt.matrixToTransformString(t.getNodeMatrix(e)),mask:`url(#${y.id})`,fill:d})},unhighlight(t){this.removeMask(t.paper)}}),qc=Ji.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:An("highlight-opacity"),highlight:function(t,e){pt(e).addClass(this.opacityClassName)},unhighlight:function(t,e){pt(e).removeClass(this.opacityClassName)}}),ku=An("highlighted"),$c=Ji.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:ku},highlight:function(t,e){pt(e).addClass(this.options.className)},unhighlight:function(t,e){pt(e).removeClass(this.options.className)}},{className:ku});function tf(t,e,n,r){return t.getPointAtRatio("ratio"in r?r.ratio:.5)}function zs(t,e,n,r){return t.getPointAtLength("length"in r?r.length:20)}function ya(t){return function(e,n,r,s){if(r instanceof Element){var l,u=this.paper.findView(r);if(u)if(u.isNodeConnection(r)){var h="fixedAt"in s?s.fixedAt:"50%";l=bo(u,h)}else l=u.getNodeBBox(r).center();else l=new m;return t.call(this,e,n,l,s)}return t.apply(this,arguments)}}function bo(t,e){var n=parseFloat(e);return hr(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const Qa=ya(function Eu(t,e,n,r){var s=1e6,u=t.getConnection(),l=t.getConnectionSubdivisions(),h=new tt(n.clone().offset(0,s),n.clone().offset(0,-s)),d=new tt(n.clone().offset(s,0),n.clone().offset(-s,0)),A=h.intersect(u,{segmentSubdivisions:l}),y=d.intersect(u,{segmentSubdivisions:l}),p=[];return A&&Array.prototype.push.apply(p,A),y&&Array.prototype.push.apply(p,y),p.length>0?n.chooseClosest(p):"fallbackAt"in r?bo(t,r.fallbackAt):ue(t,e,n,r)}),ue=ya(function Ou(t,e,n,r){return t.getClosestPoint(n)||new m});function wa(t,e,n){if(Ot(n)){const{x:s,y:u}=n;if(isFinite(u)){const l=new tt(e,t),{start:h,end:d}=l.parallel(u);e=h,t=d}n=s}if(!isFinite(n))return t;var r=t.distance(e);return 0===n&&r>0?t:t.move(e,-Math.min(n,r-1))}function xo(t){var e=t.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}function $o(t,e,n,r){var s=e.getNodeBBox(n);r.stroke&&s.inflate(xo(n)/2);var u=t.intersect(s);return wa(u?t.start.chooseClosest(u):t.end,t.start,r.offset)}var ju="segmentSubdivisons",Gu="shapeBBox";const nf=function ef(t,e,n,r){let{offset:s,alignOffset:u,align:l}=r;return l&&function ba(t,e,n=0){let r,s,u,l;const{start:h,end:d}=t;switch(e){case"left":r="x",s=d,u=h,l=-1;break;case"right":r="x",s=h,u=d,l=1;break;case"top":r="y",s=d,u=h,l=-1;break;case"bottom":r="y",s=h,u=d,l=1;break;default:return}h[r]<d[r]?s[r]=u[r]:u[r]=s[r],isFinite(n)&&(s[r]+=l*n,u[r]+=l*n)}(t,l,u),wa(t.end,t.start,s)},Dl=$o,rf=function Sl(t,e,n,r){var s=e.model.angle();if(0===s)return $o(t,e,n,r);var u=e.getNodeUnrotatedBBox(n);r.stroke&&u.inflate(xo(n)/2);var l=u.center(),h=t.clone().rotate(l,s),d=h.setLength(1e6).intersect(u);return wa(d?h.start.chooseClosest(d).rotate(l,-s):t.end,t.start,r.offset)},sf=function Tl(t,e,n,r){var s,u,l=r.selector,h=t.end;if(s="string"==typeof l?e.findBySelector(l)[0]:Array.isArray(l)?Fi(n,l):function Er(t){if(!t)return null;var e=t;do{var n=e.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))e=e.firstElementChild;else{if("TITLE"!==n)break;e=e.nextElementSibling}}while(e);return e}(n),!pt.isSVGGraphicsElement(s)){if(s===n||!pt.isSVGGraphicsElement(n))return h;s=n}var ft,d=e.getNodeShape(s),A=e.getNodeMatrix(s),y=e.getRootTranslateMatrix(),p=e.getRootRotateMatrix(),P=y.multiply(p).multiply(A),j=P.inverse(),B=pt.transformLine(t,j),et=B.start.clone(),rt=e.getNodeData(s);if(!1===r.insideout&&(rt[Gu]||(rt[Gu]=d.bbox()),rt[Gu].containsPoint(et)))return h;if(d instanceof Yt){var w=r.precision||2;rt[ju]||(rt[ju]=d.getSegmentSubdivisions({precision:w})),ft={precision:w,segmentSubdivisions:rt[ju]}}!0===r.extrapolate&&B.setLength(1e6),(u=B.intersect(d,ft))?pt.isArray(u)&&(u=et.chooseClosest(u)):!0===r.sticky&&(u=d instanceof Pt?d.pointNearestToPoint(et):d instanceof ye?d.intersectionWithLineFromCenterToPoint(et):d.closestPoint(et,ft));var T=u?pt.transformPoint(u,P):h,L=r.offset||0;return r.stroke&&(L+=xo(s)/2),wa(T,t.start,L)};function ks(t){return function(e,n,r,s){var u=!!s.rotate,l=u?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),h=l[t](),d=s.dx;if(d){var A=hr(d);d=parseFloat(d),isFinite(d)&&(A&&(d/=100,d*=l.width),h.x+=d)}var y=s.dy;if(y){var p=hr(y);y=parseFloat(y),isFinite(y)&&(p&&(y/=100,y*=l.height),h.y+=y)}return u?h.rotate(e.model.getBBox().center(),-e.model.angle()):h}}const af=ks("center"),Bu=ks("topMiddle"),of=ks("bottomMiddle"),uf=ks("leftMiddle"),No=ks("rightMiddle"),Ll=ks("origin"),Pl=ks("topRight"),lf=ks("bottomLeft"),cf=ks("corner"),ff=ya(function Es(t,e,n,r){var s=t.model.angle(),u=t.getNodeBBox(e),l=u.center(),h=u.origin(),d=u.corner(),A=r.padding;if(isFinite(A)||(A=0),h.y+A<=n.y&&n.y<=d.y-A){var y=n.y-l.y;l.x+=0===s||180===s?0:1*y/Math.tan(ln(s)),l.y+=y}else if(h.x+A<=n.x&&n.x<=d.x-A){var p=n.x-l.x;l.y+=90===s||270===s?0:p*Math.tan(ln(s)),l.x+=p}return l}),hf=ya(function qr(t,e,n,r){var u,l,h,s=!!r.rotate;s?(u=t.getNodeUnrotatedBBox(e),h=t.model.getBBox().center(),l=t.model.angle()):u=t.getNodeBBox(e);var y,d=r.padding;switch(isFinite(d)&&u.inflate(d),s&&n.rotate(h,l),u.sideNearestToPoint(n)){case"left":y=u.leftMiddle();break;case"right":y=u.rightMiddle();break;case"top":y=u.topMiddle();break;case"bottom":y=u.bottomMiddle()}return s?y.rotate(h,-l):y}),zl=function Zu(t,e,n,r,s){return t.model.getPointFromConnectedLink(this.model,s).offset(r.dx,r.dy)},xa={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Mo=9007199254740991,Na=je.Highlighting,tu={[Na.DEFAULT]:{name:"stroke",options:{padding:3}},[Na.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[Na.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},El=[{name:Ii.BACK},{name:Ii.CELLS},{name:Ii.LABELS},{name:Ii.FRONT},{name:Ii.TOOLS}],Wu=_n.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:En,linkView:Ka,snapLabels:!1,snapLinks:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:tu,preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new On,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,n){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,n,r,s,u){return("target"===s?n:t)instanceof En},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:xa.EXACT,frozen:!1,onViewUpdate:function(t,e,n,r,s){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||r.mounting||r.isolate||s.requestConnectedLinksUpdate(t,n,r)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:ve,anchorNamespace:gn,linkAnchorNamespace:We,connectionPointNamespace:wn},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&Fr(joint,"shapes")?joint.shapes:null);const n=this.model=t.model||new $s;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this.$document=pe(e.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var r=n.position;this.isAsync()||!me(r)?this.renderView(t,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(t,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const r=this.findViewByModel(t);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===xa.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.updateViews(t)}var s=this.SORT_DELAYING_BATCHES;s.includes(e)&&!n.hasActiveBatch(s)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:s,defaultLinkAnchor:u,origin:l,highlighting:h,cellViewNamespace:d,interactive:A}=t;!d&&typeof joint<"u"&&Fr(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),Rt(e)||(t.defaultConnector=ot(e)),Rt(n)||(t.defaultRouter=ot(n)),Rt(r)||(t.defaultConnectionPoint=ot(r)),Rt(s)||(t.defaultAnchor=ot(s)),Rt(u)||(t.defaultLinkAnchor=ot(u)),Ot(A)&&(t.interactive=b({},A)),Ot(h)&&(t.highlighting=Y({},h,tu)),t.origin=b({},l)},children:function(){var t=pt.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:An("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:An("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:An("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:n,defs:r,layers:s,background:u,grid:l}=t;return this.svg=n,this.defs=r,this.layers=s,this.$background=pe(u),this.$grid=pe(l),this.renderLayers(),pt.ensureId(n),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=El){this.removeLayers(),t.forEach(({name:s})=>{const l=new Qc({name:s});this.layers.appendChild(l.el),this._layers[s]=l});const e=this.getLayerView(Ii.CELLS),n=this.getLayerView(Ii.TOOLS),r=this.getLayerView(Ii.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(An("viewport")),r.vel.addClass(An("viewport"))},removeLayers:function(){const{_layers:t}=this;Object.keys(t,e=>{t[e].remove(),delete t[e]})},resetLayers:function(){const{_layers:t}=this;Object.keys(t,e=>{t[e].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(void 0===t){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),pt.createSVGMatrix(t)}t=pt.createSVGMatrix(t);var r=pt.matrixToTransformString(t);return e.setAttribute("transform",r),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return pt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof je)for(var r=t.model,s=this.model.getConnectedLinks(r),u=0,l=s.length;u<l;u++){var h=s[u],d=this.findViewByModel(h);if(d){var A=["UPDATE"];h.getTargetCell()===r&&A.push("TARGET"),h.getSourceCell()===r&&A.push("SOURCE");var y=Math.max(e+1,d.UPDATE_PRIORITY);this.scheduleViewUpdate(d,d.getFlag(A),y,n)}}},forcePostponedViewUpdate:function(t,e){if(!(t&&t instanceof je))return!1;var n=t.model;if(n.isElement())return!1;if(0==(e&t.getFlag(["SOURCE","TARGET"]))){var r=0,s=this.findViewByModel(n.getSourceCell());s&&!this.isViewMounted(s)&&(r=this.dumpView(s),t.updateEndMagnet("source"));var u=0,l=this.findViewByModel(n.getTargetCell());if(l&&!this.isViewMounted(l)&&(u=this.dumpView(l),t.updateEndMagnet("target")),0===r&&0===u)return!this.dumpView(t)}return!1},requestViewUpdate:function(t,e,n,r){r||(r={}),this.scheduleViewUpdate(t,e,n,r);var s=this.isAsync();if(!(this.isFrozen()||s&&!1!==r.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var u=this.updateViews(r);s&&this.notifyAfterRender(u,r)}},scheduleViewUpdate:function(t,e,n,r){const{_updates:s,options:u}=this,{FLAG_REMOVE:l,FLAG_INSERT:h,UPDATE_PRIORITY:d,cid:A}=t;let y=s.priorities[n];if(y||(y=s.priorities[n]={}),n>d)for(let j=n-1;j>=d;j--){const B=s.priorities[j];!B||!(A in B)||(y[A]|=B[A],delete B[A])}let p=y[A]||0;if((p&e)===e)return;p||s.count++,e&l&&p&h?y[A]^=h:e&h&&p&l&&(y[A]^=l),y[A]|=e;const P=u.onViewUpdate;"function"==typeof P&&P.call(this,t,e,n,r||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var n=t.cid,r=this._updates.priorities[t.UPDATE_PRIORITY],s=this.registerMountedView(t)|r[n];return delete r[n],s},dumpView:function(t,e){var n=this.dumpViewUpdate(t);return n?this.updateView(t,n,e):0},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:s,model:u}=t;if(t instanceof je){if(e&r)return this.removeView(u),0;e&s&&(this.insertView(t),e^=s)}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var r=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],r},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var r=n.unmounted[e]||0;return delete n.unmounted[e],r},isViewMounted:function(t){return!!t&&t.cid in this._updates.mounted},dumpViews:function(t){var e=D({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,r=0,s=Mo;do{r++,e=this.updateViewsBatch(t),n+=e.updated,s=Math.min(e.priority,s)}while(!e.empty);const u={updated:n,batches:r,priority:s};return this.notifyAfterRender(u,t),u},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let r in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:Mo});var n=this._updates,r=n.id;if(r){ha(r),0===e.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);var s=this.updateViewsBatch(t),u=D({},t,{mountBatchSize:1e3-s.mounted,unmountBatchSize:1e3-s.unmounted}),l=this.checkViewport(u),h=l.unmounted,d=l.mounted,A=e.processed,y=n.count;s.updated>0&&(s.processed=A+=s.updated+s.unmounted,e.priority=Math.min(s.priority,e.priority),s.empty&&0===d?(s.unmounted+=h,s.mounted+=d,s.priority=e.priority,this.notifyAfterRender(s,t),e.processed=0,e.priority=Mo,n.count=0):e.processed=A);var p=t.progress;if(y&&"function"==typeof p&&p.call(this,s.empty,A,y,s,this),n.id!==r)return}n.id=Xs(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;"function"!=typeof e&&(e=this.options.beforeRender,"function"!=typeof e)||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;"function"!=typeof n&&(n=this.options.afterRender),"function"==typeof n&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||1/0,n=this._updates,r=0,s=0,u=0,l=0,h=Mo,d=!0,A=this.options,y=n.priorities,p="viewport"in t?t.viewport:A.viewport;"function"!=typeof p&&(p=null);var P=A.onViewPostponed;"function"!=typeof P&&(P=null);var j=Object.keys(y);t:for(var B=0,et=j.length;B<et;B++){var rt=+j[B],ht=y[rt];for(var ft in ht){if(r>=e){d=!1;break t}var w=Pr[ft];if(w){var T=ht[ft];if(0==(T&w.FLAG_REMOVE)){var L=ft in n.unmounted;if(w.DETACHABLE&&p&&!p.call(this,w,!L,this)){L||(this.registerUnmountedView(w),w.unmount()),n.unmounted[ft]|=T,delete ht[ft],u++;continue}L&&(T|=w.FLAG_INSERT,l++),T|=this.registerMountedView(w)}var Z=this.updateView(w,T,t);Z>0&&(ht[ft]=Z,!P||!P.call(this,w,Z,this)||ht[ft])?(s++,d=!1):(h>rt&&(h=rt),r++,delete ht[ft])}else delete ht[ft]}}return{priority:h,updated:r,postponed:s,unmounted:u,mounted:l,empty:d}},getUnmountedViews:function(){const e=Object.keys(this._updates.unmounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Pr[e[s]];return r},getMountedViews:function(){const e=Object.keys(this._updates.mounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Pr[e[s]];return r},checkUnmountedViews:function(t,e){e||(e={});var n=0;"function"!=typeof t&&(t=null);for(var s=this._updates,u=s.unmountedCids,l=s.unmounted,h=0,d=(Math.min(u.length,"mountBatchSize"in e?e.mountBatchSize:1/0));h<d;h++){var A=u[h];if(A in l){var y=Pr[A];if(y){if(y.DETACHABLE&&t&&!t.call(this,y,!1,this)){u.push(A);continue}n++;var p=this.registerMountedView(y);p&&this.scheduleViewUpdate(y,p,y.UPDATE_PRIORITY,{mounting:!0})}}}return u.splice(0,h),n},checkMountedViews:function(t,e){e||(e={});var n=0;if("function"!=typeof t)return n;for(var s=this._updates,u=s.mountedCids,l=s.mounted,h=0,d=(Math.min(u.length,"unmountBatchSize"in e?e.unmountBatchSize:1/0));h<d;h++){var A=u[h];if(A in l){var y=Pr[A];if(y){if(!y.DETACHABLE||t.call(this,y,!0,this)){u.push(A);continue}n++,this.registerUnmountedView(y)&&y.unmount()}}}return u.splice(0,h),n},checkViewport:function(t){var e=D({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,r=this.checkMountedViews(n,e);return r>0&&(e.mountBatchSize=Math.min(this._updates.unmountedCids.length-r,e.mountBatchSize)),{mounted:this.checkUnmountedViews(n,e),unmounted:r}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,r=this.options.frozen,s=e.freezeKey;if(n&&n!==s){if(r&&s)return;e.freezeKey=n,e.keyFrozen=r}this.options.frozen=!0;var u=e.id;e.id=null,this.isAsync()&&u&&ha(u)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,r=e.freezeKey;n&&r&&n!==r||(e.freezeKey=null,(!n||n!==r||!e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===xa.EXACT},onRemove:function(){this.freeze(),this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return me(e)||(e=this.el.clientWidth),me(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e){const{options:n}=this,{width:r,height:s}=n;let u=void 0===t?r:t,l=void 0===e?s:e;if(r===u&&s===l)return;n.width=u,n.height=l,this._setDimensions();const h=this.getComputedSize();this.trigger("resize",h.width,h.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;me(e)&&(e=Math.round(e)),me(n)&&(n=Math.round(n)),this.$el.css({width:null===e?"":e,height:null===n?"":n})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,n,r){r=fn(t)?t:b({gridWidth:t,gridHeight:e,padding:n},r);const{x:s,y:u,width:l,height:h}=this.getFitToContentArea(r),{sx:d,sy:A}=this.scale();return this.setOrigin(-s*d,-u*A),this.setDimensions(l*d,h*A),new Pt(s,u,l,h)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,r=N(t.padding||0),s=Math.max(t.minWidth||0,e),u=Math.max(t.minHeight||0,n),l=t.maxWidth||Number.MAX_VALUE,h=t.maxHeight||Number.MAX_VALUE,d=t.allowNewOrigin,A="contentArea"in t?new Pt(t.contentArea):this.getContentArea(t),{sx:y,sy:p}=this.scale();A.x*=y,A.y*=p,A.width*=y,A.height*=p;let P=Math.ceil((A.width+A.x)/e),j=Math.ceil((A.height+A.y)/n);t.allowNegativeBottomRight||(P=Math.max(P,1),j=Math.max(j,1)),P*=e,j*=n;let B=0;("negative"===d&&A.x<0||"positive"===d&&A.x>=0||"any"===d)&&(B=Math.ceil(-A.x/e)*e,B+=r.left,P+=B);let et=0;return("negative"===d&&A.y<0||"positive"===d&&A.y>=0||"any"===d)&&(et=Math.ceil(-A.y/n)*n,et+=r.top,j+=et),P+=r.right,j+=r.bottom,P=Math.max(P,s),j=Math.max(j,u),P=Math.min(P,l),j=Math.min(j,h),new Pt(-B/y,-et/p,P/y,j/p)},scaleContentToFit:function(t){var e,n;if(t||(t={}),"contentArea"in t){var r=t.contentArea;e=this.localToPaperRect(r),n=new m(r)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(e.width&&e.height){D(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var A,s=N(t.padding),u=t.minScaleX||t.minScale,l=t.maxScaleX||t.maxScale,h=t.minScaleY||t.minScale,d=t.maxScaleY||t.maxScale;if(t.fittingBBox)A=t.fittingBBox;else{var y=this.translate(),p=this.getComputedSize();A={x:y.tx,y:y.ty,width:p.width,height:p.height}}A=new Pt(A).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});var P=this.scale(),j=A.width/e.width*P.sx,B=A.height/e.height*P.sy;if(t.preserveAspectRatio&&(j=B=Math.min(j,B)),t.scaleGrid){var et=t.scaleGrid;j=et*Math.floor(j/et),B=et*Math.floor(B/et)}j=Math.min(l,Math.max(u,j)),B=Math.min(d,Math.max(h,B));var rt=this.options.origin,ht=A.x-n.x*j-rt.x,ft=A.y-n.y*B-rt.y;this.scale(j,B),this.translate(ht,ft)}},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new Pt:pt(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return n=Rt(e)?e.apply(this,t):!0===e?this.getArea():e?new Pt(e):null,n},createViewForModel:function(t){const{options:e}=this;var n,r,s=e.cellViewNamespace,u=t.get("type")+"View",l=Fi(s,u,".");return t.isLink()?(n=e.linkView,r=Ka):(n=e.elementView,r=En),new(n.prototype instanceof Qe.View?l||n:n.call(this,t)||l||r)({model:t,interactive:e.interactive,labelsLayer:!0===e.labelsLayer?Ii.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:r}=this,s=n[e];if(s){var{cid:u}=s;const{mounted:l,unmounted:h}=r;s.remove(),delete n[e],delete l[u],delete h[u]}return s},renderView:function(t,e){const{id:n}=t,r=this._views;let s,u,l=!0;return n in r&&(s=r[n],s.model===t?(u=s.FLAG_INSERT,l=!1):this.removeView(t)),l&&(s=r[n]=this.createViewForModel(t),s.paper=this,u=this.registerUnmountedView(s)|s.getFlag(Ue(s,"initFlag"))),this.requestViewUpdate(s,u,s.UPDATE_PRIORITY,e),s},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var n=0,r=t.length;n<r;n++)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){W(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen())return void(this._updates.sort=!0);this.sortViewsExact()}},sortViewsExact:function(){var t=pe(this.cells).children("[model-id]"),e=this.model.get("cells");!function(t,e){var n=pe(t),r=n.map(function(){var u=this.parentNode,l=u.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(u===this)throw new Error("You can't sort elements if any one is a descendant of another.");u.insertBefore(this,l),u.removeChild(l)}});Array.prototype.sort.call(n,e).each(function(s){r[s].call(this)})}(t,function(n,r){var s=e.get(n.getAttribute("model-id")),u=e.get(r.getAttribute("model-id")),l=s.attributes.z||0,h=u.attributes.z||0;return l===h?0:l<h?-1:1})},insertView:function(t){const e=this.getLayerView(Ii.CELLS),{el:n,model:r}=t;this.options.sorting===xa.APPROX?e.insertSortedNode(n,r.get("z")):e.insertNode(n),t.onMount()},scale:function(t,e,n,r){if(void 0===t)return pt.matrixToScale(this.matrix());void 0===e&&(e=t),void 0===n&&(n=0,r=0);var s=this.translate();(n||r||s.tx||s.ty)&&this.translate(s.tx-n*(t-1),s.ty-r*(e-1)),t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var h=this.matrix();return h.a=t,h.d=e,this.matrix(h),this.trigger("scale",t,e,n,r),this},rotate:function(t,e,n){if(void 0===t)return pt.matrixToRotate(this.matrix());if(void 0===e){var r=this.cells.getBBox();e=r.width/2,n=r.height/2}var s=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(s),this},translate:function(t,e){if(void 0===t)return pt.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:s}=n;t||(t=0),e||(e=0);const u=this.matrix();if(u.e===t&&u.f===e)return this;u.e=t,u.f=e,this.matrix(u);const{tx:l,ty:h}=this.translate();return r.x=l,r.y=h,this.trigger("translate",l,h),s&&this.drawGrid(),this},findView:function(t){var e=vn(t)?this.cells.querySelector(t):t instanceof pe?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=vn(t)||me(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){return t=new m(t),this.model.getElements().map(this.findViewByModel,this).filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=D(e||{},{strict:!1}),t=new Pt(t);var n=this.model.getElements().map(this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(function(s){return s&&t[r](s.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){"string"==typeof t&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new m(t,e);return pt.transformPoint(n,this.matrix())},localToPaperRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.matrix())},paperToLocalPoint:function(t,e){var n=new m(t,e);return pt.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.matrix().inverse())},localToClientPoint:function(t,e){var n=new m(t,e);return pt.transformPoint(n,this.clientMatrix())},localToClientRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.clientMatrix())},clientToLocalPoint:function(t,e){var n=new m(t,e);return pt.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.clientMatrix().inverse())},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,r){return this.localToPaperRect(t,e,n,r).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var r=new m(t,e).difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(t,e,n,r){var s=this.pageOffset(),u=new Pt(t,e,n,r);return u.x-=s.x,u.y-=s.y,this.paperToLocalRect(u)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new m(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof Ka))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,r=this.model,s=r.constructor.validations;return!(!n.multiLinks&&!s.multiLinks.call(this,r,e)||!n.linkPinning&&!s.linkPinning.call(this,r,e)||"function"==typeof n.allowLink&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return Rt(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:r,highlighterNamespace:s}=this.options;if(void 0===e){if(!r||n&&(e=r[n],!1===e))return!1;e||(e=r.default)}if(!e)return!1;vn(e)&&(e={name:e});const u=e.name,l=s[u];if(!l)throw new Error('Unknown highlighter ("'+u+'")');if("function"!=typeof l.highlight)throw new Error('Highlighter ("'+u+'") is missing required highlight() method');if("function"!=typeof l.unhighlight)throw new Error('Highlighter ("'+u+'") is missing required unhighlight() method');return{highlighter:l,options:e.options||{},name:u}},onCellHighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:u}=r;s.highlight(t,e,u)},onCellUnhighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:u}=r;s.unhighlight(t,e,u)},pointerdblclick:function(t){t.preventDefault(),t=Vn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){if(this.eventData(t).mousemoved<=this.options.clickThreshold){t=Vn(t);var n=this.findView(t.target);if(this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,r.x,r.y):this.trigger("blank:pointerclick",t,r.x,r.y)}},contextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),t=Vn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=Vn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?(t.preventDefault(),e.pointerdown(t,n.x,n.y)):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,n.x,n.y)),this.delegateDragEvents(e,t.data)}},pointermove:function(t){var e=this.eventData(t);if(e.mousemoved||(e.mousemoved=0),!(++e.mousemoved<=this.options.moveThreshold)){t=Vn(t);var r=this.snapToGrid(t.clientX,t.clientY),s=e.sourceView;s?s.pointermove(t,r.x,r.y):this.trigger("blank:pointermove",t,r.x,r.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=Vn(t),n=this.snapToGrid(e.clientX,e.clientY),r=this.eventData(t).sourceView;r?r.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(pe.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(t){t=Vn(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=Vn(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=Vn(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const u=this.findView(n);s&&(u===s||(s.mouseenter(t),this.el.contains(n)))||u||r===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=Vn(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const u=this.findView(n);s&&(u===s||(s.mouseleave(t),this.el.contains(n)))||u||r===this.el&&this.trigger("paper:mouseleave",t)},mousewheel:function(t){t=Vn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=t.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),s=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,r.x,r.y,s):this.trigger("blank:mousewheel",t,r.x,r.y,s)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var r=this.findView(e);if(r){if(t=Vn(t),this.guard(t,r))return;var s=this.snapToGrid(t.clientX,t.clientY);r.onevent(t,n,s.x,s.y)}}},magnetEvent:function(t,e){var n=t.currentTarget;if(n.getAttribute("magnet")){var s=this.findView(n);if(s){if(t=Vn(t),this.guard(t,s))return;var u=this.snapToGrid(t.clientX,t.clientY);e.call(this,s,t,n,u.x,u.y)}}},onmagnet:function(t){this.magnetEvent(t,function(e,n,r,s,u){e.onmagnet(n,s,u)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,r,s,u){e.magnetpointerdblclick(n,r,s,u)})},magnetcontextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),this.magnetEvent(t,function(e,n,r,s,u){e.magnetcontextmenu(n,r,s,u)})},onlabel:function(t){var n=this.findView(t.currentTarget);if(n){if(t=Vn(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,r.x,r.y)}},getPointerArgs(t){const e=Vn(t),{x:n,y:r}=this.snapToGrid(e.clientX,e.clientY);return[e,n,r]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e),this.undelegateEvents()},guard:function(t,e){return!!("mousedown"===t.type&&2===t.button||this.options.guard&&this.options.guard(t,e))||(t.data&&void 0!==t.data.guarded?t.data.guarded:!(e&&e.model&&e.model instanceof Ti||this.svg===t.target||this.el===t.target||pe.contains(this.svg,t.target)))},setGridSize:function(t){return this.options.gridSize=t,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:pt("svg",{width:"100%",height:"100%"},pt("defs")),patterns:{},add:function(t,e){pt(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(pt("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return void 0!==this.patterns[t]}}),this._gridCache},setGrid:function(t){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(t)?t:[t||{}]).forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(vn(t)&&Array.isArray(e[t]))return e[t].map(function(d){return b({},d)});var n=t||{args:[{}]},r=Array.isArray(n),s=n.name;if(!r&&!s&&!n.markup&&(s="dot"),s&&Array.isArray(e[s])){var u=e[s].map(function(d){return b({},d)}),l=Array.isArray(n.args)?n.args:[n.args||{}];D(l[0],br(t,"args"));for(var h=0;h<l.length;h++)u[h]&&b(u[h],l[h]);return u}return r?n:[n]},drawGrid:function(t){var e=this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],r=this.matrix(),s=this._getGridRefs();this._gridSettings.forEach(function(l,h){var d="pattern_"+h,A=kn(l,n[h],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});A.width=e*(r.a||1)*(A.scaleFactor||1),A.height=e*(r.d||1)*(A.scaleFactor||1),s.exist(d)||s.add(d,pt("pattern",{id:d,patternUnits:"userSpaceOnUse"},pt(A.markup)));var y=s.get(d);Rt(A.update)&&A.update(y.node.childNodes[0],A);var p=A.ox%A.width;p<0&&(p+=A.width);var P=A.oy%A.height;P<0&&(P+=A.height),y.attr({x:p,y:P,width:A.width,height:A.height})});var u=(new XMLSerializer).serializeToString(s.root.node);return u="url(data:image/svg+xml;base64,"+btoa(u)+")",this.$grid.css("backgroundImage",u),this},updateBackgroundImage:function(t){var e=(t=t||{}).position||"center",n=t.size||"auto auto",r=this.scale(),s=this.translate();fn(e)&&(e=s.tx+r.sx*(e.x||0)+"px "+(s.ty+r.sy*(e.y||0))+"px"),fn(n)&&(n=(n=new Pt(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(t instanceof HTMLImageElement){if(this._background&&this._background.id===e.id){var n,r=(e=e||{}).size,s=e.repeat||"no-repeat",u=e.opacity||1,l=Math.abs(e.quality)||1,h=this.constructor.backgroundPatterns[Xr(s)];if(Rt(h)){t.width*=l,t.height*=l;var d=h(t,e);if(!(d instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=d.toDataURL("image/png"),s="repeat",fn(r)?(r.width*=d.width/t.width,r.height*=d.height/t.height):void 0===r&&(e.size={width:d.width/l,height:d.height/l})}else n=t.src,void 0===r&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:u,backgroundRepeat:s,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(this.updateBackgroundColor((t=t||{}).color),t.image){t=this._background=ot(t),ys(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,W(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!fn(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+Ui(JSON.stringify(t))),!this.isDefined(e)){var s=H[n]&&H[n](t.args||{});if(!s)throw new Error("Non-existing filter "+n);var u=b({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});pt(s,u).appendTo(this.defs)}return e},defineGradient:function(t){if(!fn(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:r,id:s=r+e.id+Ui(JSON.stringify(t)),stops:u,attrs:l={}}=t;if(this.isDefined(s))return s;const h=Ut(u).map(({offset:A,color:y,opacity:p})=>pt("stop").attr({offset:A,"stop-color":y,"stop-opacity":Number.isFinite(p)?p:1})),d=pt(r,l,h);return d.id=s,d.appendTo(n),s},definePattern:function(t){if(!fn(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+Ui(JSON.stringify(t)),markup:s,attrs:u={}}=t;if(!s)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const l=pt("pattern",{patternUnits:"userSpaceOnUse"});if(l.id=r,l.attr(u),"string"==typeof s)l.append(pt(s));else{const{fragment:h}=Ur(s);l.append(h)}return l.appendTo(n),r},defineMarker:function(t){if(!fn(t))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+Ui(JSON.stringify(t)),markup:s,attrs:u={},markerUnits:l="userSpaceOnUse"}=t;if(this.isDefined(r))return r;const h=pt("marker",{orient:"auto",overflow:"visible",markerUnits:l});if(h.id=r,h.attr(u),s)if("string"==typeof s)h.append(pt(s));else{const{fragment:d}=Ur(s);h.append(d)}else{const{type:d="path"}=t,A=pt(d,br(t,"type","id","markup","attrs","markerUnits"));h.append(A)}return h.appendTo(n),r}},{sorting:xa,Layers:Ii,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(t,0,0,n,r),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(t,0,0,n,r),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(2*n,0),s.scale(-1,1),s.drawImage(t,0,0,n,r),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=2*r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(0,2*r),s.scale(1,-1),s.drawImage(t,0,0,n,r),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,s=document.createElement("canvas");s.width=3*n,s.height=3*r;for(var u=s.getContext("2d"),l=me(e.watermarkAngle)?-e.watermarkAngle:-20,h=ln(l),d=s.width/4,A=s.height/4,y=0;y<4;y++)for(var p=0;p<4;p++)(y+p)%2>0&&(u.setTransform(1,0,0,1,(2*y-1)*d,(2*p-1)*A),u.rotate(h),u.drawImage(t,-n/2,-r/2,n,r));return s}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){pt(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;pt(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,u=e.thickness;n=r-u>=0&&s-u>=0?["M",r,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,u=e.thickness;n=r-u>=0&&s-u>=0?["M",r,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,u=e.thickness;n=r-u>=0&&s-u>=0?["M",r,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}});var Nr=Ft(256);const Ol=["myholder"];let fs=(()=>{class t{constructor(){}ngOnInit(){const n=Ce,r=new $s({},{cellNamespace:n}),u=(new Wu({el:this.myholder.nativeElement,model:r,width:600,height:100,gridSize:1,cellViewNamespace:n}),new Wa);u.position(100,30),u.resize(100,40),u.attr({body:{fill:"blue"},label:{text:"Hello",fill:"white"}}),u.addTo(r);const l=u.clone();l.translate(300,0),l.attr("label/text","World!"),l.addTo(r);const h=new Vu;h.source(u),h.target(l),h.addTo(r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nr.Xpm({type:t,selectors:[["app-hello-world"]],viewQuery:function(n,r){if(1&n&&Nr.Gf(Ol,7),2&n){let s;Nr.iGM(s=Nr.CRH())&&(r.myholder=s.first)}},decls:2,vars:0,consts:[["myholder",""]],template:function(n,r){1&n&&Nr._UZ(0,"div",null,0)}}),t})();const Ma=["paper"],So=Gr,df=[{path:"hello-world",component:fs},{path:"uml-class-diagram",component:(()=>{class t{constructor(){}ngOnInit(){const n=new $s,r=new Wu({el:this.paperRef.nativeElement,width:"100%",height:"100%",background:{color:"#eee"},gridSize:1,model:n}),s={".uml-class-name-rect":{fill:"#fff",stroke:"#000","stroke-width":1},".uml-class-name-text":{"font-size":"14px"},".uml-class-attrs-rect":{fill:"#fff",stroke:"#000","stroke-width":1},".uml-class-attrs-text":{"font-size":"14px"},".uml-class-methods-rect":{fill:"#fff",stroke:"#000","stroke-width":1},".uml-class-methods-text":{"font-size":"14px"}},u={cell:new So.Class({position:{x:r.getComputedSize().width/2-100,y:20},size:{width:200,height:150},name:["dia.Cell"],attributes:["+ id: string | number","+ graph: Graph","+ markup: string | MarkupJSON"],methods:["+ toJSON()","+ isLink(): boolean","+ isElement(): boolean","..."],attrs:s}),element:new So.Class({position:{x:r.getComputedSize().width/2-400,y:300},size:{width:250,height:110},name:["dia.Element"],attributes:[],methods:["+ position(): g.Point","+ resize(width: number, height: number)","+ addPort(port: Element.Port)","..."],attrs:s}),link:new So.Class({position:{x:r.getComputedSize().width/2+150,y:300},size:{width:280,height:160},name:["dia.Link"],attributes:["+ toolMarkup: string","+ vertexMarkup: string","+ arrowHeadMarkup: string","..."],methods:["+ source(source: Cell)","+ target(target: Cell)","+ appendLabel(label: Link.Label): Link.Label[]","..."],attrs:s})};Object.values(u).forEach(h=>n.addCell(h));const l=[new So.Generalization({source:{id:u.element.id},target:{id:u.cell.id}}),new So.Generalization({source:{id:u.link.id},target:{id:u.cell.id}})];Object.values(l).forEach(h=>n.addCell(h))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nr.Xpm({type:t,selectors:[["app-uml-class-diagram"]],viewQuery:function(n,r){if(1&n&&Nr.Gf(Ma,7),2&n){let s;Nr.iGM(s=Nr.CRH())&&(r.paperRef=s.first)}},decls:2,vars:0,consts:[["id","paper"],["paper",""]],template:function(n,r){1&n&&Nr._UZ(0,"div",0,1)},styles:["#paper[_ngcontent-%COMP%]{width:100%;height:100%}.joint-type-uml-generalization[_ngcontent-%COMP%]   .marker-target[_ngcontent-%COMP%]{fill:#4a4e69;stroke:#4a4e69}"]}),t})()}];let pf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr.oAB({type:t}),t.\u0275inj=Nr.cJS({imports:[C.Bz.forChild(df),C.Bz]}),t})(),vf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr.oAB({type:t}),t.\u0275inj=Nr.cJS({imports:[ti.ez,pf]}),t})()},66:($r,jr,Ft)=>{var vr,G,se;se="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,vr=[Ft(610),Ft(259),jr],void 0!==(G=function(Ci,Ir,Ke){se.Backbone=function(mr,se,St,Ve){var Ci=mr.Backbone,Ir=Array.prototype.slice;se.VERSION="1.4.1",se.$=Ve,se.noConflict=function(){return mr.Backbone=Ci,this},se.emulateHTTP=!1,se.emulateJSON=!1;var yn,Ke=se.Events={},Tr=/\s+/,Fn=function(M,m,R,K,yt){var Et,tt=0;if(R&&"object"==typeof R)for((void 0!==K&&"context"in yt&&void 0===yt.context&&(yt.context=K),Et=St.keys(R));tt<Et.length;tt++)m=Fn(M,m,Et[tt],R[Et[tt]],yt);else if(R&&Tr.test(R))for(Et=R.split(Tr);tt<Et.length;tt++)m=M(m,Et[tt],K,yt);else m=M(m,R,K,yt);return m};Ke.on=function(M,m,R){return this._events=Fn(Dr,this._events||{},M,m,{context:R,ctx:this,listening:yn}),yn&&((this._listeners||(this._listeners={}))[yn.id]=yn,yn.interop=!1),this},Ke.listenTo=function(M,m,R){if(!M)return this;var K=M._listenId||(M._listenId=St.uniqueId("l")),yt=this._listeningTo||(this._listeningTo={}),tt=yn=yt[K];tt||(this._listenId||(this._listenId=St.uniqueId("l")),tt=yn=yt[K]=new We(this,M));var Et=Gr(M,m,R,this);if(yn=void 0,Et)throw Et;return tt.interop&&tt.on(m,R),this};var Dr=function(M,m,R,K){if(R){var yt=M[m]||(M[m]=[]),tt=K.context,Et=K.ctx,ce=K.listening;ce&&ce.count++,yt.push({callback:R,context:tt,ctx:tt||Et,listening:ce})}return M},Gr=function(M,m,R,K){try{M.on(m,R,K)}catch(yt){return yt}};Ke.off=function(M,m,R){return this._events?(this._events=Fn(Ce,this._events,M,m,{context:R,listeners:this._listeners}),this):this},Ke.stopListening=function(M,m,R){var K=this._listeningTo;if(!K)return this;for(var yt=M?[M._listenId]:St.keys(K),tt=0;tt<yt.length;tt++){var Et=K[yt[tt]];if(!Et)break;Et.obj.off(m,R,this),Et.interop&&Et.off(m,R)}return St.isEmpty(K)&&(this._listeningTo=void 0),this};var Ce=function(M,m,R,K){if(M){var ce,yt=K.context,tt=K.listeners,Et=0;if(!m&&!yt&&!R){for(ce=St.keys(tt);Et<ce.length;Et++)tt[ce[Et]].cleanup();return}for(ce=m?[m]:St.keys(M);Et<ce.length;Et++){var Oe=M[m=ce[Et]];if(!Oe)break;for(var _e=[],ye=0;ye<Oe.length;ye++){var Me=Oe[ye];if(R&&R!==Me.callback&&R!==Me.callback._callback||yt&&yt!==Me.context)_e.push(Me);else{var Ln=Me.listening;Ln&&Ln.off(m,R)}}_e.length?M[m]=_e:delete M[m]}return M}};Ke.once=function(M,m,R){var K=Fn(Xt,{},M,m,this.off.bind(this));return"string"==typeof M&&null==R&&(m=void 0),this.on(K,m,R)},Ke.listenToOnce=function(M,m,R){var K=Fn(Xt,{},m,R,this.stopListening.bind(this,M));return this.listenTo(M,K)};var Xt=function(M,m,R,K){if(R){var yt=M[m]=St.once(function(){K(m,yt),R.apply(this,arguments)});yt._callback=R}return M};Ke.trigger=function(M){if(!this._events)return this;for(var m=Math.max(0,arguments.length-1),R=Array(m),K=0;K<m;K++)R[K]=arguments[K+1];return Fn(Bn,this._events,M,void 0,R),this};var Bn=function(M,m,R,K){if(M){var yt=M[m],tt=M.all;yt&&tt&&(tt=tt.slice()),yt&&ve(yt,K),tt&&ve(tt,[m].concat(K))}return M},ve=function(M,m){var R,K=-1,yt=M.length,tt=m[0],Et=m[1],ce=m[2];switch(m.length){case 0:for(;++K<yt;)(R=M[K]).callback.call(R.ctx);return;case 1:for(;++K<yt;)(R=M[K]).callback.call(R.ctx,tt);return;case 2:for(;++K<yt;)(R=M[K]).callback.call(R.ctx,tt,Et);return;case 3:for(;++K<yt;)(R=M[K]).callback.call(R.ctx,tt,Et,ce);return;default:for(;++K<yt;)(R=M[K]).callback.apply(R.ctx,m);return}},We=function(M,m){this.id=M._listenId,this.listener=M,this.obj=m,this.interop=!0,this.count=0,this._events=void 0};We.prototype.on=Ke.on,We.prototype.off=function(M,m){var R;this.interop?(this._events=Fn(Ce,this._events,M,m,{context:void 0,listeners:void 0}),R=!this._events):(this.count--,R=0===this.count),R&&this.cleanup()},We.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},Ke.bind=Ke.on,Ke.unbind=Ke.off,St.extend(se,Ke);var wn=se.Model=function(M,m){var R=M||{};m||(m={}),this.preinitialize.apply(this,arguments),this.cid=St.uniqueId(this.cidPrefix),this.attributes={},m.collection&&(this.collection=m.collection),m.parse&&(R=this.parse(R,m)||{});var K=St.result(this,"defaults");R=St.defaults(St.extend({},K,R),K),this.set(R,m),this.changed={},this.initialize.apply(this,arguments)};St.extend(wn.prototype,Ke,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(M){return St.clone(this.attributes)},sync:function(){return se.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return St.escape(this.get(M))},has:function(M){return null!=this.get(M)},matches:function(M){return!!St.iteratee(M,this)(this.attributes)},set:function(M,m,R){if(null==M)return this;var K;if("object"==typeof M?(K=M,R=m):(K={})[M]=m,R||(R={}),!this._validate(K,R))return!1;var yt=R.unset,tt=R.silent,Et=[],ce=this._changing;this._changing=!0,ce||(this._previousAttributes=St.clone(this.attributes),this.changed={});var Oe=this.attributes,_e=this.changed,ye=this._previousAttributes;for(var Me in K)St.isEqual(Oe[Me],m=K[Me])||Et.push(Me),St.isEqual(ye[Me],m)?delete _e[Me]:_e[Me]=m,yt?delete Oe[Me]:Oe[Me]=m;if(this.idAttribute in K){var Ln=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Ln,R)}if(!tt){Et.length&&(this._pending=R);for(var er=0;er<Et.length;er++)this.trigger("change:"+Et[er],this,Oe[Et[er]],R)}if(ce)return this;if(!tt)for(;this._pending;)R=this._pending,this._pending=!1,this.trigger("change",this,R);return this._pending=!1,this._changing=!1,this},unset:function(M,m){return this.set(M,void 0,St.extend({},m,{unset:!0}))},clear:function(M){var m={};for(var R in this.attributes)m[R]=void 0;return this.set(m,St.extend({},M,{unset:!0}))},hasChanged:function(M){return null==M?!St.isEmpty(this.changed):St.has(this.changed,M)},changedAttributes:function(M){if(!M)return!!this.hasChanged()&&St.clone(this.changed);var K,m=this._changing?this._previousAttributes:this.attributes,R={};for(var yt in M){var tt=M[yt];St.isEqual(m[yt],tt)||(R[yt]=tt,K=!0)}return!!K&&R},previous:function(M){return null!=M&&this._previousAttributes?this._previousAttributes[M]:null},previousAttributes:function(){return St.clone(this._previousAttributes)},fetch:function(M){M=St.extend({parse:!0},M);var m=this,R=M.success;return M.success=function(K){var yt=M.parse?m.parse(K,M):K;if(!m.set(yt,M))return!1;R&&R.call(M.context,m,K,M),m.trigger("sync",m,K,M)},qe(this,M),this.sync("read",this,M)},save:function(M,m,R){var K;null==M||"object"==typeof M?(K=M,R=m):(K={})[M]=m;var yt=(R=St.extend({validate:!0,parse:!0},R)).wait;if(K&&!yt){if(!this.set(K,R))return!1}else if(!this._validate(K,R))return!1;var tt=this,Et=R.success,ce=this.attributes;R.success=function(ye){tt.attributes=ce;var Me=R.parse?tt.parse(ye,R):ye;if(yt&&(Me=St.extend({},K,Me)),Me&&!tt.set(Me,R))return!1;Et&&Et.call(R.context,tt,ye,R),tt.trigger("sync",tt,ye,R)},qe(this,R),K&&yt&&(this.attributes=St.extend({},ce,K));var Oe=this.isNew()?"create":R.patch?"patch":"update";"patch"===Oe&&!R.attrs&&(R.attrs=K);var _e=this.sync(Oe,this,R);return this.attributes=ce,_e},destroy:function(M){M=M?St.clone(M):{};var m=this,R=M.success,K=M.wait,yt=function(){m.stopListening(),m.trigger("destroy",m,m.collection,M)};M.success=function(Et){K&&yt(),R&&R.call(M.context,m,Et,M),m.isNew()||m.trigger("sync",m,Et,M)};var tt=!1;return this.isNew()?St.defer(M.success):(qe(this,M),tt=this.sync("delete",this,M)),K||yt(),tt},url:function(){var M=St.result(this,"urlRoot")||St.result(this.collection,"url")||cn();if(this.isNew())return M;var m=this.get(this.idAttribute);return M.replace(/[^\/]$/,"$&/")+encodeURIComponent(m)},parse:function(M,m){return M},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(M){return this._validate({},St.extend({},M,{validate:!0}))},_validate:function(M,m){if(!m.validate||!this.validate)return!0;M=St.extend({},this.attributes,M);var R=this.validationError=this.validate(M,m)||null;return!R||(this.trigger("invalid",this,R,St.extend(m,{validationError:R})),!1)}});var gn=se.Collection=function(M,m){m||(m={}),this.preinitialize.apply(this,arguments),m.model&&(this.model=m.model),void 0!==m.comparator&&(this.comparator=m.comparator),this._reset(),this.initialize.apply(this,arguments),M&&this.reset(M,St.extend({silent:!0},m))},ti={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},Qe=function(M,m,R){R=Math.min(Math.max(R,0),M.length);var tt,K=Array(M.length-R),yt=m.length;for(tt=0;tt<K.length;tt++)K[tt]=M[tt+R];for(tt=0;tt<yt;tt++)M[tt+R]=m[tt];for(tt=0;tt<K.length;tt++)M[tt+yt+R]=K[tt]};St.extend(gn.prototype,Ke,{model:wn,preinitialize:function(){},initialize:function(){},toJSON:function(M){return this.map(function(m){return m.toJSON(M)})},sync:function(){return se.sync.apply(this,arguments)},add:function(M,m){return this.set(M,St.extend({merge:!1},m,C))},remove:function(M,m){m=St.extend({},m);var R=!St.isArray(M);M=R?[M]:M.slice();var K=this._removeModels(M,m);return!m.silent&&K.length&&(m.changes={added:[],merged:[],removed:K},this.trigger("update",this,m)),R?K[0]:K},set:function(M,m){if(null!=M){(m=St.extend({},ti,m)).parse&&!this._isModel(M)&&(M=this.parse(M,m)||[]);var R=!St.isArray(M);M=R?[M]:M.slice();var K=m.at;null!=K&&(K=+K),K>this.length&&(K=this.length),K<0&&(K+=this.length+1);var He,Nn,yt=[],tt=[],Et=[],ce=[],Oe={},_e=m.add,ye=m.merge,Me=m.remove,Ln=!1,er=this.comparator&&null==K&&!1!==m.sort,Bi=St.isString(this.comparator)?this.comparator:null;for(Nn=0;Nn<M.length;Nn++){var In=this.get(He=M[Nn]);if(In){if(ye&&He!==In){var Br=this._isModel(He)?He.attributes:He;m.parse&&(Br=In.parse(Br,m)),In.set(Br,m),Et.push(In),er&&!Ln&&(Ln=In.hasChanged(Bi))}Oe[In.cid]||(Oe[In.cid]=!0,yt.push(In)),M[Nn]=In}else _e&&(He=M[Nn]=this._prepareModel(He,m))&&(tt.push(He),this._addReference(He,m),Oe[He.cid]=!0,yt.push(He))}if(Me){for(Nn=0;Nn<this.length;Nn++)Oe[(He=this.models[Nn]).cid]||ce.push(He);ce.length&&this._removeModels(ce,m)}var Pt=!1;if(yt.length&&!er&&_e&&Me?(Pt=this.length!==yt.length||St.some(this.models,function(Gn,Pn){return Gn!==yt[Pn]}),this.models.length=0,Qe(this.models,yt,0),this.length=this.models.length):tt.length&&(er&&(Ln=!0),Qe(this.models,tt,K??this.length),this.length=this.models.length),Ln&&this.sort({silent:!0}),!m.silent){for(Nn=0;Nn<tt.length;Nn++)null!=K&&(m.index=K+Nn),(He=tt[Nn]).trigger("add",He,this,m);(Ln||Pt)&&this.trigger("sort",this,m),(tt.length||ce.length||Et.length)&&(m.changes={added:tt,removed:ce,merged:Et},this.trigger("update",this,m))}return R?M[0]:M}},reset:function(M,m){m=m?St.clone(m):{};for(var R=0;R<this.models.length;R++)this._removeReference(this.models[R],m);return m.previousModels=this.models,this._reset(),M=this.add(M,St.extend({silent:!0},m)),m.silent||this.trigger("reset",this,m),M},push:function(M,m){return this.add(M,St.extend({at:this.length},m))},pop:function(M){var m=this.at(this.length-1);return this.remove(m,M)},unshift:function(M,m){return this.add(M,St.extend({at:0},m))},shift:function(M){var m=this.at(0);return this.remove(m,M)},slice:function(){return Ir.apply(this.models,arguments)},get:function(M){if(null!=M)return this._byId[M]||this._byId[this.modelId(this._isModel(M)?M.attributes:M,M.idAttribute)]||M.cid&&this._byId[M.cid]},has:function(M){return null!=this.get(M)},at:function(M){return M<0&&(M+=this.length),this.models[M]},where:function(M,m){return this[m?"find":"filter"](M)},findWhere:function(M){return this.where(M,!0)},sort:function(M){var m=this.comparator;if(!m)throw new Error("Cannot sort a set without a comparator");M||(M={});var R=m.length;return St.isFunction(m)&&(m=m.bind(this)),1===R||St.isString(m)?this.models=this.sortBy(m):this.models.sort(m),M.silent||this.trigger("sort",this,M),this},pluck:function(M){return this.map(M+"")},fetch:function(M){var m=(M=St.extend({parse:!0},M)).success,R=this;return M.success=function(K){R[M.reset?"reset":"set"](K,M),m&&m.call(M.context,R,K,M),R.trigger("sync",R,K,M)},qe(this,M),this.sync("read",this,M)},create:function(M,m){var R=(m=m?St.clone(m):{}).wait;if(!(M=this._prepareModel(M,m)))return!1;R||this.add(M,m);var K=this,yt=m.success;return m.success=function(tt,Et,ce){R&&K.add(tt,ce),yt&&yt.call(ce.context,tt,Et,ce)},M.save(null,m),M},parse:function(M,m){return M},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(M,m){return M[m||this.model.prototype.idAttribute||"id"]},values:function(){return new pe(this,ds)},keys:function(){return new pe(this,ps)},entries:function(){return new pe(this,Xn)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(M,m){return this._isModel(M)?(M.collection||(M.collection=this),M):((m=m?St.clone(m):{}).collection=this,(R=this.model.prototype?new this.model(M,m):this.model(M,m)).validationError?(this.trigger("invalid",this,R.validationError,m),!1):R);var R},_removeModels:function(M,m){for(var R=[],K=0;K<M.length;K++){var yt=this.get(M[K]);if(yt){var tt=this.indexOf(yt);this.models.splice(tt,1),this.length--,delete this._byId[yt.cid];var Et=this.modelId(yt.attributes,yt.idAttribute);null!=Et&&delete this._byId[Et],m.silent||(m.index=tt,yt.trigger("remove",yt,this,m)),R.push(yt),this._removeReference(yt,m)}}return R},_isModel:function(M){return M instanceof wn},_addReference:function(M,m){this._byId[M.cid]=M;var R=this.modelId(M.attributes,M.idAttribute);null!=R&&(this._byId[R]=M),M.on("all",this._onModelEvent,this)},_removeReference:function(M,m){delete this._byId[M.cid];var R=this.modelId(M.attributes,M.idAttribute);null!=R&&delete this._byId[R],this===M.collection&&delete M.collection,M.off("all",this._onModelEvent,this)},_onModelEvent:function(M,m,R,K){if(m){if(("add"===M||"remove"===M)&&R!==this)return;if("destroy"===M&&this.remove(m,K),"changeId"===M){var yt=this.modelId(m.previousAttributes(),m.idAttribute),tt=this.modelId(m.attributes,m.idAttribute);null!=yt&&delete this._byId[yt],null!=tt&&(this._byId[tt]=m)}}this.trigger.apply(this,arguments)}});var Kt="function"==typeof Symbol&&Symbol.iterator;Kt&&(gn.prototype[Kt]=gn.prototype.values);var pe=function(M,m){this._collection=M,this._kind=m,this._index=0},ds=1,ps=2,Xn=3;Kt&&(pe.prototype[Kt]=function(){return this}),pe.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var m,M=this._collection.at(this._index);if(this._index++,this._kind===ds)m=M;else{var R=this._collection.modelId(M.attributes,M.idAttribute);m=this._kind===ps?R:[R,M]}return{value:m,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var Oi=se.View=function(M){this.cid=St.uniqueId("view"),this.preinitialize.apply(this,arguments),St.extend(this,St.pick(M,ei)),this._ensureElement(),this.initialize.apply(this,arguments)},qn=/^(\S+)\s*(.*)$/,ei=["model","collection","el","id","attributes","className","tagName","events"];St.extend(Oi.prototype,Ke,{tagName:"div",$:function(M){return this.$el.find(M)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(M){return this.undelegateEvents(),this._setElement(M),this.delegateEvents(),this},_setElement:function(M){this.$el=M instanceof se.$?M:se.$(M),this.el=this.$el[0]},delegateEvents:function(M){if(M||(M=St.result(this,"events")),!M)return this;for(var m in this.undelegateEvents(),M){var R=M[m];if(St.isFunction(R)||(R=this[R]),R){var K=m.match(qn);this.delegate(K[1],K[2],R.bind(this))}}return this},delegate:function(M,m,R){return this.$el.on(M+".delegateEvents"+this.cid,m,R),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(M,m,R){return this.$el.off(M+".delegateEvents"+this.cid,m,R),this},_createElement:function(M){return document.createElement(M)},_ensureElement:function(){if(this.el)this.setElement(St.result(this,"el"));else{var M=St.extend({},St.result(this,"attributes"));this.id&&(M.id=St.result(this,"id")),this.className&&(M.class=St.result(this,"className")),this.setElement(this._createElement(St.result(this,"tagName"))),this._setAttributes(M)}},_setAttributes:function(M){this.$el.attr(M)}});var ln=function(M,m,R,K){St.each(R,function(yt,tt){m[tt]&&(M.prototype[tt]=function(M,m,R,K){switch(m){case 1:return function(){return M[R](this[K])};case 2:return function(yt){return M[R](this[K],yt)};case 3:return function(yt,tt){return M[R](this[K],ji(yt,this),tt)};case 4:return function(yt,tt,Et){return M[R](this[K],ji(yt,this),tt,Et)};default:return function(){var yt=Ir.call(arguments);return yt.unshift(this[K]),M[R].apply(M,yt)}}}(m,yt,tt,K))})},ji=function(M,m){return St.isFunction(M)?M:St.isObject(M)&&!m._isModel(M)?Zr(M):St.isString(M)?function(R){return R.get(M)}:M},Zr=function(M){var m=St.matches(M);return function(R){return m(R.attributes)}};St.each([[gn,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[wn,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(M){var m=M[0],R=M[1],K=M[2];m.mixin=function(yt){var tt=St.reduce(St.functions(yt),function(Et,ce){return Et[ce]=0,Et},{});ln(m,yt,tt,K)},ln(m,St,R,K)}),se.sync=function(M,m,R){var K=ni[M];St.defaults(R||(R={}),{emulateHTTP:se.emulateHTTP,emulateJSON:se.emulateJSON});var yt={type:K,dataType:"json"};if(R.url||(yt.url=St.result(m,"url")||cn()),null==R.data&&m&&("create"===M||"update"===M||"patch"===M)&&(yt.contentType="application/json",yt.data=JSON.stringify(R.attrs||m.toJSON(R))),R.emulateJSON&&(yt.contentType="application/x-www-form-urlencoded",yt.data=yt.data?{model:yt.data}:{}),R.emulateHTTP&&("PUT"===K||"DELETE"===K||"PATCH"===K)){yt.type="POST",R.emulateJSON&&(yt.data._method=K);var tt=R.beforeSend;R.beforeSend=function(Oe){if(Oe.setRequestHeader("X-HTTP-Method-Override",K),tt)return tt.apply(this,arguments)}}"GET"!==yt.type&&!R.emulateJSON&&(yt.processData=!1);var Et=R.error;R.error=function(Oe,_e,ye){R.textStatus=_e,R.errorThrown=ye,Et&&Et.call(R.context,Oe,_e,ye)};var ce=R.xhr=se.ajax(St.extend(yt,R));return m.trigger("request",m,ce,R),ce};var ni={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};se.ajax=function(){return se.$.ajax.apply(se.$,arguments)};var jn=se.Router=function(M){M||(M={}),this.preinitialize.apply(this,arguments),M.routes&&(this.routes=M.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},lr=/\((.*?)\)/g,ie=/(\(\?)?:\w+/g,Gi=/\*\w+/g,Lr=/[\-{}\[\]+?.,\\\^$|#\s]/g;St.extend(jn.prototype,Ke,{preinitialize:function(){},initialize:function(){},route:function(M,m,R){St.isRegExp(M)||(M=this._routeToRegExp(M)),St.isFunction(m)&&(R=m,m=""),R||(R=this[m]);var K=this;return se.history.route(M,function(yt){var tt=K._extractParameters(M,yt);!1!==K.execute(R,tt,m)&&(K.trigger.apply(K,["route:"+m].concat(tt)),K.trigger("route",m,tt),se.history.trigger("route",K,m,tt))}),this},execute:function(M,m,R){M&&M.apply(this,m)},navigate:function(M,m){return se.history.navigate(M,m),this},_bindRoutes:function(){if(this.routes){this.routes=St.result(this,"routes");for(var M,m=St.keys(this.routes);null!=(M=m.pop());)this.route(M,this.routes[M])}},_routeToRegExp:function(M){return M=M.replace(Lr,"\\$&").replace(lr,"(?:$1)?").replace(ie,function(m,R){return R?m:"([^/?]+)"}).replace(Gi,"([^?]*?)"),new RegExp("^"+M+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(M,m){var R=M.exec(m).slice(1);return St.map(R,function(K,yt){return yt===R.length-1?K||null:K?decodeURIComponent(K):null})}});var xn=se.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ar=/^[#\/]|\s+$/g,ri=/^\/+|\/+$/g,Zi=/#.*$/;xn.started=!1,St.extend(xn.prototype,Ke,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(M){return decodeURI(M.replace(/%25/g,"%2525"))},getSearch:function(){var M=this.location.href.replace(/#.*/,"").match(/\?.+/);return M?M[0]:""},getHash:function(M){var m=(M||this).location.href.match(/#(.*)$/);return m?m[1]:""},getPath:function(){var M=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===M.charAt(0)?M.slice(1):M},getFragment:function(M){return null==M&&(M=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),M.replace(Ar,"")},start:function(M){if(xn.started)throw new Error("Backbone.history has already been started");if(xn.started=!0,this.options=St.extend({root:"/"},this.options,M),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ri,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var m=this.root.slice(0,-1)||"/";return this.location.replace(m+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var R=document.body,K=R.insertBefore(this.iframe,R.firstChild).contentWindow;K.document.open(),K.document.close(),K.location.hash="#"+this.fragment}var yt=window.addEventListener||function(tt,Et){return attachEvent("on"+tt,Et)};if(this._usePushState?yt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?yt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var M=window.removeEventListener||function(m,R){return detachEvent("on"+m,R)};this._usePushState?M("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&M("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),xn.started=!1},route:function(M,m){this.handlers.unshift({route:M,callback:m})},checkUrl:function(M){var m=this.getFragment();if(m===this.fragment&&this.iframe&&(m=this.getHash(this.iframe.contentWindow)),m===this.fragment)return!1;this.iframe&&this.navigate(m),this.loadUrl()},loadUrl:function(M){return!!this.matchRoot()&&(M=this.fragment=this.getFragment(M),St.some(this.handlers,function(m){if(m.route.test(M))return m.callback(M),!0}))},navigate:function(M,m){if(!xn.started)return!1;(!m||!0===m)&&(m={trigger:!!m}),M=this.getFragment(M||"");var R=this.root;(""===M||"?"===M.charAt(0))&&(R=R.slice(0,-1)||"/");var K=R+M;M=M.replace(Zi,"");var yt=this.decodeFragment(M);if(this.fragment!==yt){if(this.fragment=yt,this._usePushState)this.history[m.replace?"replaceState":"pushState"]({},document.title,K);else{if(!this._wantsHashChange)return this.location.assign(K);if(this._updateHash(this.location,M,m.replace),this.iframe&&M!==this.getHash(this.iframe.contentWindow)){var tt=this.iframe.contentWindow;m.replace||(tt.document.open(),tt.document.close()),this._updateHash(tt.location,M,m.replace)}}if(m.trigger)return this.loadUrl(M)}},_updateHash:function(M,m,R){if(R){var K=M.href.replace(/(javascript:|#).*$/,"");M.replace(K+"#"+m)}else M.hash="#"+m}}),se.history=new xn;wn.extend=gn.extend=jn.extend=Oi.extend=xn.extend=function(M,m){var K,R=this;return K=M&&St.has(M,"constructor")?M.constructor:function(){return R.apply(this,arguments)},St.extend(K,R,m),K.prototype=St.create(R.prototype,M),K.prototype.constructor=K,K.__super__=R.prototype,K};var cn=function(){throw new Error('A "url" property or function must be specified')},qe=function(M,m){var R=m.error;m.error=function(K){R&&R.call(m.context,M,K,m),M.trigger("error",M,K,m)}};return se}(se,Ke,Ci,Ir)}.apply(jr,vr))&&($r.exports=G)},259:function($r,jr){var vr;!function(G,mr){"use strict";"object"==typeof $r.exports?$r.exports=G.document?mr(G,!0):function(se){if(!se.document)throw new Error("jQuery requires a window with a document");return mr(se)}:mr(G)}(typeof window<"u"?window:this,function(G,mr){"use strict";var se=[],St=Object.getPrototypeOf,Ve=se.slice,Ci=se.flat?function(o){return se.flat.call(o)}:function(o){return se.concat.apply([],o)},Ir=se.push,Ke=se.indexOf,Tr={},yn=Tr.toString,Fn=Tr.hasOwnProperty,Dr=Fn.toString,Gr=Dr.call(Object),Ce={},Xt=function(c){return"function"==typeof c&&"number"!=typeof c.nodeType&&"function"!=typeof c.item},Bn=function(c){return null!=c&&c===c.window},ve=G.document,We={type:!0,src:!0,nonce:!0,noModule:!0};function wn(o,c,g){var v,x,b=(g=g||ve).createElement("script");if(b.text=o,c)for(v in We)(x=c[v]||c.getAttribute&&c.getAttribute(v))&&b.setAttribute(v,x);g.head.appendChild(b).parentNode.removeChild(b)}function gn(o){return null==o?o+"":"object"==typeof o||"function"==typeof o?Tr[yn.call(o)]||"object":typeof o}var C=function(o,c){return new C.fn.init(o,c)};function Qe(o){var c=!!o&&"length"in o&&o.length,g=gn(o);return!Xt(o)&&!Bn(o)&&("array"===g||0===c||"number"==typeof c&&c>0&&c-1 in o)}C.fn=C.prototype={jquery:"3.6.0",constructor:C,length:0,toArray:function(){return Ve.call(this)},get:function(o){return null==o?Ve.call(this):o<0?this[o+this.length]:this[o]},pushStack:function(o){var c=C.merge(this.constructor(),o);return c.prevObject=this,c},each:function(o){return C.each(this,o)},map:function(o){return this.pushStack(C.map(this,function(c,g){return o.call(c,g,c)}))},slice:function(){return this.pushStack(Ve.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(o,c){return(c+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(o,c){return c%2}))},eq:function(o){var c=this.length,g=+o+(o<0?c:0);return this.pushStack(g>=0&&g<c?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ir,sort:se.sort,splice:se.splice},C.extend=C.fn.extend=function(){var o,c,g,v,x,b,D=arguments[0]||{},Y=1,W=arguments.length,it=!1;for("boolean"==typeof D&&(it=D,D=arguments[Y]||{},Y++),"object"!=typeof D&&!Xt(D)&&(D={}),Y===W&&(D=this,Y--);Y<W;Y++)if(null!=(o=arguments[Y]))for(c in o)v=o[c],"__proto__"!==c&&D!==v&&(it&&v&&(C.isPlainObject(v)||(x=Array.isArray(v)))?(g=D[c],b=x&&!Array.isArray(g)?[]:x||C.isPlainObject(g)?g:{},x=!1,D[c]=C.extend(it,b,v)):void 0!==v&&(D[c]=v));return D},C.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(o){throw new Error(o)},noop:function(){},isPlainObject:function(o){var c,g;return!(!o||"[object Object]"!==yn.call(o)||(c=St(o))&&("function"!=typeof(g=Fn.call(c,"constructor")&&c.constructor)||Dr.call(g)!==Gr))},isEmptyObject:function(o){var c;for(c in o)return!1;return!0},globalEval:function(o,c,g){wn(o,{nonce:c&&c.nonce},g)},each:function(o,c){var g,v=0;if(Qe(o))for(g=o.length;v<g&&!1!==c.call(o[v],v,o[v]);v++);else for(v in o)if(!1===c.call(o[v],v,o[v]))break;return o},makeArray:function(o,c){var g=c||[];return null!=o&&(Qe(Object(o))?C.merge(g,"string"==typeof o?[o]:o):Ir.call(g,o)),g},inArray:function(o,c,g){return null==c?-1:Ke.call(c,o,g)},merge:function(o,c){for(var g=+c.length,v=0,x=o.length;v<g;v++)o[x++]=c[v];return o.length=x,o},grep:function(o,c,g){for(var x=[],b=0,D=o.length,Y=!g;b<D;b++)!c(o[b],b)!==Y&&x.push(o[b]);return x},map:function(o,c,g){var v,x,b=0,D=[];if(Qe(o))for(v=o.length;b<v;b++)null!=(x=c(o[b],b,g))&&D.push(x);else for(b in o)null!=(x=c(o[b],b,g))&&D.push(x);return Ci(D)},guid:1,support:Ce}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=se[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(o,c){Tr["[object "+c+"]"]=c.toLowerCase()});var Kt=function(o){var c,g,v,x,b,D,Y,W,it,gt,bt,ot,mt,Zt,Rt,Ot,Ut,Mn,wr,ae="sizzle"+1*new Date,ee=o.document,Hn=0,ze=0,Cn=Vr(),xs=Vr(),Fr=Vr(),Ue=Vr(),br=function(k,U){return k===U&&(bt=!0),0},Ni={}.hasOwnProperty,Jn=[],Wn=Jn.pop,Xr=Jn.push,Vi=Jn.push,kn=Jn.slice,Hi=function(k,U){for(var q=0,At=k.length;q<At;q++)if(k[q]===U)return q;return-1},fn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",me="[\\x20\\t\\r\\n\\f]",vn="(?:\\\\[\\da-fA-F]{1,6}"+me+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ea="\\["+me+"*("+vn+")(?:"+me+"*([*^$|!~]?=)"+me+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vn+"))|)"+me+"*\\]",Oa=":("+vn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ea+")*)|.*)\\)|)",Mi=new RegExp(me+"+","g"),gr=new RegExp("^"+me+"+|((?:^|[^\\\\])(?:\\\\.)*)"+me+"+$","g"),ja=new RegExp("^"+me+"*,"+me+"*"),Hs=new RegExp("^"+me+"*([>+~]|"+me+")"+me+"*"),ro=new RegExp(me+"|>"),io=new RegExp(Oa),iu=new RegExp("^"+vn+"$"),Ga={ID:new RegExp("^#("+vn+")"),CLASS:new RegExp("^\\.("+vn+")"),TAG:new RegExp("^("+vn+"|[*])"),ATTR:new RegExp("^"+Ea),PSEUDO:new RegExp("^"+Oa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+me+"*(even|odd|(([+-]|)(\\d*)n|)"+me+"*(?:([+-]|)"+me+"*(\\d+)|))"+me+"*\\)|)","i"),bool:new RegExp("^(?:"+fn+")$","i"),needsContext:new RegExp("^"+me+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+me+"*((?:-\\d)?\\d*)"+me+"*\\)|)(?=[^-]|$)","i")},so=/HTML$/i,Po=/^(?:input|select|textarea|button)$/i,zo=/^h\d$/i,oi=/^[^{]+\{\s*\[native \w/,os=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Js=/[+~]/,ui=new RegExp("\\\\[\\da-fA-F]{1,6}"+me+"?|\\\\([^\\r\\n\\f])","g"),vi=function(k,U){var q="0x"+k.slice(1)-65536;return U||(q<0?String.fromCharCode(q+65536):String.fromCharCode(q>>10|55296,1023&q|56320))},Si=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ks=function(k,U){return U?"\0"===k?"\ufffd":k.slice(0,-1)+"\\"+k.charCodeAt(k.length-1).toString(16)+" ":"\\"+k},ga=function(){ot()},ko=_t(function(k){return!0===k.disabled&&"fieldset"===k.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Vi.apply(Jn=kn.call(ee.childNodes),ee.childNodes)}catch{Vi={apply:Jn.length?function(U,q){Xr.apply(U,kn.call(q))}:function(U,q){for(var At=U.length,st=0;U[At++]=q[st++];);U.length=At-1}}}function Ye(k,U,q,At){var st,wt,It,zt,jt,Qt,$t,oe=U&&U.ownerDocument,xe=U?U.nodeType:9;if(q=q||[],"string"!=typeof k||!k||1!==xe&&9!==xe&&11!==xe)return q;if(!At&&(ot(U),U=U||mt,Rt)){if(11!==xe&&(jt=os.exec(k)))if(st=jt[1]){if(9===xe){if(!(It=U.getElementById(st)))return q;if(It.id===st)return q.push(It),q}else if(oe&&(It=oe.getElementById(st))&&wr(U,It)&&It.id===st)return q.push(It),q}else{if(jt[2])return Vi.apply(q,U.getElementsByTagName(k)),q;if((st=jt[3])&&g.getElementsByClassName&&U.getElementsByClassName)return Vi.apply(q,U.getElementsByClassName(st)),q}if(g.qsa&&!Ue[k+" "]&&(!Ot||!Ot.test(k))&&(1!==xe||"object"!==U.nodeName.toLowerCase())){if($t=k,oe=U,1===xe&&(ro.test(k)||Hs.test(k))){for(((oe=Js.test(k)&&nt(U.parentNode)||U)!==U||!g.scope)&&((zt=U.getAttribute("id"))?zt=zt.replace(Si,Ks):U.setAttribute("id",zt=ae)),wt=(Qt=D(k)).length;wt--;)Qt[wt]=(zt?"#"+zt:":scope")+" "+dt(Qt[wt]);$t=Qt.join(",")}try{return Vi.apply(q,oe.querySelectorAll($t)),q}catch{Ue(k,!0)}finally{zt===ae&&U.removeAttribute("id")}}}return W(k.replace(gr,"$1"),U,q,At)}function Vr(){var k=[];return function U(q,At){return k.push(q+" ")>v.cacheLength&&delete U[k.shift()],U[q+" "]=At}}function bn(k){return k[ae]=!0,k}function Hr(k){var U=mt.createElement("fieldset");try{return!!k(U)}catch{return!1}finally{U.parentNode&&U.parentNode.removeChild(U),U=null}}function Ae(k,U){for(var q=k.split("|"),At=q.length;At--;)v.attrHandle[q[At]]=U}function ao(k,U){var q=U&&k,At=q&&1===k.nodeType&&1===U.nodeType&&k.sourceIndex-U.sourceIndex;if(At)return At;if(q)for(;q=q.nextSibling;)if(q===U)return-1;return k?1:-1}function Ti(k){return function(U){return"input"===U.nodeName.toLowerCase()&&U.type===k}}function Eo(k){return function(U){var q=U.nodeName.toLowerCase();return("input"===q||"button"===q)&&U.type===k}}function Qs(k){return function(U){return"form"in U?U.parentNode&&!1===U.disabled?"label"in U?"label"in U.parentNode?U.parentNode.disabled===k:U.disabled===k:U.isDisabled===k||U.isDisabled!==!k&&ko(U)===k:U.disabled===k:"label"in U&&U.disabled===k}}function mi(k){return bn(function(U){return U=+U,bn(function(q,At){for(var st,wt=k([],q.length,U),It=wt.length;It--;)q[st=wt[It]]&&(q[st]=!(At[st]=q[st]))})})}function nt(k){return k&&typeof k.getElementsByTagName<"u"&&k}for(c in g=Ye.support={},b=Ye.isXML=function(k){var q=k&&(k.ownerDocument||k).documentElement;return!so.test(k&&k.namespaceURI||q&&q.nodeName||"HTML")},ot=Ye.setDocument=function(k){var U,q,At=k?k.ownerDocument||k:ee;return At==mt||9!==At.nodeType||!At.documentElement||(Zt=(mt=At).documentElement,Rt=!b(mt),ee!=mt&&(q=mt.defaultView)&&q.top!==q&&(q.addEventListener?q.addEventListener("unload",ga,!1):q.attachEvent&&q.attachEvent("onunload",ga)),g.scope=Hr(function(st){return Zt.appendChild(st).appendChild(mt.createElement("div")),typeof st.querySelectorAll<"u"&&!st.querySelectorAll(":scope fieldset div").length}),g.attributes=Hr(function(st){return st.className="i",!st.getAttribute("className")}),g.getElementsByTagName=Hr(function(st){return st.appendChild(mt.createComment("")),!st.getElementsByTagName("*").length}),g.getElementsByClassName=oi.test(mt.getElementsByClassName),g.getById=Hr(function(st){return Zt.appendChild(st).id=ae,!mt.getElementsByName||!mt.getElementsByName(ae).length}),g.getById?(v.filter.ID=function(st){var wt=st.replace(ui,vi);return function(It){return It.getAttribute("id")===wt}},v.find.ID=function(st,wt){if(typeof wt.getElementById<"u"&&Rt){var It=wt.getElementById(st);return It?[It]:[]}}):(v.filter.ID=function(st){var wt=st.replace(ui,vi);return function(It){var zt=typeof It.getAttributeNode<"u"&&It.getAttributeNode("id");return zt&&zt.value===wt}},v.find.ID=function(st,wt){if(typeof wt.getElementById<"u"&&Rt){var It,zt,jt,Qt=wt.getElementById(st);if(Qt){if((It=Qt.getAttributeNode("id"))&&It.value===st)return[Qt];for(jt=wt.getElementsByName(st),zt=0;Qt=jt[zt++];)if((It=Qt.getAttributeNode("id"))&&It.value===st)return[Qt]}return[]}}),v.find.TAG=g.getElementsByTagName?function(st,wt){return typeof wt.getElementsByTagName<"u"?wt.getElementsByTagName(st):g.qsa?wt.querySelectorAll(st):void 0}:function(st,wt){var It,zt=[],jt=0,Qt=wt.getElementsByTagName(st);if("*"===st){for(;It=Qt[jt++];)1===It.nodeType&&zt.push(It);return zt}return Qt},v.find.CLASS=g.getElementsByClassName&&function(st,wt){if(typeof wt.getElementsByClassName<"u"&&Rt)return wt.getElementsByClassName(st)},Ut=[],Ot=[],(g.qsa=oi.test(mt.querySelectorAll))&&(Hr(function(st){var wt;Zt.appendChild(st).innerHTML="<a id='"+ae+"'></a><select id='"+ae+"-\r\\' msallowcapture=''><option selected=''></option></select>",st.querySelectorAll("[msallowcapture^='']").length&&Ot.push("[*^$]="+me+"*(?:''|\"\")"),st.querySelectorAll("[selected]").length||Ot.push("\\["+me+"*(?:value|"+fn+")"),st.querySelectorAll("[id~="+ae+"-]").length||Ot.push("~="),(wt=mt.createElement("input")).setAttribute("name",""),st.appendChild(wt),st.querySelectorAll("[name='']").length||Ot.push("\\["+me+"*name"+me+"*="+me+"*(?:''|\"\")"),st.querySelectorAll(":checked").length||Ot.push(":checked"),st.querySelectorAll("a#"+ae+"+*").length||Ot.push(".#.+[+~]"),st.querySelectorAll("\\\f"),Ot.push("[\\r\\n\\f]")}),Hr(function(st){st.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var wt=mt.createElement("input");wt.setAttribute("type","hidden"),st.appendChild(wt).setAttribute("name","D"),st.querySelectorAll("[name=d]").length&&Ot.push("name"+me+"*[*^$|!~]?="),2!==st.querySelectorAll(":enabled").length&&Ot.push(":enabled",":disabled"),Zt.appendChild(st).disabled=!0,2!==st.querySelectorAll(":disabled").length&&Ot.push(":enabled",":disabled"),st.querySelectorAll("*,:x"),Ot.push(",.*:")})),(g.matchesSelector=oi.test(Mn=Zt.matches||Zt.webkitMatchesSelector||Zt.mozMatchesSelector||Zt.oMatchesSelector||Zt.msMatchesSelector))&&Hr(function(st){g.disconnectedMatch=Mn.call(st,"*"),Mn.call(st,"[s!='']:x"),Ut.push("!=",Oa)}),Ot=Ot.length&&new RegExp(Ot.join("|")),Ut=Ut.length&&new RegExp(Ut.join("|")),U=oi.test(Zt.compareDocumentPosition),wr=U||oi.test(Zt.contains)?function(st,wt){var It=9===st.nodeType?st.documentElement:st,zt=wt&&wt.parentNode;return st===zt||!(!zt||1!==zt.nodeType||!(It.contains?It.contains(zt):st.compareDocumentPosition&&16&st.compareDocumentPosition(zt)))}:function(st,wt){if(wt)for(;wt=wt.parentNode;)if(wt===st)return!0;return!1},br=U?function(st,wt){if(st===wt)return bt=!0,0;var It=!st.compareDocumentPosition-!wt.compareDocumentPosition;return It||(1&(It=(st.ownerDocument||st)==(wt.ownerDocument||wt)?st.compareDocumentPosition(wt):1)||!g.sortDetached&&wt.compareDocumentPosition(st)===It?st==mt||st.ownerDocument==ee&&wr(ee,st)?-1:wt==mt||wt.ownerDocument==ee&&wr(ee,wt)?1:gt?Hi(gt,st)-Hi(gt,wt):0:4&It?-1:1)}:function(st,wt){if(st===wt)return bt=!0,0;var It,zt=0,jt=st.parentNode,Qt=wt.parentNode,$t=[st],oe=[wt];if(!jt||!Qt)return st==mt?-1:wt==mt?1:jt?-1:Qt?1:gt?Hi(gt,st)-Hi(gt,wt):0;if(jt===Qt)return ao(st,wt);for(It=st;It=It.parentNode;)$t.unshift(It);for(It=wt;It=It.parentNode;)oe.unshift(It);for(;$t[zt]===oe[zt];)zt++;return zt?ao($t[zt],oe[zt]):$t[zt]==ee?-1:oe[zt]==ee?1:0}),mt},Ye.matches=function(k,U){return Ye(k,null,null,U)},Ye.matchesSelector=function(k,U){if(ot(k),g.matchesSelector&&Rt&&!Ue[U+" "]&&(!Ut||!Ut.test(U))&&(!Ot||!Ot.test(U)))try{var q=Mn.call(k,U);if(q||g.disconnectedMatch||k.document&&11!==k.document.nodeType)return q}catch{Ue(U,!0)}return Ye(U,mt,null,[k]).length>0},Ye.contains=function(k,U){return(k.ownerDocument||k)!=mt&&ot(k),wr(k,U)},Ye.attr=function(k,U){(k.ownerDocument||k)!=mt&&ot(k);var q=v.attrHandle[U.toLowerCase()],At=q&&Ni.call(v.attrHandle,U.toLowerCase())?q(k,U,!Rt):void 0;return void 0!==At?At:g.attributes||!Rt?k.getAttribute(U):(At=k.getAttributeNode(U))&&At.specified?At.value:null},Ye.escape=function(k){return(k+"").replace(Si,Ks)},Ye.error=function(k){throw new Error("Syntax error, unrecognized expression: "+k)},Ye.uniqueSort=function(k){var U,q=[],At=0,st=0;if(bt=!g.detectDuplicates,gt=!g.sortStable&&k.slice(0),k.sort(br),bt){for(;U=k[st++];)U===k[st]&&(At=q.push(st));for(;At--;)k.splice(q[At],1)}return gt=null,k},x=Ye.getText=function(k){var U,q="",At=0,st=k.nodeType;if(st){if(1===st||9===st||11===st){if("string"==typeof k.textContent)return k.textContent;for(k=k.firstChild;k;k=k.nextSibling)q+=x(k)}else if(3===st||4===st)return k.nodeValue}else for(;U=k[At++];)q+=x(U);return q},(v=Ye.selectors={cacheLength:50,createPseudo:bn,match:Ga,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(k){return k[1]=k[1].replace(ui,vi),k[3]=(k[3]||k[4]||k[5]||"").replace(ui,vi),"~="===k[2]&&(k[3]=" "+k[3]+" "),k.slice(0,4)},CHILD:function(k){return k[1]=k[1].toLowerCase(),"nth"===k[1].slice(0,3)?(k[3]||Ye.error(k[0]),k[4]=+(k[4]?k[5]+(k[6]||1):2*("even"===k[3]||"odd"===k[3])),k[5]=+(k[7]+k[8]||"odd"===k[3])):k[3]&&Ye.error(k[0]),k},PSEUDO:function(k){var U,q=!k[6]&&k[2];return Ga.CHILD.test(k[0])?null:(k[3]?k[2]=k[4]||k[5]||"":q&&io.test(q)&&(U=D(q,!0))&&(U=q.indexOf(")",q.length-U)-q.length)&&(k[0]=k[0].slice(0,U),k[2]=q.slice(0,U)),k.slice(0,3))}},filter:{TAG:function(k){var U=k.replace(ui,vi).toLowerCase();return"*"===k?function(){return!0}:function(q){return q.nodeName&&q.nodeName.toLowerCase()===U}},CLASS:function(k){var U=Cn[k+" "];return U||(U=new RegExp("(^|"+me+")"+k+"("+me+"|$)"))&&Cn(k,function(q){return U.test("string"==typeof q.className&&q.className||typeof q.getAttribute<"u"&&q.getAttribute("class")||"")})},ATTR:function(k,U,q){return function(At){var st=Ye.attr(At,k);return null==st?"!="===U:!U||(st+="","="===U?st===q:"!="===U?st!==q:"^="===U?q&&0===st.indexOf(q):"*="===U?q&&st.indexOf(q)>-1:"$="===U?q&&st.slice(-q.length)===q:"~="===U?(" "+st.replace(Mi," ")+" ").indexOf(q)>-1:"|="===U&&(st===q||st.slice(0,q.length+1)===q+"-"))}},CHILD:function(k,U,q,At,st){var wt="nth"!==k.slice(0,3),It="last"!==k.slice(-4),zt="of-type"===U;return 1===At&&0===st?function(jt){return!!jt.parentNode}:function(jt,Qt,$t){var oe,xe,Je,Vt,Tn,Kn,dr=wt!==It?"nextSibling":"previousSibling",mn=jt.parentNode,on=zt&&jt.nodeName.toLowerCase(),Pr=!$t&&!zt,_n=!1;if(mn){if(wt){for(;dr;){for(Vt=jt;Vt=Vt[dr];)if(zt?Vt.nodeName.toLowerCase()===on:1===Vt.nodeType)return!1;Kn=dr="only"===k&&!Kn&&"nextSibling"}return!0}if(Kn=[It?mn.firstChild:mn.lastChild],It&&Pr){for(_n=(Tn=(oe=(xe=(Je=(Vt=mn)[ae]||(Vt[ae]={}))[Vt.uniqueID]||(Je[Vt.uniqueID]={}))[k]||[])[0]===Hn&&oe[1])&&oe[2],Vt=Tn&&mn.childNodes[Tn];Vt=++Tn&&Vt&&Vt[dr]||(_n=Tn=0)||Kn.pop();)if(1===Vt.nodeType&&++_n&&Vt===jt){xe[k]=[Hn,Tn,_n];break}}else if(Pr&&(_n=Tn=(oe=(xe=(Je=(Vt=jt)[ae]||(Vt[ae]={}))[Vt.uniqueID]||(Je[Vt.uniqueID]={}))[k]||[])[0]===Hn&&oe[1]),!1===_n)for(;(Vt=++Tn&&Vt&&Vt[dr]||(_n=Tn=0)||Kn.pop())&&((zt?Vt.nodeName.toLowerCase()!==on:1!==Vt.nodeType)||!++_n||(Pr&&((xe=(Je=Vt[ae]||(Vt[ae]={}))[Vt.uniqueID]||(Je[Vt.uniqueID]={}))[k]=[Hn,_n]),Vt!==jt)););return(_n-=st)===At||_n%At==0&&_n/At>=0}}},PSEUDO:function(k,U){var q,At=v.pseudos[k]||v.setFilters[k.toLowerCase()]||Ye.error("unsupported pseudo: "+k);return At[ae]?At(U):At.length>1?(q=[k,k,"",U],v.setFilters.hasOwnProperty(k.toLowerCase())?bn(function(st,wt){for(var It,zt=At(st,U),jt=zt.length;jt--;)st[It=Hi(st,zt[jt])]=!(wt[It]=zt[jt])}):function(st){return At(st,0,q)}):At}},pseudos:{not:bn(function(k){var U=[],q=[],At=Y(k.replace(gr,"$1"));return At[ae]?bn(function(st,wt,It,zt){for(var jt,Qt=At(st,null,zt,[]),$t=st.length;$t--;)(jt=Qt[$t])&&(st[$t]=!(wt[$t]=jt))}):function(st,wt,It){return U[0]=st,At(U,null,It,q),U[0]=null,!q.pop()}}),has:bn(function(k){return function(U){return Ye(k,U).length>0}}),contains:bn(function(k){return k=k.replace(ui,vi),function(U){return(U.textContent||x(U)).indexOf(k)>-1}}),lang:bn(function(k){return iu.test(k||"")||Ye.error("unsupported lang: "+k),k=k.replace(ui,vi).toLowerCase(),function(U){var q;do{if(q=Rt?U.lang:U.getAttribute("xml:lang")||U.getAttribute("lang"))return(q=q.toLowerCase())===k||0===q.indexOf(k+"-")}while((U=U.parentNode)&&1===U.nodeType);return!1}}),target:function(k){var U=o.location&&o.location.hash;return U&&U.slice(1)===k.id},root:function(k){return k===Zt},focus:function(k){return k===mt.activeElement&&(!mt.hasFocus||mt.hasFocus())&&!!(k.type||k.href||~k.tabIndex)},enabled:Qs(!1),disabled:Qs(!0),checked:function(k){var U=k.nodeName.toLowerCase();return"input"===U&&!!k.checked||"option"===U&&!!k.selected},selected:function(k){return!0===k.selected},empty:function(k){for(k=k.firstChild;k;k=k.nextSibling)if(k.nodeType<6)return!1;return!0},parent:function(k){return!v.pseudos.empty(k)},header:function(k){return zo.test(k.nodeName)},input:function(k){return Po.test(k.nodeName)},button:function(k){var U=k.nodeName.toLowerCase();return"input"===U&&"button"===k.type||"button"===U},text:function(k){var U;return"input"===k.nodeName.toLowerCase()&&"text"===k.type&&(null==(U=k.getAttribute("type"))||"text"===U.toLowerCase())},first:mi(function(){return[0]}),last:mi(function(k,U){return[U-1]}),eq:mi(function(k,U,q){return[q<0?q+U:q]}),even:mi(function(k,U){for(var q=0;q<U;q+=2)k.push(q);return k}),odd:mi(function(k,U){for(var q=1;q<U;q+=2)k.push(q);return k}),lt:mi(function(k,U,q){for(var At=q<0?q+U:q>U?U:q;--At>=0;)k.push(At);return k}),gt:mi(function(k,U,q){for(var At=q<0?q+U:q;++At<U;)k.push(At);return k})}}).pseudos.nth=v.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[c]=Ti(c);for(c in{submit:!0,reset:!0})v.pseudos[c]=Eo(c);function Ct(){}function dt(k){for(var U=0,q=k.length,At="";U<q;U++)At+=k[U].value;return At}function _t(k,U,q){var At=U.dir,st=U.next,wt=st||At,It=q&&"parentNode"===wt,zt=ze++;return U.first?function(jt,Qt,$t){for(;jt=jt[At];)if(1===jt.nodeType||It)return k(jt,Qt,$t);return!1}:function(jt,Qt,$t){var oe,xe,Je,Vt=[Hn,zt];if($t){for(;jt=jt[At];)if((1===jt.nodeType||It)&&k(jt,Qt,$t))return!0}else for(;jt=jt[At];)if(1===jt.nodeType||It)if(xe=(Je=jt[ae]||(jt[ae]={}))[jt.uniqueID]||(Je[jt.uniqueID]={}),st&&st===jt.nodeName.toLowerCase())jt=jt[At]||jt;else{if((oe=xe[wt])&&oe[0]===Hn&&oe[1]===zt)return Vt[2]=oe[2];if(xe[wt]=Vt,Vt[2]=k(jt,Qt,$t))return!0}return!1}}function fe(k){return k.length>1?function(U,q,At){for(var st=k.length;st--;)if(!k[st](U,q,At))return!1;return!0}:k[0]}function Sn(k,U,q,At,st){for(var wt,It=[],zt=0,jt=k.length,Qt=null!=U;zt<jt;zt++)(wt=k[zt])&&(!q||q(wt,At,st))&&(It.push(wt),Qt&&U.push(zt));return It}function en(k,U,q,At,st,wt){return At&&!At[ae]&&(At=en(At)),st&&!st[ae]&&(st=en(st,wt)),bn(function(It,zt,jt,Qt){var $t,oe,xe,Je=[],Vt=[],Tn=zt.length,Kn=It||function Fe(k,U,q){for(var At=0,st=U.length;At<st;At++)Ye(k,U[At],q);return q}(U||"*",jt.nodeType?[jt]:jt,[]),dr=!k||!It&&U?Kn:Sn(Kn,Je,k,jt,Qt),mn=q?st||(It?k:Tn||At)?[]:zt:dr;if(q&&q(dr,mn,jt,Qt),At)for($t=Sn(mn,Vt),At($t,[],jt,Qt),oe=$t.length;oe--;)(xe=$t[oe])&&(mn[Vt[oe]]=!(dr[Vt[oe]]=xe));if(It){if(st||k){if(st){for($t=[],oe=mn.length;oe--;)(xe=mn[oe])&&$t.push(dr[oe]=xe);st(null,mn=[],$t,Qt)}for(oe=mn.length;oe--;)(xe=mn[oe])&&($t=st?Hi(It,xe):Je[oe])>-1&&(It[$t]=!(zt[$t]=xe))}}else mn=Sn(mn===zt?mn.splice(Tn,mn.length):mn),st?st(null,zt,mn,Qt):Vi.apply(zt,mn)})}function da(k){for(var U,q,At,st=k.length,wt=v.relative[k[0].type],It=wt||v.relative[" "],zt=wt?1:0,jt=_t(function(oe){return oe===U},It,!0),Qt=_t(function(oe){return Hi(U,oe)>-1},It,!0),$t=[function(oe,xe,Je){var Vt=!wt&&(Je||xe!==it)||((U=xe).nodeType?jt(oe,xe,Je):Qt(oe,xe,Je));return U=null,Vt}];zt<st;zt++)if(q=v.relative[k[zt].type])$t=[_t(fe($t),q)];else{if((q=v.filter[k[zt].type].apply(null,k[zt].matches))[ae]){for(At=++zt;At<st&&!v.relative[k[At].type];At++);return en(zt>1&&fe($t),zt>1&&dt(k.slice(0,zt-1).concat({value:" "===k[zt-2].type?"*":""})).replace(gr,"$1"),q,zt<At&&da(k.slice(zt,At)),At<st&&da(k=k.slice(At)),At<st&&dt(k))}$t.push(q)}return fe($t)}return Ct.prototype=v.filters=v.pseudos,v.setFilters=new Ct,D=Ye.tokenize=function(k,U){var q,At,st,wt,It,zt,jt,Qt=xs[k+" "];if(Qt)return U?0:Qt.slice(0);for(It=k,zt=[],jt=v.preFilter;It;){for(wt in(!q||(At=ja.exec(It)))&&(At&&(It=It.slice(At[0].length)||It),zt.push(st=[])),q=!1,(At=Hs.exec(It))&&(q=At.shift(),st.push({value:q,type:At[0].replace(gr," ")}),It=It.slice(q.length)),v.filter)(At=Ga[wt].exec(It))&&(!jt[wt]||(At=jt[wt](At)))&&(q=At.shift(),st.push({value:q,type:wt,matches:At}),It=It.slice(q.length));if(!q)break}return U?It.length:It?Ye.error(k):xs(k,zt).slice(0)},Y=Ye.compile=function(k,U){var q,At=[],st=[],wt=Fr[k+" "];if(!wt){for(U||(U=D(k)),q=U.length;q--;)(wt=da(U[q]))[ae]?At.push(wt):st.push(wt);wt=Fr(k,function su(k,U){var q=U.length>0,At=k.length>0,st=function(wt,It,zt,jt,Qt){var $t,oe,xe,Je=0,Vt="0",Tn=wt&&[],Kn=[],dr=it,mn=wt||At&&v.find.TAG("*",Qt),on=Hn+=null==dr?1:Math.random()||.1,Pr=mn.length;for(Qt&&(it=It==mt||It||Qt);Vt!==Pr&&null!=($t=mn[Vt]);Vt++){if(At&&$t){for(oe=0,!It&&$t.ownerDocument!=mt&&(ot($t),zt=!Rt);xe=k[oe++];)if(xe($t,It||mt,zt)){jt.push($t);break}Qt&&(Hn=on)}q&&(($t=!xe&&$t)&&Je--,wt&&Tn.push($t))}if(Je+=Vt,q&&Vt!==Je){for(oe=0;xe=U[oe++];)xe(Tn,Kn,It,zt);if(wt){if(Je>0)for(;Vt--;)Tn[Vt]||Kn[Vt]||(Kn[Vt]=Wn.call(jt));Kn=Sn(Kn)}Vi.apply(jt,Kn),Qt&&!wt&&Kn.length>0&&Je+U.length>1&&Ye.uniqueSort(jt)}return Qt&&(Hn=on,it=dr),Tn};return q?bn(st):st}(st,At)),wt.selector=k}return wt},W=Ye.select=function(k,U,q,At){var st,wt,It,zt,jt,Qt="function"==typeof k&&k,$t=!At&&D(k=Qt.selector||k);if(q=q||[],1===$t.length){if((wt=$t[0]=$t[0].slice(0)).length>2&&"ID"===(It=wt[0]).type&&9===U.nodeType&&Rt&&v.relative[wt[1].type]){if(!(U=(v.find.ID(It.matches[0].replace(ui,vi),U)||[])[0]))return q;Qt&&(U=U.parentNode),k=k.slice(wt.shift().value.length)}for(st=Ga.needsContext.test(k)?0:wt.length;st--&&!v.relative[zt=(It=wt[st]).type];)if((jt=v.find[zt])&&(At=jt(It.matches[0].replace(ui,vi),Js.test(wt[0].type)&&nt(U.parentNode)||U))){if(wt.splice(st,1),!(k=At.length&&dt(wt)))return Vi.apply(q,At),q;break}}return(Qt||Y(k,$t))(At,U,!Rt,q,!U||Js.test(k)&&nt(U.parentNode)||U),q},g.sortStable=ae.split("").sort(br).join("")===ae,g.detectDuplicates=!!bt,ot(),g.sortDetached=Hr(function(k){return 1&k.compareDocumentPosition(mt.createElement("fieldset"))}),Hr(function(k){return k.innerHTML="<a href='#'></a>","#"===k.firstChild.getAttribute("href")})||Ae("type|href|height|width",function(k,U,q){if(!q)return k.getAttribute(U,"type"===U.toLowerCase()?1:2)}),(!g.attributes||!Hr(function(k){return k.innerHTML="<input/>",k.firstChild.setAttribute("value",""),""===k.firstChild.getAttribute("value")}))&&Ae("value",function(k,U,q){if(!q&&"input"===k.nodeName.toLowerCase())return k.defaultValue}),Hr(function(k){return null==k.getAttribute("disabled")})||Ae(fn,function(k,U,q){var At;if(!q)return!0===k[U]?U.toLowerCase():(At=k.getAttributeNode(U))&&At.specified?At.value:null}),Ye}(G);C.find=Kt,C.expr=Kt.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=Kt.uniqueSort,C.text=Kt.getText,C.isXMLDoc=Kt.isXML,C.contains=Kt.contains,C.escapeSelector=Kt.escape;var pe=function(o,c,g){for(var v=[],x=void 0!==g;(o=o[c])&&9!==o.nodeType;)if(1===o.nodeType){if(x&&C(o).is(g))break;v.push(o)}return v},ds=function(o,c){for(var g=[];o;o=o.nextSibling)1===o.nodeType&&o!==c&&g.push(o);return g},ps=C.expr.match.needsContext;function Xn(o,c){return o.nodeName&&o.nodeName.toLowerCase()===c.toLowerCase()}var Oi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function qn(o,c,g){return Xt(c)?C.grep(o,function(v,x){return!!c.call(v,x,v)!==g}):c.nodeType?C.grep(o,function(v){return v===c!==g}):"string"!=typeof c?C.grep(o,function(v){return Ke.call(c,v)>-1!==g}):C.filter(c,o,g)}C.filter=function(o,c,g){var v=c[0];return g&&(o=":not("+o+")"),1===c.length&&1===v.nodeType?C.find.matchesSelector(v,o)?[v]:[]:C.find.matches(o,C.grep(c,function(x){return 1===x.nodeType}))},C.fn.extend({find:function(o){var c,g,v=this.length,x=this;if("string"!=typeof o)return this.pushStack(C(o).filter(function(){for(c=0;c<v;c++)if(C.contains(x[c],this))return!0}));for(g=this.pushStack([]),c=0;c<v;c++)C.find(o,x[c],g);return v>1?C.uniqueSort(g):g},filter:function(o){return this.pushStack(qn(this,o||[],!1))},not:function(o){return this.pushStack(qn(this,o||[],!0))},is:function(o){return!!qn(this,"string"==typeof o&&ps.test(o)?C(o):o||[],!1).length}});var ei,sn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ln=C.fn.init=function(o,c,g){var v,x;if(!o)return this;if(g=g||ei,"string"==typeof o){if(!(v="<"===o[0]&&">"===o[o.length-1]&&o.length>=3?[null,o,null]:sn.exec(o))||!v[1]&&c)return!c||c.jquery?(c||g).find(o):this.constructor(c).find(o);if(v[1]){if(C.merge(this,C.parseHTML(v[1],(c=c instanceof C?c[0]:c)&&c.nodeType?c.ownerDocument||c:ve,!0)),Oi.test(v[1])&&C.isPlainObject(c))for(v in c)Xt(this[v])?this[v](c[v]):this.attr(v,c[v]);return this}return(x=ve.getElementById(v[2]))&&(this[0]=x,this.length=1),this}return o.nodeType?(this[0]=o,this.length=1,this):Xt(o)?void 0!==g.ready?g.ready(o):o(C):C.makeArray(o,this)};ln.prototype=C.fn,ei=C(ve);var ji=/^(?:parents|prev(?:Until|All))/,Zr={children:!0,contents:!0,next:!0,prev:!0};function $n(o,c){for(;(o=o[c])&&1!==o.nodeType;);return o}C.fn.extend({has:function(o){var c=C(o,this),g=c.length;return this.filter(function(){for(var v=0;v<g;v++)if(C.contains(this,c[v]))return!0})},closest:function(o,c){var g,v=0,x=this.length,b=[],D="string"!=typeof o&&C(o);if(!ps.test(o))for(;v<x;v++)for(g=this[v];g&&g!==c;g=g.parentNode)if(g.nodeType<11&&(D?D.index(g)>-1:1===g.nodeType&&C.find.matchesSelector(g,o))){b.push(g);break}return this.pushStack(b.length>1?C.uniqueSort(b):b)},index:function(o){return o?"string"==typeof o?Ke.call(C(o),this[0]):Ke.call(this,o.jquery?o[0]:o):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(o,c){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(o,c))))},addBack:function(o){return this.add(null==o?this.prevObject:this.prevObject.filter(o))}}),C.each({parent:function(o){var c=o.parentNode;return c&&11!==c.nodeType?c:null},parents:function(o){return pe(o,"parentNode")},parentsUntil:function(o,c,g){return pe(o,"parentNode",g)},next:function(o){return $n(o,"nextSibling")},prev:function(o){return $n(o,"previousSibling")},nextAll:function(o){return pe(o,"nextSibling")},prevAll:function(o){return pe(o,"previousSibling")},nextUntil:function(o,c,g){return pe(o,"nextSibling",g)},prevUntil:function(o,c,g){return pe(o,"previousSibling",g)},siblings:function(o){return ds((o.parentNode||{}).firstChild,o)},children:function(o){return ds(o.firstChild)},contents:function(o){return null!=o.contentDocument&&St(o.contentDocument)?o.contentDocument:(Xn(o,"template")&&(o=o.content||o),C.merge([],o.childNodes))}},function(o,c){C.fn[o]=function(g,v){var x=C.map(this,c,g);return"Until"!==o.slice(-5)&&(v=g),v&&"string"==typeof v&&(x=C.filter(v,x)),this.length>1&&(Zr[o]||C.uniqueSort(x),ji.test(o)&&x.reverse()),this.pushStack(x)}});var tr=/[^\x20\t\r\n\f]+/g;function jn(o){return o}function lr(o){throw o}function ie(o,c,g,v){var x;try{o&&Xt(x=o.promise)?x.call(o).done(c).fail(g):o&&Xt(x=o.then)?x.call(o,c,g):c.apply(void 0,[o].slice(v))}catch(b){g.apply(void 0,[b])}}C.Callbacks=function(o){o="string"==typeof o?function ni(o){var c={};return C.each(o.match(tr)||[],function(g,v){c[v]=!0}),c}(o):C.extend({},o);var c,g,v,x,b=[],D=[],Y=-1,W=function(){for(x=x||o.once,v=c=!0;D.length;Y=-1)for(g=D.shift();++Y<b.length;)!1===b[Y].apply(g[0],g[1])&&o.stopOnFalse&&(Y=b.length,g=!1);o.memory||(g=!1),c=!1,x&&(b=g?[]:"")},it={add:function(){return b&&(g&&!c&&(Y=b.length-1,D.push(g)),function gt(bt){C.each(bt,function(ot,mt){Xt(mt)?(!o.unique||!it.has(mt))&&b.push(mt):mt&&mt.length&&"string"!==gn(mt)&&gt(mt)})}(arguments),g&&!c&&W()),this},remove:function(){return C.each(arguments,function(gt,bt){for(var ot;(ot=C.inArray(bt,b,ot))>-1;)b.splice(ot,1),ot<=Y&&Y--}),this},has:function(gt){return gt?C.inArray(gt,b)>-1:b.length>0},empty:function(){return b&&(b=[]),this},disable:function(){return x=D=[],b=g="",this},disabled:function(){return!b},lock:function(){return x=D=[],!g&&!c&&(b=g=""),this},locked:function(){return!!x},fireWith:function(gt,bt){return x||(bt=[gt,(bt=bt||[]).slice?bt.slice():bt],D.push(bt),c||W()),this},fire:function(){return it.fireWith(this,arguments),this},fired:function(){return!!v}};return it},C.extend({Deferred:function(o){var c=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],g="pending",v={state:function(){return g},always:function(){return x.done(arguments).fail(arguments),this},catch:function(b){return v.then(null,b)},pipe:function(){var b=arguments;return C.Deferred(function(D){C.each(c,function(Y,W){var it=Xt(b[W[4]])&&b[W[4]];x[W[1]](function(){var gt=it&&it.apply(this,arguments);gt&&Xt(gt.promise)?gt.promise().progress(D.notify).done(D.resolve).fail(D.reject):D[W[0]+"With"](this,it?[gt]:arguments)})}),b=null}).promise()},then:function(b,D,Y){var W=0;function it(gt,bt,ot,mt){return function(){var Zt=this,Rt=arguments,Ot=function(){var Mn,wr;if(!(gt<W)){if((Mn=ot.apply(Zt,Rt))===bt.promise())throw new TypeError("Thenable self-resolution");Xt(wr=Mn&&("object"==typeof Mn||"function"==typeof Mn)&&Mn.then)?mt?wr.call(Mn,it(W,bt,jn,mt),it(W,bt,lr,mt)):(W++,wr.call(Mn,it(W,bt,jn,mt),it(W,bt,lr,mt),it(W,bt,jn,bt.notifyWith))):(ot!==jn&&(Zt=void 0,Rt=[Mn]),(mt||bt.resolveWith)(Zt,Rt))}},Ut=mt?Ot:function(){try{Ot()}catch(Mn){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(Mn,Ut.stackTrace),gt+1>=W&&(ot!==lr&&(Zt=void 0,Rt=[Mn]),bt.rejectWith(Zt,Rt))}};gt?Ut():(C.Deferred.getStackHook&&(Ut.stackTrace=C.Deferred.getStackHook()),G.setTimeout(Ut))}}return C.Deferred(function(gt){c[0][3].add(it(0,gt,Xt(Y)?Y:jn,gt.notifyWith)),c[1][3].add(it(0,gt,Xt(b)?b:jn)),c[2][3].add(it(0,gt,Xt(D)?D:lr))}).promise()},promise:function(b){return null!=b?C.extend(b,v):v}},x={};return C.each(c,function(b,D){var Y=D[2],W=D[5];v[D[1]]=Y.add,W&&Y.add(function(){g=W},c[3-b][2].disable,c[3-b][3].disable,c[0][2].lock,c[0][3].lock),Y.add(D[3].fire),x[D[0]]=function(){return x[D[0]+"With"](this===x?void 0:this,arguments),this},x[D[0]+"With"]=Y.fireWith}),v.promise(x),o&&o.call(x,x),x},when:function(o){var c=arguments.length,g=c,v=Array(g),x=Ve.call(arguments),b=C.Deferred(),D=function(Y){return function(W){v[Y]=this,x[Y]=arguments.length>1?Ve.call(arguments):W,--c||b.resolveWith(v,x)}};if(c<=1&&(ie(o,b.done(D(g)).resolve,b.reject,!c),"pending"===b.state()||Xt(x[g]&&x[g].then)))return b.then();for(;g--;)ie(x[g],D(g),b.reject);return b.promise()}});var Gi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(o,c){G.console&&G.console.warn&&o&&Gi.test(o.name)&&G.console.warn("jQuery.Deferred exception: "+o.message,o.stack,c)},C.readyException=function(o){G.setTimeout(function(){throw o})};var Lr=C.Deferred();function xn(){ve.removeEventListener("DOMContentLoaded",xn),G.removeEventListener("load",xn),C.ready()}C.fn.ready=function(o){return Lr.then(o).catch(function(c){C.readyException(c)}),this},C.extend({isReady:!1,readyWait:1,ready:function(o){(!0===o?--C.readyWait:C.isReady)||(C.isReady=!0,!(!0!==o&&--C.readyWait>0)&&Lr.resolveWith(ve,[C]))}}),C.ready.then=Lr.then,"complete"===ve.readyState||"loading"!==ve.readyState&&!ve.documentElement.doScroll?G.setTimeout(C.ready):(ve.addEventListener("DOMContentLoaded",xn),G.addEventListener("load",xn));var Ar=function(o,c,g,v,x,b,D){var Y=0,W=o.length,it=null==g;if("object"===gn(g))for(Y in x=!0,g)Ar(o,c,Y,g[Y],!0,b,D);else if(void 0!==v&&(x=!0,Xt(v)||(D=!0),it&&(D?(c.call(o,v),c=null):(it=c,c=function(gt,bt,ot){return it.call(C(gt),ot)})),c))for(;Y<W;Y++)c(o[Y],g,D?v:v.call(o[Y],Y,c(o[Y],g)));return x?o:it?c.call(o):W?c(o[0],g):b},ri=/^-ms-/,Zi=/-([a-z])/g;function Gs(o,c){return c.toUpperCase()}function cn(o){return o.replace(ri,"ms-").replace(Zi,Gs)}var qe=function(o){return 1===o.nodeType||9===o.nodeType||!+o.nodeType};function M(){this.expando=C.expando+M.uid++}M.uid=1,M.prototype={cache:function(o){var c=o[this.expando];return c||(c={},qe(o)&&(o.nodeType?o[this.expando]=c:Object.defineProperty(o,this.expando,{value:c,configurable:!0}))),c},set:function(o,c,g){var v,x=this.cache(o);if("string"==typeof c)x[cn(c)]=g;else for(v in c)x[cn(v)]=c[v];return x},get:function(o,c){return void 0===c?this.cache(o):o[this.expando]&&o[this.expando][cn(c)]},access:function(o,c,g){return void 0===c||c&&"string"==typeof c&&void 0===g?this.get(o,c):(this.set(o,c,g),void 0!==g?g:c)},remove:function(o,c){var g,v=o[this.expando];if(void 0!==v){if(void 0!==c)for((g=(c=Array.isArray(c)?c.map(cn):(c=cn(c))in v?[c]:c.match(tr)||[]).length);g--;)delete v[c[g]];(void 0===c||C.isEmptyObject(v))&&(o.nodeType?o[this.expando]=void 0:delete o[this.expando])}},hasData:function(o){var c=o[this.expando];return void 0!==c&&!C.isEmptyObject(c)}};var m=new M,R=new M,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,yt=/[A-Z]/g;function Et(o,c,g){var v;if(void 0===g&&1===o.nodeType)if(v="data-"+c.replace(yt,"-$&").toLowerCase(),"string"==typeof(g=o.getAttribute(v))){try{g=function tt(o){return"true"===o||"false"!==o&&("null"===o?null:o===+o+""?+o:K.test(o)?JSON.parse(o):o)}(g)}catch{}R.set(o,c,g)}else g=void 0;return g}C.extend({hasData:function(o){return R.hasData(o)||m.hasData(o)},data:function(o,c,g){return R.access(o,c,g)},removeData:function(o,c){R.remove(o,c)},_data:function(o,c,g){return m.access(o,c,g)},_removeData:function(o,c){m.remove(o,c)}}),C.fn.extend({data:function(o,c){var g,v,x,b=this[0],D=b&&b.attributes;if(void 0===o){if(this.length&&(x=R.get(b),1===b.nodeType&&!m.get(b,"hasDataAttrs"))){for(g=D.length;g--;)D[g]&&0===(v=D[g].name).indexOf("data-")&&(v=cn(v.slice(5)),Et(b,v,x[v]));m.set(b,"hasDataAttrs",!0)}return x}return"object"==typeof o?this.each(function(){R.set(this,o)}):Ar(this,function(Y){var W;if(b&&void 0===Y)return void 0!==(W=R.get(b,o))||void 0!==(W=Et(b,o))?W:void 0;this.each(function(){R.set(this,o,Y)})},null,c,arguments.length>1,null,!0)},removeData:function(o){return this.each(function(){R.remove(this,o)})}}),C.extend({queue:function(o,c,g){var v;if(o)return v=m.get(o,c=(c||"fx")+"queue"),g&&(!v||Array.isArray(g)?v=m.access(o,c,C.makeArray(g)):v.push(g)),v||[]},dequeue:function(o,c){var g=C.queue(o,c=c||"fx"),v=g.length,x=g.shift(),b=C._queueHooks(o,c);"inprogress"===x&&(x=g.shift(),v--),x&&("fx"===c&&g.unshift("inprogress"),delete b.stop,x.call(o,function(){C.dequeue(o,c)},b)),!v&&b&&b.empty.fire()},_queueHooks:function(o,c){var g=c+"queueHooks";return m.get(o,g)||m.access(o,g,{empty:C.Callbacks("once memory").add(function(){m.remove(o,[c+"queue",g])})})}}),C.fn.extend({queue:function(o,c){var g=2;return"string"!=typeof o&&(c=o,o="fx",g--),arguments.length<g?C.queue(this[0],o):void 0===c?this:this.each(function(){var v=C.queue(this,o,c);C._queueHooks(this,o),"fx"===o&&"inprogress"!==v[0]&&C.dequeue(this,o)})},dequeue:function(o){return this.each(function(){C.dequeue(this,o)})},clearQueue:function(o){return this.queue(o||"fx",[])},promise:function(o,c){var g,v=1,x=C.Deferred(),b=this,D=this.length,Y=function(){--v||x.resolveWith(b,[b])};for("string"!=typeof o&&(c=o,o=void 0),o=o||"fx";D--;)(g=m.get(b[D],o+"queueHooks"))&&g.empty&&(v++,g.empty.add(Y));return Y(),x.promise(c)}});var ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),_e=["Top","Right","Bottom","Left"],ye=ve.documentElement,Me=function(o){return C.contains(o.ownerDocument,o)},Ln={composed:!0};ye.getRootNode&&(Me=function(o){return C.contains(o.ownerDocument,o)||o.getRootNode(Ln)===o.ownerDocument});var er=function(o,c){return"none"===(o=c||o).style.display||""===o.style.display&&Me(o)&&"none"===C.css(o,"display")};function Bi(o,c,g,v){var x,b,D=20,Y=v?function(){return v.cur()}:function(){return C.css(o,c,"")},W=Y(),it=g&&g[3]||(C.cssNumber[c]?"":"px"),gt=o.nodeType&&(C.cssNumber[c]||"px"!==it&&+W)&&Oe.exec(C.css(o,c));if(gt&&gt[3]!==it){for(it=it||gt[3],gt=+(W/=2)||1;D--;)C.style(o,c,gt+it),(1-b)*(1-(b=Y()/W||.5))<=0&&(D=0),gt/=b;C.style(o,c,(gt*=2)+it),g=g||[]}return g&&(gt=+gt||+W||0,x=g[1]?gt+(g[1]+1)*g[2]:+g[2],v&&(v.unit=it,v.start=gt,v.end=x)),x}var He={};function Nn(o){var c,g=o.ownerDocument,v=o.nodeName,x=He[v];return x||(c=g.body.appendChild(g.createElement(v)),x=C.css(c,"display"),c.parentNode.removeChild(c),"none"===x&&(x="block"),He[v]=x,x)}function In(o,c){for(var g,v,x=[],b=0,D=o.length;b<D;b++)(v=o[b]).style&&(g=v.style.display,c?("none"===g&&(x[b]=m.get(v,"display")||null,x[b]||(v.style.display="")),""===v.style.display&&er(v)&&(x[b]=Nn(v))):"none"!==g&&(x[b]="none",m.set(v,"display",g)));for(b=0;b<D;b++)null!=x[b]&&(o[b].style.display=x[b]);return o}C.fn.extend({show:function(){return In(this,!0)},hide:function(){return In(this)},toggle:function(o){return"boolean"==typeof o?o?this.show():this.hide():this.each(function(){er(this)?C(this).show():C(this).hide()})}});var c,g,Br=/^(?:checkbox|radio)$/i,Pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Rr=/^$|^module$|\/(?:java|ecma)script/i;c=ve.createDocumentFragment().appendChild(ve.createElement("div")),(g=ve.createElement("input")).setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),c.appendChild(g),Ce.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,c.innerHTML="<textarea>x</textarea>",Ce.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue,c.innerHTML="<option></option>",Ce.option=!!c.lastChild;var Gn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Pn(o,c){var g;return g=typeof o.getElementsByTagName<"u"?o.getElementsByTagName(c||"*"):typeof o.querySelectorAll<"u"?o.querySelectorAll(c||"*"):[],void 0===c||c&&Xn(o,c)?C.merge([o],g):g}function es(o,c){for(var g=0,v=o.length;g<v;g++)m.set(o[g],"globalEval",!c||m.get(c[g],"globalEval"))}Gn.tbody=Gn.tfoot=Gn.colgroup=Gn.caption=Gn.thead,Gn.th=Gn.td,Ce.option||(Gn.optgroup=Gn.option=[1,"<select multiple='multiple'>","</select>"]);var $e=/<|&#?\w+;/;function fi(o,c,g,v,x){for(var b,D,Y,W,it,gt,bt=c.createDocumentFragment(),ot=[],mt=0,Zt=o.length;mt<Zt;mt++)if((b=o[mt])||0===b)if("object"===gn(b))C.merge(ot,b.nodeType?[b]:b);else if($e.test(b)){for(D=D||bt.appendChild(c.createElement("div")),Y=(Pt.exec(b)||["",""])[1].toLowerCase(),D.innerHTML=(W=Gn[Y]||Gn._default)[1]+C.htmlPrefilter(b)+W[2],gt=W[0];gt--;)D=D.lastChild;C.merge(ot,D.childNodes),(D=bt.firstChild).textContent=""}else ot.push(c.createTextNode(b));for(bt.textContent="",mt=0;b=ot[mt++];)if(v&&C.inArray(b,v)>-1)x&&x.push(b);else if(it=Me(b),D=Pn(bt.appendChild(b),"script"),it&&es(D),g)for(gt=0;b=D[gt++];)Rr.test(b.type||"")&&g.push(b);return bt}var Zs=/^([^.]*)(?:\.(.+)|)/;function yi(){return!0}function wi(){return!1}function Ri(o,c){return o===function De(){try{return ve.activeElement}catch{}}()==("focus"===c)}function hi(o,c,g,v,x,b){var D,Y;if("object"==typeof c){for(Y in"string"!=typeof g&&(v=v||g,g=void 0),c)hi(o,Y,g,v,c[Y],b);return o}if(null==v&&null==x?(x=g,v=g=void 0):null==x&&("string"==typeof g?(x=v,v=void 0):(x=v,v=g,g=void 0)),!1===x)x=wi;else if(!x)return o;return 1===b&&(D=x,x=function(W){return C().off(W),D.apply(this,arguments)},x.guid=D.guid||(D.guid=C.guid++)),o.each(function(){C.event.add(this,c,x,v,g)})}function Yt(o,c,g){g?(m.set(o,c,!1),C.event.add(o,c,{namespace:!1,handler:function(v){var x,b,D=m.get(this,c);if(1&v.isTrigger&&this[c]){if(D.length)(C.event.special[c]||{}).delegateType&&v.stopPropagation();else if(D=Ve.call(arguments),m.set(this,c,D),x=g(this,c),this[c](),D!==(b=m.get(this,c))||x?m.set(this,c,!1):b={},D!==b)return v.stopImmediatePropagation(),v.preventDefault(),b&&b.value}else D.length&&(m.set(this,c,{value:C.event.trigger(C.extend(D[0],C.Event.prototype),D.slice(1),this)}),v.stopImmediatePropagation())}})):void 0===m.get(o,c)&&C.event.add(o,c,yi)}C.event={global:{},add:function(o,c,g,v,x){var b,D,Y,W,it,gt,bt,ot,mt,Zt,Rt,Ot=m.get(o);if(qe(o))for(g.handler&&(g=(b=g).handler,x=b.selector),x&&C.find.matchesSelector(ye,x),g.guid||(g.guid=C.guid++),(W=Ot.events)||(W=Ot.events=Object.create(null)),(D=Ot.handle)||(D=Ot.handle=function(Ut){return typeof C<"u"&&C.event.triggered!==Ut.type?C.event.dispatch.apply(o,arguments):void 0}),it=(c=(c||"").match(tr)||[""]).length;it--;)mt=Rt=(Y=Zs.exec(c[it])||[])[1],Zt=(Y[2]||"").split(".").sort(),mt&&(bt=C.event.special[mt]||{},bt=C.event.special[mt=(x?bt.delegateType:bt.bindType)||mt]||{},gt=C.extend({type:mt,origType:Rt,data:v,handler:g,guid:g.guid,selector:x,needsContext:x&&C.expr.match.needsContext.test(x),namespace:Zt.join(".")},b),(ot=W[mt])||((ot=W[mt]=[]).delegateCount=0,(!bt.setup||!1===bt.setup.call(o,v,Zt,D))&&o.addEventListener&&o.addEventListener(mt,D)),bt.add&&(bt.add.call(o,gt),gt.handler.guid||(gt.handler.guid=g.guid)),x?ot.splice(ot.delegateCount++,0,gt):ot.push(gt),C.event.global[mt]=!0)},remove:function(o,c,g,v,x){var b,D,Y,W,it,gt,bt,ot,mt,Zt,Rt,Ot=m.hasData(o)&&m.get(o);if(Ot&&(W=Ot.events)){for(it=(c=(c||"").match(tr)||[""]).length;it--;)if(mt=Rt=(Y=Zs.exec(c[it])||[])[1],Zt=(Y[2]||"").split(".").sort(),mt){for(bt=C.event.special[mt]||{},ot=W[mt=(v?bt.delegateType:bt.bindType)||mt]||[],Y=Y[2]&&new RegExp("(^|\\.)"+Zt.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=b=ot.length;b--;)gt=ot[b],(x||Rt===gt.origType)&&(!g||g.guid===gt.guid)&&(!Y||Y.test(gt.namespace))&&(!v||v===gt.selector||"**"===v&&gt.selector)&&(ot.splice(b,1),gt.selector&&ot.delegateCount--,bt.remove&&bt.remove.call(o,gt));D&&!ot.length&&((!bt.teardown||!1===bt.teardown.call(o,Zt,Ot.handle))&&C.removeEvent(o,mt,Ot.handle),delete W[mt])}else for(mt in W)C.event.remove(o,mt+c[it],g,v,!0);C.isEmptyObject(W)&&m.remove(o,"handle events")}},dispatch:function(o){var c,g,v,x,b,D,Y=new Array(arguments.length),W=C.event.fix(o),it=(m.get(this,"events")||Object.create(null))[W.type]||[],gt=C.event.special[W.type]||{};for(Y[0]=W,c=1;c<arguments.length;c++)Y[c]=arguments[c];if(W.delegateTarget=this,!gt.preDispatch||!1!==gt.preDispatch.call(this,W)){for(D=C.event.handlers.call(this,W,it),c=0;(x=D[c++])&&!W.isPropagationStopped();)for(W.currentTarget=x.elem,g=0;(b=x.handlers[g++])&&!W.isImmediatePropagationStopped();)(!W.rnamespace||!1===b.namespace||W.rnamespace.test(b.namespace))&&(W.handleObj=b,W.data=b.data,void 0!==(v=((C.event.special[b.origType]||{}).handle||b.handler).apply(x.elem,Y))&&!1===(W.result=v)&&(W.preventDefault(),W.stopPropagation()));return gt.postDispatch&&gt.postDispatch.call(this,W),W.result}},handlers:function(o,c){var g,v,x,b,D,Y=[],W=c.delegateCount,it=o.target;if(W&&it.nodeType&&!("click"===o.type&&o.button>=1))for(;it!==this;it=it.parentNode||this)if(1===it.nodeType&&("click"!==o.type||!0!==it.disabled)){for(b=[],D={},g=0;g<W;g++)void 0===D[x=(v=c[g]).selector+" "]&&(D[x]=v.needsContext?C(x,this).index(it)>-1:C.find(x,this,null,[it]).length),D[x]&&b.push(v);b.length&&Y.push({elem:it,handlers:b})}return it=this,W<c.length&&Y.push({elem:it,handlers:c.slice(W)}),Y},addProp:function(o,c){Object.defineProperty(C.Event.prototype,o,{enumerable:!0,configurable:!0,get:Xt(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[o]},set:function(g){Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(o){return o[C.expando]?o:new C.Event(o)},special:{load:{noBubble:!0},click:{setup:function(o){var c=this||o;return Br.test(c.type)&&c.click&&Xn(c,"input")&&Yt(c,"click",yi),!1},trigger:function(o){var c=this||o;return Br.test(c.type)&&c.click&&Xn(c,"input")&&Yt(c,"click"),!0},_default:function(o){var c=o.target;return Br.test(c.type)&&c.click&&Xn(c,"input")&&m.get(c,"click")||Xn(c,"a")}},beforeunload:{postDispatch:function(o){void 0!==o.result&&o.originalEvent&&(o.originalEvent.returnValue=o.result)}}}},C.removeEvent=function(o,c,g){o.removeEventListener&&o.removeEventListener(c,g)},C.Event=function(o,c){if(!(this instanceof C.Event))return new C.Event(o,c);o&&o.type?(this.originalEvent=o,this.type=o.type,this.isDefaultPrevented=o.defaultPrevented||void 0===o.defaultPrevented&&!1===o.returnValue?yi:wi,this.target=o.target&&3===o.target.nodeType?o.target.parentNode:o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget):this.type=o,c&&C.extend(this,c),this.timeStamp=o&&o.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:wi,isPropagationStopped:wi,isImmediatePropagationStopped:wi,isSimulated:!1,preventDefault:function(){var o=this.originalEvent;this.isDefaultPrevented=yi,o&&!this.isSimulated&&o.preventDefault()},stopPropagation:function(){var o=this.originalEvent;this.isPropagationStopped=yi,o&&!this.isSimulated&&o.stopPropagation()},stopImmediatePropagation:function(){var o=this.originalEvent;this.isImmediatePropagationStopped=yi,o&&!this.isSimulated&&o.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(o,c){C.event.special[o]={setup:function(){return Yt(this,o,Ri),!1},trigger:function(){return Yt(this,o),!0},_default:function(){return!0},delegateType:c}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(o,c){C.event.special[o]={delegateType:c,bindType:c,handle:function(g){var v,x=this,b=g.relatedTarget,D=g.handleObj;return(!b||b!==x&&!C.contains(x,b))&&(g.type=D.origType,v=D.handler.apply(this,arguments),g.type=c),v}}}),C.fn.extend({on:function(o,c,g,v){return hi(this,o,c,g,v)},one:function(o,c,g,v){return hi(this,o,c,g,v,1)},off:function(o,c,g){var v,x;if(o&&o.preventDefault&&o.handleObj)return v=o.handleObj,C(o.delegateTarget).off(v.namespace?v.origType+"."+v.namespace:v.origType,v.selector,v.handler),this;if("object"==typeof o){for(x in o)this.off(x,c,o[x]);return this}return(!1===c||"function"==typeof c)&&(g=c,c=void 0),!1===g&&(g=wi),this.each(function(){C.event.remove(this,o,g,c)})}});var cr=/<script|<style|<link/i,gi=/checked\s*(?:[^=]|=\s*.checked.)/i,pn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Bs(o,c){return Xn(o,"table")&&Xn(11!==c.nodeType?c:c.firstChild,"tr")&&C(o).children("tbody")[0]||o}function Rn(o){return o.type=(null!==o.getAttribute("type"))+"/"+o.type,o}function nr(o){return"true/"===(o.type||"").slice(0,5)?o.type=o.type.slice(5):o.removeAttribute("type"),o}function di(o,c){var g,v,x,D,Y,W;if(1===c.nodeType){if(m.hasData(o)&&(W=m.get(o).events))for(x in m.remove(c,"handle events"),W)for(g=0,v=W[x].length;g<v;g++)C.event.add(c,x,W[x][g]);R.hasData(o)&&(D=R.access(o),Y=C.extend({},D),R.set(c,Y))}}function vs(o,c){var g=c.nodeName.toLowerCase();"input"===g&&Br.test(o.type)?c.checked=o.checked:("input"===g||"textarea"===g)&&(c.defaultValue=o.defaultValue)}function rr(o,c,g,v){c=Ci(c);var x,b,D,Y,W,it,gt=0,bt=o.length,ot=bt-1,mt=c[0],Zt=Xt(mt);if(Zt||bt>1&&"string"==typeof mt&&!Ce.checkClone&&gi.test(mt))return o.each(function(Rt){var Ot=o.eq(Rt);Zt&&(c[0]=mt.call(this,Rt,Ot.html())),rr(Ot,c,g,v)});if(bt&&(b=(x=fi(c,o[0].ownerDocument,!1,o,v)).firstChild,1===x.childNodes.length&&(x=b),b||v)){for(Y=(D=C.map(Pn(x,"script"),Rn)).length;gt<bt;gt++)W=x,gt!==ot&&(W=C.clone(W,!0,!0),Y&&C.merge(D,Pn(W,"script"))),g.call(o[gt],W,gt);if(Y)for(it=D[D.length-1].ownerDocument,C.map(D,nr),gt=0;gt<Y;gt++)Rr.test((W=D[gt]).type||"")&&!m.access(W,"globalEval")&&C.contains(it,W)&&(W.src&&"module"!==(W.type||"").toLowerCase()?C._evalUrl&&!W.noModule&&C._evalUrl(W.src,{nonce:W.nonce||W.getAttribute("nonce")},it):wn(W.textContent.replace(pn,""),W,it))}return o}function ms(o,c,g){for(var v,x=c?C.filter(c,o):o,b=0;null!=(v=x[b]);b++)!g&&1===v.nodeType&&C.cleanData(Pn(v)),v.parentNode&&(g&&Me(v)&&es(Pn(v,"script")),v.parentNode.removeChild(v));return o}C.extend({htmlPrefilter:function(o){return o},clone:function(o,c,g){var v,x,b,D,Y=o.cloneNode(!0),W=Me(o);if(!(Ce.noCloneChecked||1!==o.nodeType&&11!==o.nodeType||C.isXMLDoc(o)))for(D=Pn(Y),v=0,x=(b=Pn(o)).length;v<x;v++)vs(b[v],D[v]);if(c)if(g)for(b=b||Pn(o),D=D||Pn(Y),v=0,x=b.length;v<x;v++)di(b[v],D[v]);else di(o,Y);return(D=Pn(Y,"script")).length>0&&es(D,!W&&Pn(o,"script")),Y},cleanData:function(o){for(var c,g,v,x=C.event.special,b=0;void 0!==(g=o[b]);b++)if(qe(g)){if(c=g[m.expando]){if(c.events)for(v in c.events)x[v]?C.event.remove(g,v):C.removeEvent(g,v,c.handle);g[m.expando]=void 0}g[R.expando]&&(g[R.expando]=void 0)}}}),C.fn.extend({detach:function(o){return ms(this,o,!0)},remove:function(o){return ms(this,o)},text:function(o){return Ar(this,function(c){return void 0===c?C.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=c)})},null,o,arguments.length)},append:function(){return rr(this,arguments,function(o){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bs(this,o).appendChild(o)})},prepend:function(){return rr(this,arguments,function(o){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=Bs(this,o);c.insertBefore(o,c.firstChild)}})},before:function(){return rr(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this)})},after:function(){return rr(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling)})},empty:function(){for(var o,c=0;null!=(o=this[c]);c++)1===o.nodeType&&(C.cleanData(Pn(o,!1)),o.textContent="");return this},clone:function(o,c){return o=o??!1,c=c??o,this.map(function(){return C.clone(this,o,c)})},html:function(o){return Ar(this,function(c){var g=this[0]||{},v=0,x=this.length;if(void 0===c&&1===g.nodeType)return g.innerHTML;if("string"==typeof c&&!cr.test(c)&&!Gn[(Pt.exec(c)||["",""])[1].toLowerCase()]){c=C.htmlPrefilter(c);try{for(;v<x;v++)1===(g=this[v]||{}).nodeType&&(C.cleanData(Pn(g,!1)),g.innerHTML=c);g=0}catch{}}g&&this.empty().append(c)},null,o,arguments.length)},replaceWith:function(){var o=[];return rr(this,arguments,function(c){var g=this.parentNode;C.inArray(this,o)<0&&(C.cleanData(Pn(this)),g&&g.replaceChild(c,this))},o)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(o,c){C.fn[o]=function(g){for(var v,x=[],b=C(g),D=b.length-1,Y=0;Y<=D;Y++)v=Y===D?this:this.clone(!0),C(b[Y])[c](v),Ir.apply(x,v.get());return this.pushStack(x)}});var Rs=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),Ws=function(o){var c=o.ownerDocument.defaultView;return(!c||!c.opener)&&(c=G),c.getComputedStyle(o)},ir=function(o,c,g){var v,x,b={};for(x in c)b[x]=o.style[x],o.style[x]=c[x];for(x in v=g.call(o),c)o.style[x]=b[x];return v},ra=new RegExp(_e.join("|"),"i");function Cr(o,c,g){var v,x,b,D,Y=o.style;return(g=g||Ws(o))&&(""===(D=g.getPropertyValue(c)||g[c])&&!Me(o)&&(D=C.style(o,c)),!Ce.pixelBoxStyles()&&Rs.test(D)&&ra.test(c)&&(v=Y.width,x=Y.minWidth,b=Y.maxWidth,Y.minWidth=Y.maxWidth=Y.width=D,D=g.width,Y.width=v,Y.minWidth=x,Y.maxWidth=b)),void 0!==D?D+"":D}function _s(o,c){return{get:function(){if(!o())return(this.get=c).apply(this,arguments);delete this.get}}}!function(){function o(){if(it){W.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",it.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ye.appendChild(W).appendChild(it);var gt=G.getComputedStyle(it);g="1%"!==gt.top,Y=12===c(gt.marginLeft),it.style.right="60%",b=36===c(gt.right),v=36===c(gt.width),it.style.position="absolute",x=12===c(it.offsetWidth/3),ye.removeChild(W),it=null}}function c(gt){return Math.round(parseFloat(gt))}var g,v,x,b,D,Y,W=ve.createElement("div"),it=ve.createElement("div");!it.style||(it.style.backgroundClip="content-box",it.cloneNode(!0).style.backgroundClip="",Ce.clearCloneStyle="content-box"===it.style.backgroundClip,C.extend(Ce,{boxSizingReliable:function(){return o(),v},pixelBoxStyles:function(){return o(),b},pixelPosition:function(){return o(),g},reliableMarginLeft:function(){return o(),Y},scrollboxSize:function(){return o(),x},reliableTrDimensions:function(){var gt,bt,ot,mt;return null==D&&(gt=ve.createElement("table"),bt=ve.createElement("tr"),ot=ve.createElement("div"),gt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",bt.style.cssText="border:1px solid",bt.style.height="1px",ot.style.height="9px",ot.style.display="block",ye.appendChild(gt).appendChild(bt).appendChild(ot),mt=G.getComputedStyle(bt),D=parseInt(mt.height,10)+parseInt(mt.borderTopWidth,10)+parseInt(mt.borderBottomWidth,10)===bt.offsetHeight,ye.removeChild(gt)),D}}))}();var ia=["Webkit","Moz","ms"],sa=ve.createElement("div").style,aa={};function ii(o){return C.cssProps[o]||aa[o]||(o in sa?o:aa[o]=function oa(o){for(var c=o[0].toUpperCase()+o.slice(1),g=ia.length;g--;)if((o=ia[g]+c)in sa)return o}(o)||o)}var bi=/^(none|table(?!-c[ea]).+)/,Wi=/^--/,fr={position:"absolute",visibility:"hidden",display:"block"},si={letterSpacing:"0",fontWeight:"400"};function Is(o,c,g){var v=Oe.exec(c);return v?Math.max(0,v[2]-(g||0))+(v[3]||"px"):c}function ns(o,c,g,v,x,b){var D="width"===c?1:0,Y=0,W=0;if(g===(v?"border":"content"))return 0;for(;D<4;D+=2)"margin"===g&&(W+=C.css(o,g+_e[D],!0,x)),v?("content"===g&&(W-=C.css(o,"padding"+_e[D],!0,x)),"margin"!==g&&(W-=C.css(o,"border"+_e[D]+"Width",!0,x))):(W+=C.css(o,"padding"+_e[D],!0,x),"padding"!==g?W+=C.css(o,"border"+_e[D]+"Width",!0,x):Y+=C.css(o,"border"+_e[D]+"Width",!0,x));return!v&&b>=0&&(W+=Math.max(0,Math.ceil(o["offset"+c[0].toUpperCase()+c.slice(1)]-b-W-Y-.5))||0),W}function Ys(o,c,g){var v=Ws(o),b=(!Ce.boxSizingReliable()||g)&&"border-box"===C.css(o,"boxSizing",!1,v),D=b,Y=Cr(o,c,v),W="offset"+c[0].toUpperCase()+c.slice(1);if(Rs.test(Y)){if(!g)return Y;Y="auto"}return(!Ce.boxSizingReliable()&&b||!Ce.reliableTrDimensions()&&Xn(o,"tr")||"auto"===Y||!parseFloat(Y)&&"inline"===C.css(o,"display",!1,v))&&o.getClientRects().length&&(b="border-box"===C.css(o,"boxSizing",!1,v),(D=W in o)&&(Y=o[W])),(Y=parseFloat(Y)||0)+ns(o,c,g||(b?"border":"content"),D,v,Y)+"px"}function Zn(o,c,g,v,x){return new Zn.prototype.init(o,c,g,v,x)}C.extend({cssHooks:{opacity:{get:function(o,c){if(c){var g=Cr(o,"opacity");return""===g?"1":g}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(o,c,g,v){if(o&&3!==o.nodeType&&8!==o.nodeType&&o.style){var x,b,D,Y=cn(c),W=Wi.test(c),it=o.style;if(W||(c=ii(Y)),D=C.cssHooks[c]||C.cssHooks[Y],void 0===g)return D&&"get"in D&&void 0!==(x=D.get(o,!1,v))?x:it[c];if("string"==(b=typeof g)&&(x=Oe.exec(g))&&x[1]&&(g=Bi(o,c,x),b="number"),null==g||g!=g)return;"number"===b&&!W&&(g+=x&&x[3]||(C.cssNumber[Y]?"":"px")),!Ce.clearCloneStyle&&""===g&&0===c.indexOf("background")&&(it[c]="inherit"),(!D||!("set"in D)||void 0!==(g=D.set(o,g,v)))&&(W?it.setProperty(c,g):it[c]=g)}},css:function(o,c,g,v){var x,b,D,Y=cn(c);return Wi.test(c)||(c=ii(Y)),(D=C.cssHooks[c]||C.cssHooks[Y])&&"get"in D&&(x=D.get(o,!0,g)),void 0===x&&(x=Cr(o,c,v)),"normal"===x&&c in si&&(x=si[c]),""===g||g?(b=parseFloat(x),!0===g||isFinite(b)?b||0:x):x}}),C.each(["height","width"],function(o,c){C.cssHooks[c]={get:function(g,v,x){if(v)return!bi.test(C.css(g,"display"))||g.getClientRects().length&&g.getBoundingClientRect().width?Ys(g,c,x):ir(g,fr,function(){return Ys(g,c,x)})},set:function(g,v,x){var b,D=Ws(g),Y=!Ce.scrollboxSize()&&"absolute"===D.position,it=(Y||x)&&"border-box"===C.css(g,"boxSizing",!1,D),gt=x?ns(g,c,x,it,D):0;return it&&Y&&(gt-=Math.ceil(g["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(D[c])-ns(g,c,"border",!1,D)-.5)),gt&&(b=Oe.exec(v))&&"px"!==(b[3]||"px")&&(g.style[c]=v,v=C.css(g,c)),Is(0,v,gt)}}}),C.cssHooks.marginLeft=_s(Ce.reliableMarginLeft,function(o,c){if(c)return(parseFloat(Cr(o,"marginLeft"))||o.getBoundingClientRect().left-ir(o,{marginLeft:0},function(){return o.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,c){C.cssHooks[o+c]={expand:function(g){for(var v=0,x={},b="string"==typeof g?g.split(" "):[g];v<4;v++)x[o+_e[v]+c]=b[v]||b[v-2]||b[0];return x}},"margin"!==o&&(C.cssHooks[o+c].set=Is)}),C.fn.extend({css:function(o,c){return Ar(this,function(g,v,x){var b,D,Y={},W=0;if(Array.isArray(v)){for(b=Ws(g),D=v.length;W<D;W++)Y[v[W]]=C.css(g,v[W],!1,b);return Y}return void 0!==x?C.style(g,v,x):C.css(g,v)},o,c,arguments.length>1)}}),C.Tween=Zn,(Zn.prototype={constructor:Zn,init:function(o,c,g,v,x,b){this.elem=o,this.prop=g,this.easing=x||C.easing._default,this.options=c,this.start=this.now=this.cur(),this.end=v,this.unit=b||(C.cssNumber[g]?"":"px")},cur:function(){var o=Zn.propHooks[this.prop];return o&&o.get?o.get(this):Zn.propHooks._default.get(this)},run:function(o){var c,g=Zn.propHooks[this.prop];return this.pos=c=this.options.duration?C.easing[this.easing](o,this.options.duration*o,0,1,this.options.duration):o,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Zn.propHooks._default.set(this),this}}).init.prototype=Zn.prototype,(Zn.propHooks={_default:{get:function(o){var c;return 1!==o.elem.nodeType||null!=o.elem[o.prop]&&null==o.elem.style[o.prop]?o.elem[o.prop]:(c=C.css(o.elem,o.prop,""))&&"auto"!==c?c:0},set:function(o){C.fx.step[o.prop]?C.fx.step[o.prop](o):1!==o.elem.nodeType||!C.cssHooks[o.prop]&&null==o.elem.style[ii(o.prop)]?o.elem[o.prop]=o.now:C.style(o.elem,o.prop,o.now+o.unit)}}}).scrollTop=Zn.propHooks.scrollLeft={set:function(o){o.elem.nodeType&&o.elem.parentNode&&(o.elem[o.prop]=o.now)}},C.easing={linear:function(o){return o},swing:function(o){return.5-Math.cos(o*Math.PI)/2},_default:"swing"},C.fx=Zn.prototype.init,C.fx.step={};var xi,As,ua=/^(?:toggle|show|hide)$/,Us=/queueHooks$/;function pi(){As&&(!1===ve.hidden&&G.requestAnimationFrame?G.requestAnimationFrame(pi):G.setTimeout(pi,C.fx.interval),C.fx.tick())}function Cs(){return G.setTimeout(function(){xi=void 0}),xi=Date.now()}function _i(o,c){var g,v=0,x={height:o};for(c=c?1:0;v<4;v+=2-c)x["margin"+(g=_e[v])]=x["padding"+g]=o;return c&&(x.opacity=x.width=o),x}function rs(o,c,g){for(var v,x=(zn.tweeners[c]||[]).concat(zn.tweeners["*"]),b=0,D=x.length;b<D;b++)if(v=x[b].call(g,c,o))return v}function zn(o,c,g){var v,x,b=0,D=zn.prefilters.length,Y=C.Deferred().always(function(){delete W.elem}),W=function(){if(x)return!1;for(var bt=xi||Cs(),ot=Math.max(0,it.startTime+it.duration-bt),Zt=1-(ot/it.duration||0),Rt=0,Ot=it.tweens.length;Rt<Ot;Rt++)it.tweens[Rt].run(Zt);return Y.notifyWith(o,[it,Zt,ot]),Zt<1&&Ot?ot:(Ot||Y.notifyWith(o,[it,1,0]),Y.resolveWith(o,[it]),!1)},it=Y.promise({elem:o,props:C.extend({},c),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},g),originalProperties:c,originalOptions:g,startTime:xi||Cs(),duration:g.duration,tweens:[],createTween:function(bt,ot){var mt=C.Tween(o,it.opts,bt,ot,it.opts.specialEasing[bt]||it.opts.easing);return it.tweens.push(mt),mt},stop:function(bt){var ot=0,mt=bt?it.tweens.length:0;if(x)return this;for(x=!0;ot<mt;ot++)it.tweens[ot].run(1);return bt?(Y.notifyWith(o,[it,1,0]),Y.resolveWith(o,[it,bt])):Y.rejectWith(o,[it,bt]),this}}),gt=it.props;for(function ca(o,c){var g,v,x,b,D;for(g in o)if(x=c[v=cn(g)],b=o[g],Array.isArray(b)&&(x=b[1],b=o[g]=b[0]),g!==v&&(o[v]=b,delete o[g]),(D=C.cssHooks[v])&&"expand"in D)for(g in b=D.expand(b),delete o[v],b)g in o||(o[g]=b[g],c[g]=x);else c[v]=x}(gt,it.opts.specialEasing);b<D;b++)if(v=zn.prefilters[b].call(it,o,gt,it.opts))return Xt(v.stop)&&(C._queueHooks(it.elem,it.opts.queue).stop=v.stop.bind(v)),v;return C.map(gt,rs,it),Xt(it.opts.start)&&it.opts.start.call(o,it),it.progress(it.opts.progress).done(it.opts.done,it.opts.complete).fail(it.opts.fail).always(it.opts.always),C.fx.timer(C.extend(W,{elem:o,anim:it,queue:it.opts.queue})),it}C.Animation=C.extend(zn,{tweeners:{"*":[function(o,c){var g=this.createTween(o,c);return Bi(g.elem,o,Oe.exec(c),g),g}]},tweener:function(o,c){Xt(o)?(c=o,o=["*"]):o=o.match(tr);for(var g,v=0,x=o.length;v<x;v++)(zn.tweeners[g=o[v]]=zn.tweeners[g]||[]).unshift(c)},prefilters:[function la(o,c,g){var v,x,b,D,Y,W,it,gt,bt="width"in c||"height"in c,ot=this,mt={},Zt=o.style,Rt=o.nodeType&&er(o),Ot=m.get(o,"fxshow");for(v in g.queue||(null==(D=C._queueHooks(o,"fx")).unqueued&&(D.unqueued=0,Y=D.empty.fire,D.empty.fire=function(){D.unqueued||Y()}),D.unqueued++,ot.always(function(){ot.always(function(){D.unqueued--,C.queue(o,"fx").length||D.empty.fire()})})),c)if(ua.test(x=c[v])){if(delete c[v],b=b||"toggle"===x,x===(Rt?"hide":"show")){if("show"!==x||!Ot||void 0===Ot[v])continue;Rt=!0}mt[v]=Ot&&Ot[v]||C.style(o,v)}if((W=!C.isEmptyObject(c))||!C.isEmptyObject(mt))for(v in bt&&1===o.nodeType&&(g.overflow=[Zt.overflow,Zt.overflowX,Zt.overflowY],null==(it=Ot&&Ot.display)&&(it=m.get(o,"display")),"none"===(gt=C.css(o,"display"))&&(it?gt=it:(In([o],!0),it=o.style.display||it,gt=C.css(o,"display"),In([o]))),("inline"===gt||"inline-block"===gt&&null!=it)&&"none"===C.css(o,"float")&&(W||(ot.done(function(){Zt.display=it}),null==it&&(it="none"===(gt=Zt.display)?"":gt)),Zt.display="inline-block")),g.overflow&&(Zt.overflow="hidden",ot.always(function(){Zt.overflow=g.overflow[0],Zt.overflowX=g.overflow[1],Zt.overflowY=g.overflow[2]})),W=!1,mt)W||(Ot?"hidden"in Ot&&(Rt=Ot.hidden):Ot=m.access(o,"fxshow",{display:it}),b&&(Ot.hidden=!Rt),Rt&&In([o],!0),ot.done(function(){for(v in Rt||In([o]),m.remove(o,"fxshow"),mt)C.style(o,v,mt[v])})),W=rs(Rt?Ot[v]:0,v,ot),v in Ot||(Ot[v]=W.start,Rt&&(W.end=W.start,W.start=0))}],prefilter:function(o,c){c?zn.prefilters.unshift(o):zn.prefilters.push(o)}}),C.speed=function(o,c,g){var v=o&&"object"==typeof o?C.extend({},o):{complete:g||!g&&c||Xt(o)&&o,duration:o,easing:g&&c||c&&!Xt(c)&&c};return C.fx.off?v.duration=0:"number"!=typeof v.duration&&(v.duration=v.duration in C.fx.speeds?C.fx.speeds[v.duration]:C.fx.speeds._default),(null==v.queue||!0===v.queue)&&(v.queue="fx"),v.old=v.complete,v.complete=function(){Xt(v.old)&&v.old.call(this),v.queue&&C.dequeue(this,v.queue)},v},C.fn.extend({fadeTo:function(o,c,g,v){return this.filter(er).css("opacity",0).show().end().animate({opacity:c},o,g,v)},animate:function(o,c,g,v){var x=C.isEmptyObject(o),b=C.speed(c,g,v),D=function(){var Y=zn(this,C.extend({},o),b);(x||m.get(this,"finish"))&&Y.stop(!0)};return D.finish=D,x||!1===b.queue?this.each(D):this.queue(b.queue,D)},stop:function(o,c,g){var v=function(x){var b=x.stop;delete x.stop,b(g)};return"string"!=typeof o&&(g=c,c=o,o=void 0),c&&this.queue(o||"fx",[]),this.each(function(){var x=!0,b=null!=o&&o+"queueHooks",D=C.timers,Y=m.get(this);if(b)Y[b]&&Y[b].stop&&v(Y[b]);else for(b in Y)Y[b]&&Y[b].stop&&Us.test(b)&&v(Y[b]);for(b=D.length;b--;)D[b].elem===this&&(null==o||D[b].queue===o)&&(D[b].anim.stop(g),x=!1,D.splice(b,1));(x||!g)&&C.dequeue(this,o)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var c,g=m.get(this),v=g[o+"queue"],x=g[o+"queueHooks"],b=C.timers,D=v?v.length:0;for(g.finish=!0,C.queue(this,o,[]),x&&x.stop&&x.stop.call(this,!0),c=b.length;c--;)b[c].elem===this&&b[c].queue===o&&(b[c].anim.stop(!0),b.splice(c,1));for(c=0;c<D;c++)v[c]&&v[c].finish&&v[c].finish.call(this);delete g.finish})}}),C.each(["toggle","show","hide"],function(o,c){var g=C.fn[c];C.fn[c]=function(v,x,b){return null==v||"boolean"==typeof v?g.apply(this,arguments):this.animate(_i(c,!0),v,x,b)}}),C.each({slideDown:_i("show"),slideUp:_i("hide"),slideToggle:_i("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(o,c){C.fn[o]=function(g,v,x){return this.animate(c,g,v,x)}}),C.timers=[],C.fx.tick=function(){var o,c=0,g=C.timers;for(xi=Date.now();c<g.length;c++)!(o=g[c])()&&g[c]===o&&g.splice(c--,1);g.length||C.fx.stop(),xi=void 0},C.fx.timer=function(o){C.timers.push(o),C.fx.start()},C.fx.interval=13,C.fx.start=function(){As||(As=!0,pi())},C.fx.stop=function(){As=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(o,c){return o=C.fx&&C.fx.speeds[o]||o,this.queue(c=c||"fx",function(g,v){var x=G.setTimeout(g,o);v.stop=function(){G.clearTimeout(x)}})},function(){var o=ve.createElement("input"),g=ve.createElement("select").appendChild(ve.createElement("option"));o.type="checkbox",Ce.checkOn=""!==o.value,Ce.optSelected=g.selected,(o=ve.createElement("input")).value="t",o.type="radio",Ce.radioValue="t"===o.value}();var yr,Wr=C.expr.attrHandle;C.fn.extend({attr:function(o,c){return Ar(this,C.attr,o,c,arguments.length>1)},removeAttr:function(o){return this.each(function(){C.removeAttr(this,o)})}}),C.extend({attr:function(o,c,g){var v,x,b=o.nodeType;if(3!==b&&8!==b&&2!==b)return typeof o.getAttribute>"u"?C.prop(o,c,g):((1!==b||!C.isXMLDoc(o))&&(x=C.attrHooks[c.toLowerCase()]||(C.expr.match.bool.test(c)?yr:void 0)),void 0!==g?null===g?void C.removeAttr(o,c):x&&"set"in x&&void 0!==(v=x.set(o,g,c))?v:(o.setAttribute(c,g+""),g):x&&"get"in x&&null!==(v=x.get(o,c))?v:(v=C.find.attr(o,c))??void 0)},attrHooks:{type:{set:function(o,c){if(!Ce.radioValue&&"radio"===c&&Xn(o,"input")){var g=o.value;return o.setAttribute("type",c),g&&(o.value=g),c}}}},removeAttr:function(o,c){var g,v=0,x=c&&c.match(tr);if(x&&1===o.nodeType)for(;g=x[v++];)o.removeAttribute(g)}}),yr={set:function(o,c,g){return!1===c?C.removeAttr(o,g):o.setAttribute(g,g),g}},C.each(C.expr.match.bool.source.match(/\w+/g),function(o,c){var g=Wr[c]||C.find.attr;Wr[c]=function(v,x,b){var D,Y,W=x.toLowerCase();return b||(Y=Wr[W],Wr[W]=D,D=null!=g(v,x,b)?W:null,Wr[W]=Y),D}});var is=/^(?:input|select|textarea|button)$/i,_r=/^(?:a|area)$/i;function ai(o){return(o.match(tr)||[]).join(" ")}function Yr(o){return o.getAttribute&&o.getAttribute("class")||""}function pt(o){return Array.isArray(o)?o:"string"==typeof o&&o.match(tr)||[]}C.fn.extend({prop:function(o,c){return Ar(this,C.prop,o,c,arguments.length>1)},removeProp:function(o){return this.each(function(){delete this[C.propFix[o]||o]})}}),C.extend({prop:function(o,c,g){var v,x,b=o.nodeType;if(3!==b&&8!==b&&2!==b)return(1!==b||!C.isXMLDoc(o))&&(x=C.propHooks[c=C.propFix[c]||c]),void 0!==g?x&&"set"in x&&void 0!==(v=x.set(o,g,c))?v:o[c]=g:x&&"get"in x&&null!==(v=x.get(o,c))?v:o[c]},propHooks:{tabIndex:{get:function(o){var c=C.find.attr(o,"tabindex");return c?parseInt(c,10):is.test(o.nodeName)||_r.test(o.nodeName)&&o.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ce.optSelected||(C.propHooks.selected={get:function(o){return null},set:function(o){}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(o){var c,g,v,x,b,D,Y,W=0;if(Xt(o))return this.each(function(it){C(this).addClass(o.call(this,it,Yr(this)))});if((c=pt(o)).length)for(;g=this[W++];)if(x=Yr(g),v=1===g.nodeType&&" "+ai(x)+" "){for(D=0;b=c[D++];)v.indexOf(" "+b+" ")<0&&(v+=b+" ");x!==(Y=ai(v))&&g.setAttribute("class",Y)}return this},removeClass:function(o){var c,g,v,x,b,D,Y,W=0;if(Xt(o))return this.each(function(it){C(this).removeClass(o.call(this,it,Yr(this)))});if(!arguments.length)return this.attr("class","");if((c=pt(o)).length)for(;g=this[W++];)if(x=Yr(g),v=1===g.nodeType&&" "+ai(x)+" "){for(D=0;b=c[D++];)for(;v.indexOf(" "+b+" ")>-1;)v=v.replace(" "+b+" "," ");x!==(Y=ai(v))&&g.setAttribute("class",Y)}return this},toggleClass:function(o,c){var g=typeof o,v="string"===g||Array.isArray(o);return"boolean"==typeof c&&v?c?this.addClass(o):this.removeClass(o):Xt(o)?this.each(function(x){C(this).toggleClass(o.call(this,x,Yr(this),c),c)}):this.each(function(){var x,b,D,Y;if(v)for(b=0,D=C(this),Y=pt(o);x=Y[b++];)D.hasClass(x)?D.removeClass(x):D.addClass(x);else(void 0===o||"boolean"===g)&&((x=Yr(this))&&m.set(this,"__className__",x),this.setAttribute&&this.setAttribute("class",x||!1===o?"":m.get(this,"__className__")||""))})},hasClass:function(o){var c,g,v=0;for(c=" "+o+" ";g=this[v++];)if(1===g.nodeType&&(" "+ai(Yr(g))+" ").indexOf(c)>-1)return!0;return!1}});var sr=/\r/g;C.fn.extend({val:function(o){var c,g,v,x=this[0];return arguments.length?(v=Xt(o),this.each(function(b){var D;1===this.nodeType&&(null==(D=v?o.call(this,b,C(this).val()):o)?D="":"number"==typeof D?D+="":Array.isArray(D)&&(D=C.map(D,function(Y){return null==Y?"":Y+""})),(!(c=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])||!("set"in c)||void 0===c.set(this,D,"value"))&&(this.value=D))})):x?(c=C.valHooks[x.type]||C.valHooks[x.nodeName.toLowerCase()])&&"get"in c&&void 0!==(g=c.get(x,"value"))?g:"string"==typeof(g=x.value)?g.replace(sr,""):g??"":void 0}}),C.extend({valHooks:{option:{get:function(o){return C.find.attr(o,"value")??ai(C.text(o))}},select:{get:function(o){var c,g,v,x=o.options,b=o.selectedIndex,D="select-one"===o.type,Y=D?null:[],W=D?b+1:x.length;for(v=b<0?W:D?b:0;v<W;v++)if(((g=x[v]).selected||v===b)&&!g.disabled&&(!g.parentNode.disabled||!Xn(g.parentNode,"optgroup"))){if(c=C(g).val(),D)return c;Y.push(c)}return Y},set:function(o,c){for(var g,v,x=o.options,b=C.makeArray(c),D=x.length;D--;)((v=x[D]).selected=C.inArray(C.valHooks.option.get(v),b)>-1)&&(g=!0);return g||(o.selectedIndex=-1),b}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(o,c){if(Array.isArray(c))return o.checked=C.inArray(C(o).val(),c)>-1}},Ce.checkOn||(C.valHooks[this].get=function(o){return null===o.getAttribute("value")?"on":o.value})}),Ce.focusin="onfocusin"in G;var An=/^(?:focusinfocus|focusoutblur)$/,Yi=function(o){o.stopPropagation()};C.extend(C.event,{trigger:function(o,c,g,v){var x,b,D,Y,W,it,gt,bt,ot=[g||ve],mt=Fn.call(o,"type")?o.type:o,Zt=Fn.call(o,"namespace")?o.namespace.split("."):[];if(b=bt=D=g=g||ve,3!==g.nodeType&&8!==g.nodeType&&!An.test(mt+C.event.triggered)&&(mt.indexOf(".")>-1&&(Zt=mt.split("."),mt=Zt.shift(),Zt.sort()),W=mt.indexOf(":")<0&&"on"+mt,(o=o[C.expando]?o:new C.Event(mt,"object"==typeof o&&o)).isTrigger=v?2:3,o.namespace=Zt.join("."),o.rnamespace=o.namespace?new RegExp("(^|\\.)"+Zt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=g),c=null==c?[o]:C.makeArray(c,[o]),gt=C.event.special[mt]||{},v||!gt.trigger||!1!==gt.trigger.apply(g,c))){if(!v&&!gt.noBubble&&!Bn(g)){for(An.test((Y=gt.delegateType||mt)+mt)||(b=b.parentNode);b;b=b.parentNode)ot.push(b),D=b;D===(g.ownerDocument||ve)&&ot.push(D.defaultView||D.parentWindow||G)}for(x=0;(b=ot[x++])&&!o.isPropagationStopped();)bt=b,o.type=x>1?Y:gt.bindType||mt,(it=(m.get(b,"events")||Object.create(null))[o.type]&&m.get(b,"handle"))&&it.apply(b,c),(it=W&&b[W])&&it.apply&&qe(b)&&(o.result=it.apply(b,c),!1===o.result&&o.preventDefault());return o.type=mt,!v&&!o.isDefaultPrevented()&&(!gt._default||!1===gt._default.apply(ot.pop(),c))&&qe(g)&&W&&Xt(g[mt])&&!Bn(g)&&((D=g[W])&&(g[W]=null),C.event.triggered=mt,o.isPropagationStopped()&&bt.addEventListener(mt,Yi),g[mt](),o.isPropagationStopped()&&bt.removeEventListener(mt,Yi),C.event.triggered=void 0,D&&(g[W]=D)),o.result}},simulate:function(o,c,g){var v=C.extend(new C.Event,g,{type:o,isSimulated:!0});C.event.trigger(v,null,c)}}),C.fn.extend({trigger:function(o,c){return this.each(function(){C.event.trigger(o,c,this)})},triggerHandler:function(o,c){var g=this[0];if(g)return C.event.trigger(o,c,g,!0)}}),Ce.focusin||C.each({focus:"focusin",blur:"focusout"},function(o,c){var g=function(v){C.event.simulate(c,v.target,C.event.fix(v))};C.event.special[c]={setup:function(){var v=this.ownerDocument||this.document||this,x=m.access(v,c);x||v.addEventListener(o,g,!0),m.access(v,c,(x||0)+1)},teardown:function(){var v=this.ownerDocument||this.document||this,x=m.access(v,c)-1;x?m.access(v,c,x):(v.removeEventListener(o,g,!0),m.remove(v,c))}}});var Ur=G.location,Ui={guid:Date.now()},Fi=/\?/;C.parseXML=function(o){var c,g;if(!o||"string"!=typeof o)return null;try{c=(new G.DOMParser).parseFromString(o,"text/xml")}catch{}return g=c&&c.getElementsByTagName("parsererror")[0],(!c||g)&&C.error("Invalid XML: "+(g?C.map(g.childNodes,function(v){return v.textContent}).join("\n"):o)),c};var Fs=/\[\]$/,ss=/\r?\n/g,as=/^(?:submit|button|image|reset|file)$/i,La=/^(?:input|select|textarea|keygen)/i;function fa(o,c,g,v){var x;if(Array.isArray(c))C.each(c,function(b,D){g||Fs.test(o)?v(o,D):fa(o+"["+("object"==typeof D&&null!=D?b:"")+"]",D,g,v)});else if(g||"object"!==gn(c))v(o,c);else for(x in c)fa(o+"["+x+"]",c[x],g,v)}C.param=function(o,c){var g,v=[],x=function(b,D){var Y=Xt(D)?D():D;v[v.length]=encodeURIComponent(b)+"="+encodeURIComponent(Y??"")};if(null==o)return"";if(Array.isArray(o)||o.jquery&&!C.isPlainObject(o))C.each(o,function(){x(this.name,this.value)});else for(g in o)fa(g,o[g],c,x);return v.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var o=C.prop(this,"elements");return o?C.makeArray(o):this}).filter(function(){var o=this.type;return this.name&&!C(this).is(":disabled")&&La.test(this.nodeName)&&!as.test(o)&&(this.checked||!Br.test(o))}).map(function(o,c){var g=C(this).val();return null==g?null:Array.isArray(g)?C.map(g,function(v){return{name:c.name,value:v.replace(ss,"\r\n")}}):{name:c.name,value:g.replace(ss,"\r\n")}}).get()}});var ys=/%20/g,to=/#.*$/,Vn=/([?&])_=[^&]*/,Xs=/^(.*?):[ \t]*([^\r\n]*)$/gm,eo=/^(?:GET|HEAD)$/,hr=/^\/\//,Xi={},ws={},Pa="*/".concat("*"),bs=ve.createElement("a");function no(o){return function(c,g){"string"!=typeof c&&(g=c,c="*");var v,x=0,b=c.toLowerCase().match(tr)||[];if(Xt(g))for(;v=b[x++];)"+"===v[0]?(v=v.slice(1)||"*",(o[v]=o[v]||[]).unshift(g)):(o[v]=o[v]||[]).push(g)}}function Vs(o,c,g,v){var x={},b=o===ws;function D(Y){var W;return x[Y]=!0,C.each(o[Y]||[],function(it,gt){var bt=gt(c,g,v);return"string"!=typeof bt||b||x[bt]?b?!(W=bt):void 0:(c.dataTypes.unshift(bt),D(bt),!1)}),W}return D(c.dataTypes[0])||!x["*"]&&D("*")}function an(o,c){var g,v,x=C.ajaxSettings.flatOptions||{};for(g in c)void 0!==c[g]&&((x[g]?o:v||(v={}))[g]=c[g]);return v&&C.extend(!0,o,v),o}bs.href=Ur.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ur.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ur.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pa,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(o,c){return c?an(an(o,C.ajaxSettings),c):an(C.ajaxSettings,o)},ajaxPrefilter:no(Xi),ajaxTransport:no(ws),ajax:function(o,c){"object"==typeof o&&(c=o,o=void 0);var g,v,x,b,D,Y,W,it,gt,bt,ot=C.ajaxSetup({},c=c||{}),mt=ot.context||ot,Zt=ot.context&&(mt.nodeType||mt.jquery)?C(mt):C.event,Rt=C.Deferred(),Ot=C.Callbacks("once memory"),Ut=ot.statusCode||{},Mn={},wr={},ae="canceled",ee={readyState:0,getResponseHeader:function(ze){var Cn;if(W){if(!b)for(b={};Cn=Xs.exec(x);)b[Cn[1].toLowerCase()+" "]=(b[Cn[1].toLowerCase()+" "]||[]).concat(Cn[2]);Cn=b[ze.toLowerCase()+" "]}return null==Cn?null:Cn.join(", ")},getAllResponseHeaders:function(){return W?x:null},setRequestHeader:function(ze,Cn){return null==W&&(ze=wr[ze.toLowerCase()]=wr[ze.toLowerCase()]||ze,Mn[ze]=Cn),this},overrideMimeType:function(ze){return null==W&&(ot.mimeType=ze),this},statusCode:function(ze){var Cn;if(ze)if(W)ee.always(ze[ee.status]);else for(Cn in ze)Ut[Cn]=[Ut[Cn],ze[Cn]];return this},abort:function(ze){var Cn=ze||ae;return g&&g.abort(Cn),Hn(0,Cn),this}};if(Rt.promise(ee),ot.url=((o||ot.url||Ur.href)+"").replace(hr,Ur.protocol+"//"),ot.type=c.method||c.type||ot.method||ot.type,ot.dataTypes=(ot.dataType||"*").toLowerCase().match(tr)||[""],null==ot.crossDomain){Y=ve.createElement("a");try{Y.href=ot.url,Y.href=Y.href,ot.crossDomain=bs.protocol+"//"+bs.host!=Y.protocol+"//"+Y.host}catch{ot.crossDomain=!0}}if(ot.data&&ot.processData&&"string"!=typeof ot.data&&(ot.data=C.param(ot.data,ot.traditional)),Vs(Xi,ot,c,ee),W)return ee;for(gt in(it=C.event&&ot.global)&&0==C.active++&&C.event.trigger("ajaxStart"),ot.type=ot.type.toUpperCase(),ot.hasContent=!eo.test(ot.type),v=ot.url.replace(to,""),ot.hasContent?ot.data&&ot.processData&&0===(ot.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ot.data=ot.data.replace(ys,"+")):(bt=ot.url.slice(v.length),ot.data&&(ot.processData||"string"==typeof ot.data)&&(v+=(Fi.test(v)?"&":"?")+ot.data,delete ot.data),!1===ot.cache&&(v=v.replace(Vn,"$1"),bt=(Fi.test(v)?"&":"?")+"_="+Ui.guid+++bt),ot.url=v+bt),ot.ifModified&&(C.lastModified[v]&&ee.setRequestHeader("If-Modified-Since",C.lastModified[v]),C.etag[v]&&ee.setRequestHeader("If-None-Match",C.etag[v])),(ot.data&&ot.hasContent&&!1!==ot.contentType||c.contentType)&&ee.setRequestHeader("Content-Type",ot.contentType),ee.setRequestHeader("Accept",ot.dataTypes[0]&&ot.accepts[ot.dataTypes[0]]?ot.accepts[ot.dataTypes[0]]+("*"!==ot.dataTypes[0]?", "+Pa+"; q=0.01":""):ot.accepts["*"]),ot.headers)ee.setRequestHeader(gt,ot.headers[gt]);if(ot.beforeSend&&(!1===ot.beforeSend.call(mt,ee,ot)||W))return ee.abort();if(ae="abort",Ot.add(ot.complete),ee.done(ot.success),ee.fail(ot.error),g=Vs(ws,ot,c,ee)){if(ee.readyState=1,it&&Zt.trigger("ajaxSend",[ee,ot]),W)return ee;ot.async&&ot.timeout>0&&(D=G.setTimeout(function(){ee.abort("timeout")},ot.timeout));try{W=!1,g.send(Mn,Hn)}catch(ze){if(W)throw ze;Hn(-1,ze)}}else Hn(-1,"No Transport");function Hn(ze,Cn,xs,Fr){var Ue,br,Ni,Jn,Wn,Xr=Cn;W||(W=!0,D&&G.clearTimeout(D),g=void 0,x=Fr||"",ee.readyState=ze>0?4:0,Ue=ze>=200&&ze<300||304===ze,xs&&(Jn=function tn(o,c,g){for(var v,x,b,D,Y=o.contents,W=o.dataTypes;"*"===W[0];)W.shift(),void 0===v&&(v=o.mimeType||c.getResponseHeader("Content-Type"));if(v)for(x in Y)if(Y[x]&&Y[x].test(v)){W.unshift(x);break}if(W[0]in g)b=W[0];else{for(x in g){if(!W[0]||o.converters[x+" "+W[0]]){b=x;break}D||(D=x)}b=b||D}if(b)return b!==W[0]&&W.unshift(b),g[b]}(ot,ee,xs)),!Ue&&C.inArray("script",ot.dataTypes)>-1&&C.inArray("json",ot.dataTypes)<0&&(ot.converters["text script"]=function(){}),Jn=function za(o,c,g,v){var x,b,D,Y,W,it={},gt=o.dataTypes.slice();if(gt[1])for(D in o.converters)it[D.toLowerCase()]=o.converters[D];for(b=gt.shift();b;)if(o.responseFields[b]&&(g[o.responseFields[b]]=c),!W&&v&&o.dataFilter&&(c=o.dataFilter(c,o.dataType)),W=b,b=gt.shift())if("*"===b)b=W;else if("*"!==W&&W!==b){if(!(D=it[W+" "+b]||it["* "+b]))for(x in it)if((Y=x.split(" "))[1]===b&&(D=it[W+" "+Y[0]]||it["* "+Y[0]])){!0===D?D=it[x]:!0!==it[x]&&(b=Y[0],gt.unshift(Y[1]));break}if(!0!==D)if(D&&o.throws)c=D(c);else try{c=D(c)}catch(bt){return{state:"parsererror",error:D?bt:"No conversion from "+W+" to "+b}}}return{state:"success",data:c}}(ot,Jn,ee,Ue),Ue?(ot.ifModified&&((Wn=ee.getResponseHeader("Last-Modified"))&&(C.lastModified[v]=Wn),(Wn=ee.getResponseHeader("etag"))&&(C.etag[v]=Wn)),204===ze||"HEAD"===ot.type?Xr="nocontent":304===ze?Xr="notmodified":(Xr=Jn.state,br=Jn.data,Ue=!(Ni=Jn.error))):(Ni=Xr,(ze||!Xr)&&(Xr="error",ze<0&&(ze=0))),ee.status=ze,ee.statusText=(Cn||Xr)+"",Ue?Rt.resolveWith(mt,[br,Xr,ee]):Rt.rejectWith(mt,[ee,Xr,Ni]),ee.statusCode(Ut),Ut=void 0,it&&Zt.trigger(Ue?"ajaxSuccess":"ajaxError",[ee,ot,Ue?br:Ni]),Ot.fireWith(mt,[ee,Xr]),it&&(Zt.trigger("ajaxComplete",[ee,ot]),--C.active||C.event.trigger("ajaxStop")))}return ee},getJSON:function(o,c,g){return C.get(o,c,g,"json")},getScript:function(o,c){return C.get(o,void 0,c,"script")}}),C.each(["get","post"],function(o,c){C[c]=function(g,v,x,b){return Xt(v)&&(b=b||x,x=v,v=void 0),C.ajax(C.extend({url:g,type:c,dataType:b,data:v,success:x},C.isPlainObject(g)&&g))}}),C.ajaxPrefilter(function(o){var c;for(c in o.headers)"content-type"===c.toLowerCase()&&(o.contentType=o.headers[c]||"")}),C._evalUrl=function(o,c,g){return C.ajax({url:o,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(v){C.globalEval(v,c,g)}})},C.fn.extend({wrapAll:function(o){var c;return this[0]&&(Xt(o)&&(o=o.call(this[0])),c=C(o,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(o){return Xt(o)?this.each(function(c){C(this).wrapInner(o.call(this,c))}):this.each(function(){var c=C(this),g=c.contents();g.length?g.wrapAll(o):c.append(o)})},wrap:function(o){var c=Xt(o);return this.each(function(g){C(this).wrapAll(c?o.call(this,g):o)})},unwrap:function(o){return this.parent(o).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(o){return!C.expr.pseudos.visible(o)},C.expr.pseudos.visible=function(o){return!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new G.XMLHttpRequest}catch{}};var ka={0:200,1223:204},N=C.ajaxSettings.xhr();Ce.cors=!!N&&"withCredentials"in N,Ce.ajax=N=!!N,C.ajaxTransport(function(o){var c,g;if(Ce.cors||N&&!o.crossDomain)return{send:function(v,x){var b,D=o.xhr();if(D.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(b in o.xhrFields)D[b]=o.xhrFields[b];for(b in o.mimeType&&D.overrideMimeType&&D.overrideMimeType(o.mimeType),!o.crossDomain&&!v["X-Requested-With"]&&(v["X-Requested-With"]="XMLHttpRequest"),v)D.setRequestHeader(b,v[b]);c=function(Y){return function(){c&&(c=g=D.onload=D.onerror=D.onabort=D.ontimeout=D.onreadystatechange=null,"abort"===Y?D.abort():"error"===Y?"number"!=typeof D.status?x(0,"error"):x(D.status,D.statusText):x(ka[D.status]||D.status,D.statusText,"text"!==(D.responseType||"text")||"string"!=typeof D.responseText?{binary:D.response}:{text:D.responseText},D.getAllResponseHeaders()))}},D.onload=c(),g=D.onerror=D.ontimeout=c("error"),void 0!==D.onabort?D.onabort=g:D.onreadystatechange=function(){4===D.readyState&&G.setTimeout(function(){c&&g()})},c=c("abort");try{D.send(o.hasContent&&o.data||null)}catch(Y){if(c)throw Y}},abort:function(){c&&c()}}}),C.ajaxPrefilter(function(o){o.crossDomain&&(o.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(o){return C.globalEval(o),o}}}),C.ajaxPrefilter("script",function(o){void 0===o.cache&&(o.cache=!1),o.crossDomain&&(o.type="GET")}),C.ajaxTransport("script",function(o){var c,g;if(o.crossDomain||o.scriptAttrs)return{send:function(v,x){c=C("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",g=function(b){c.remove(),g=null,b&&x("error"===b.type?404:200,b.type)}),ve.head.appendChild(c[0])},abort:function(){g&&g()}}});var o,z=[],_=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var o=z.pop()||C.expando+"_"+Ui.guid++;return this[o]=!0,o}}),C.ajaxPrefilter("json jsonp",function(o,c,g){var v,x,b,D=!1!==o.jsonp&&(_.test(o.url)?"url":"string"==typeof o.data&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&_.test(o.data)&&"data");if(D||"jsonp"===o.dataTypes[0])return v=o.jsonpCallback=Xt(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,D?o[D]=o[D].replace(_,"$1"+v):!1!==o.jsonp&&(o.url+=(Fi.test(o.url)?"&":"?")+o.jsonp+"="+v),o.converters["script json"]=function(){return b||C.error(v+" was not called"),b[0]},o.dataTypes[0]="json",x=G[v],G[v]=function(){b=arguments},g.always(function(){void 0===x?C(G).removeProp(v):G[v]=x,o[v]&&(o.jsonpCallback=c.jsonpCallback,z.push(v)),b&&Xt(x)&&x(b[0]),b=x=void 0}),"script"}),Ce.createHTMLDocument=((o=ve.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===o.childNodes.length),C.parseHTML=function(o,c,g){return"string"!=typeof o?[]:("boolean"==typeof c&&(g=c,c=!1),c||(Ce.createHTMLDocument?((v=(c=ve.implementation.createHTMLDocument("")).createElement("base")).href=ve.location.href,c.head.appendChild(v)):c=ve),b=!g&&[],(x=Oi.exec(o))?[c.createElement(x[1])]:(x=fi([o],c,b),b&&b.length&&C(b).remove(),C.merge([],x.childNodes)));var v,x,b},C.fn.load=function(o,c,g){var v,x,b,D=this,Y=o.indexOf(" ");return Y>-1&&(v=ai(o.slice(Y)),o=o.slice(0,Y)),Xt(c)?(g=c,c=void 0):c&&"object"==typeof c&&(x="POST"),D.length>0&&C.ajax({url:o,type:x||"GET",dataType:"html",data:c}).done(function(W){b=arguments,D.html(v?C("<div>").append(C.parseHTML(W)).find(v):W)}).always(g&&function(W,it){D.each(function(){g.apply(this,b||[W.responseText,it,W])})}),this},C.expr.pseudos.animated=function(o){return C.grep(C.timers,function(c){return o===c.elem}).length},C.offset={setOffset:function(o,c,g){var v,x,b,D,Y,W,gt=C.css(o,"position"),bt=C(o),ot={};"static"===gt&&(o.style.position="relative"),Y=bt.offset(),b=C.css(o,"top"),W=C.css(o,"left"),("absolute"===gt||"fixed"===gt)&&(b+W).indexOf("auto")>-1?(D=(v=bt.position()).top,x=v.left):(D=parseFloat(b)||0,x=parseFloat(W)||0),Xt(c)&&(c=c.call(o,g,C.extend({},Y))),null!=c.top&&(ot.top=c.top-Y.top+D),null!=c.left&&(ot.left=c.left-Y.left+x),"using"in c?c.using.call(o,ot):bt.css(ot)}},C.fn.extend({offset:function(o){if(arguments.length)return void 0===o?this:this.each(function(x){C.offset.setOffset(this,o,x)});var c,g,v=this[0];return v?v.getClientRects().length?{top:(c=v.getBoundingClientRect()).top+(g=v.ownerDocument.defaultView).pageYOffset,left:c.left+g.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var o,c,g,v=this[0],x={top:0,left:0};if("fixed"===C.css(v,"position"))c=v.getBoundingClientRect();else{for(c=this.offset(),g=v.ownerDocument,o=v.offsetParent||g.documentElement;o&&(o===g.body||o===g.documentElement)&&"static"===C.css(o,"position");)o=o.parentNode;o&&o!==v&&1===o.nodeType&&((x=C(o).offset()).top+=C.css(o,"borderTopWidth",!0),x.left+=C.css(o,"borderLeftWidth",!0))}return{top:c.top-x.top-C.css(v,"marginTop",!0),left:c.left-x.left-C.css(v,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent;o&&"static"===C.css(o,"position");)o=o.offsetParent;return o||ye})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(o,c){var g="pageYOffset"===c;C.fn[o]=function(v){return Ar(this,function(x,b,D){var Y;if(Bn(x)?Y=x:9===x.nodeType&&(Y=x.defaultView),void 0===D)return Y?Y[c]:x[b];Y?Y.scrollTo(g?Y.pageXOffset:D,g?D:Y.pageYOffset):x[b]=D},o,v,arguments.length)}}),C.each(["top","left"],function(o,c){C.cssHooks[c]=_s(Ce.pixelPosition,function(g,v){if(v)return v=Cr(g,c),Rs.test(v)?C(g).position()[c]+"px":v})}),C.each({Height:"height",Width:"width"},function(o,c){C.each({padding:"inner"+o,content:c,"":"outer"+o},function(g,v){C.fn[v]=function(x,b){var D=arguments.length&&(g||"boolean"!=typeof x),Y=g||(!0===x||!0===b?"margin":"border");return Ar(this,function(W,it,gt){var bt;return Bn(W)?0===v.indexOf("outer")?W["inner"+o]:W.document.documentElement["client"+o]:9===W.nodeType?(bt=W.documentElement,Math.max(W.body["scroll"+o],bt["scroll"+o],W.body["offset"+o],bt["offset"+o],bt["client"+o])):void 0===gt?C.css(W,it,Y):C.style(W,it,gt,Y)},c,D?x:void 0,D)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(o,c){C.fn[c]=function(g){return this.on(c,g)}}),C.fn.extend({bind:function(o,c,g){return this.on(o,null,c,g)},unbind:function(o,c){return this.off(o,null,c)},delegate:function(o,c,g,v){return this.on(c,o,g,v)},undelegate:function(o,c,g){return 1===arguments.length?this.off(o,"**"):this.off(c,o||"**",g)},hover:function(o,c){return this.mouseenter(o).mouseleave(c||o)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(o,c){C.fn[c]=function(g,v){return arguments.length>0?this.on(c,null,g,v):this.trigger(c)}});var H=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(o,c){var g,v,x;if("string"==typeof c&&(g=o[c],c=o,o=g),Xt(o))return v=Ve.call(arguments,2),x=function(){return o.apply(c||this,v.concat(Ve.call(arguments)))},x.guid=o.guid=o.guid||C.guid++,x},C.holdReady=function(o){o?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=Xn,C.isFunction=Xt,C.isWindow=Bn,C.camelCase=cn,C.type=gn,C.now=Date.now,C.isNumeric=function(o){var c=C.type(o);return("number"===c||"string"===c)&&!isNaN(o-parseFloat(o))},C.trim=function(o){return null==o?"":(o+"").replace(H,"")},void 0!==(vr=function(){return C}.apply(jr,[]))&&($r.exports=vr);var ct=G.jQuery,Q=G.$;return C.noConflict=function(o){return G.$===C&&(G.$=Q),o&&G.jQuery===C&&(G.jQuery=ct),C},typeof mr>"u"&&(G.jQuery=G.$=C),C})},489:function($r,jr,Ft){var vr;$r=Ft.nmd($r),function(){var G,Ve="Expected a function",Ir="__lodash_hash_undefined__",Tr="__lodash_placeholder__",C=128,sn=1/0,ln=9007199254740991,$n=4294967295,jn=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],lr="[object Arguments]",ie="[object Array]",Lr="[object Boolean]",xn="[object Date]",ri="[object Error]",Zi="[object Function]",Gs="[object GeneratorFunction]",cn="[object Map]",qe="[object Number]",m="[object Object]",R="[object Promise]",yt="[object RegExp]",tt="[object Set]",Et="[object String]",ce="[object Symbol]",_e="[object WeakMap]",Me="[object ArrayBuffer]",Ln="[object DataView]",er="[object Float32Array]",Bi="[object Float64Array]",He="[object Int8Array]",Nn="[object Int16Array]",In="[object Int32Array]",Br="[object Uint8Array]",Pt="[object Uint8ClampedArray]",Rr="[object Uint16Array]",Gn="[object Uint32Array]",Pn=/\b__p \+= '';/g,es=/\b(__p \+=) '' \+/g,$e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fi=/&(?:amp|lt|gt|quot|#39);/g,Zs=/[&<>"']/g,yi=RegExp(fi.source),wi=RegExp(Zs.source),Ri=/<%-([\s\S]+?)%>/g,De=/<%([\s\S]+?)%>/g,hi=/<%=([\s\S]+?)%>/g,Yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cr=/^\w*$/,gi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pn=/[\\^$.*+?()[\]{}|]/g,Bs=RegExp(pn.source),Rn=/^\s+/,nr=/\s/,di=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vs=/\{\n\/\* \[wrapped with (.+)\] \*/,rr=/,? & /,ms=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rs=/[()=,{}\[\]\/\s]/,Ws=/\\(\\)?/g,ir=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ra=/\w*$/,Cr=/^[-+]0x[0-9a-f]+$/i,_s=/^0b[01]+$/i,ia=/^\[object .+?Constructor\]$/,sa=/^0o[0-7]+$/i,aa=/^(?:0|[1-9]\d*)$/,oa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ii=/($^)/,bi=/['\n\r\u2028\u2029\\]/g,Wi="\\ud800-\\udfff",ns="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ys="\\u2700-\\u27bf",Zn="a-z\\xdf-\\xf6\\xf8-\\xff",pi="A-Z\\xc0-\\xd6\\xd8-\\xde",Cs="\\ufe0e\\ufe0f",_i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",la="["+Wi+"]",ca="["+_i+"]",zn="["+ns+"]",yr="\\d+",Wr="["+Ys+"]",is="["+Zn+"]",_r="[^"+Wi+_i+yr+Ys+Zn+pi+"]",ai="\\ud83c[\\udffb-\\udfff]",pt="[^"+Wi+"]",sr="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",Yi="["+pi+"]",Ui="(?:"+is+"|"+_r+")",Fi="(?:"+Yi+"|"+_r+")",Fs="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ss="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",as="(?:"+zn+"|"+ai+")?",La="["+Cs+"]?",Vn=La+as+"(?:\\u200d(?:"+[pt,sr,An].join("|")+")"+La+as+")*",Xs="(?:"+[Wr,sr,An].join("|")+")"+Vn,ha="(?:"+[pt+zn+"?",zn,sr,An,la].join("|")+")",eo=RegExp("['\u2019]","g"),hr=RegExp(zn,"g"),Xi=RegExp(ai+"(?="+ai+")|"+ha+Vn,"g"),ws=RegExp([Yi+"?"+is+"+"+Fs+"(?="+[ca,Yi,"$"].join("|")+")",Fi+"+"+ss+"(?="+[ca,Yi+Ui,"$"].join("|")+")",Yi+"?"+Ui+"+"+Fs,Yi+"+"+ss,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yr,Xs].join("|"),"g"),Pa=RegExp("[\\u200d"+Wi+ns+Cs+"]"),bs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,no=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vs=-1,an={};an[er]=an[Bi]=an[He]=an[Nn]=an[In]=an[Br]=an[Pt]=an[Rr]=an[Gn]=!0,an[lr]=an[ie]=an[Me]=an[Lr]=an[Ln]=an[xn]=an[ri]=an[Zi]=an[cn]=an[qe]=an[m]=an[yt]=an[tt]=an[Et]=an[_e]=!1;var tn={};tn[lr]=tn[ie]=tn[Me]=tn[Ln]=tn[Lr]=tn[xn]=tn[er]=tn[Bi]=tn[He]=tn[Nn]=tn[In]=tn[cn]=tn[qe]=tn[m]=tn[yt]=tn[tt]=tn[Et]=tn[ce]=tn[Br]=tn[Pt]=tn[Rr]=tn[Gn]=!0,tn[ri]=tn[Zi]=tn[_e]=!1;var z={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_=parseFloat,H=parseInt,ct="object"==typeof global&&global&&global.Object===Object&&global,Q="object"==typeof self&&self&&self.Object===Object&&self,o=ct||Q||Function("return this")(),c=jr&&!jr.nodeType&&jr,g=c&&$r&&!$r.nodeType&&$r,v=g&&g.exports===c,x=v&&ct.process,b=function(){try{return g&&g.require&&g.require("util").types||x&&x.binding&&x.binding("util")}catch{}}(),D=b&&b.isArrayBuffer,Y=b&&b.isDate,W=b&&b.isMap,it=b&&b.isRegExp,gt=b&&b.isSet,bt=b&&b.isTypedArray;function ot(nt,Ct,dt){switch(dt.length){case 0:return nt.call(Ct);case 1:return nt.call(Ct,dt[0]);case 2:return nt.call(Ct,dt[0],dt[1]);case 3:return nt.call(Ct,dt[0],dt[1],dt[2])}return nt.apply(Ct,dt)}function mt(nt,Ct,dt,_t){for(var fe=-1,Fe=null==nt?0:nt.length;++fe<Fe;){var Sn=nt[fe];Ct(_t,Sn,dt(Sn),nt)}return _t}function Zt(nt,Ct){for(var dt=-1,_t=null==nt?0:nt.length;++dt<_t&&!1!==Ct(nt[dt],dt,nt););return nt}function Rt(nt,Ct){for(var dt=null==nt?0:nt.length;dt--&&!1!==Ct(nt[dt],dt,nt););return nt}function Ot(nt,Ct){for(var dt=-1,_t=null==nt?0:nt.length;++dt<_t;)if(!Ct(nt[dt],dt,nt))return!1;return!0}function Ut(nt,Ct){for(var dt=-1,_t=null==nt?0:nt.length,fe=0,Fe=[];++dt<_t;){var Sn=nt[dt];Ct(Sn,dt,nt)&&(Fe[fe++]=Sn)}return Fe}function Mn(nt,Ct){return!(null==nt||!nt.length)&&Jn(nt,Ct,0)>-1}function wr(nt,Ct,dt){for(var _t=-1,fe=null==nt?0:nt.length;++_t<fe;)if(dt(Ct,nt[_t]))return!0;return!1}function ae(nt,Ct){for(var dt=-1,_t=null==nt?0:nt.length,fe=Array(_t);++dt<_t;)fe[dt]=Ct(nt[dt],dt,nt);return fe}function ee(nt,Ct){for(var dt=-1,_t=Ct.length,fe=nt.length;++dt<_t;)nt[fe+dt]=Ct[dt];return nt}function Hn(nt,Ct,dt,_t){var fe=-1,Fe=null==nt?0:nt.length;for(_t&&Fe&&(dt=nt[++fe]);++fe<Fe;)dt=Ct(dt,nt[fe],fe,nt);return dt}function ze(nt,Ct,dt,_t){var fe=null==nt?0:nt.length;for(_t&&fe&&(dt=nt[--fe]);fe--;)dt=Ct(dt,nt[fe],fe,nt);return dt}function Cn(nt,Ct){for(var dt=-1,_t=null==nt?0:nt.length;++dt<_t;)if(Ct(nt[dt],dt,nt))return!0;return!1}var xs=kn("length");function br(nt,Ct,dt){var _t;return dt(nt,function(fe,Fe,Sn){if(Ct(fe,Fe,Sn))return _t=Fe,!1}),_t}function Ni(nt,Ct,dt,_t){for(var fe=nt.length,Fe=dt+(_t?1:-1);_t?Fe--:++Fe<fe;)if(Ct(nt[Fe],Fe,nt))return Fe;return-1}function Jn(nt,Ct,dt){return Ct==Ct?function ko(nt,Ct,dt){for(var _t=dt-1,fe=nt.length;++_t<fe;)if(nt[_t]===Ct)return _t;return-1}(nt,Ct,dt):Ni(nt,Xr,dt)}function Wn(nt,Ct,dt,_t){for(var fe=dt-1,Fe=nt.length;++fe<Fe;)if(_t(nt[fe],Ct))return fe;return-1}function Xr(nt){return nt!=nt}function Vi(nt,Ct){var dt=null==nt?0:nt.length;return dt?vn(nt,Ct)/dt:NaN}function kn(nt){return function(Ct){return null==Ct?G:Ct[nt]}}function Hi(nt){return function(Ct){return null==nt?G:nt[Ct]}}function fn(nt,Ct,dt,_t,fe){return fe(nt,function(Fe,Sn,en){dt=_t?(_t=!1,Fe):Ct(dt,Fe,Sn,en)}),dt}function vn(nt,Ct){for(var dt,_t=-1,fe=nt.length;++_t<fe;){var Fe=Ct(nt[_t]);Fe!==G&&(dt=dt===G?Fe:dt+Fe)}return dt}function Ea(nt,Ct){for(var dt=-1,_t=Array(nt);++dt<nt;)_t[dt]=Ct(dt);return _t}function Mi(nt){return nt&&nt.slice(0,Hr(nt)+1).replace(Rn,"")}function gr(nt){return function(Ct){return nt(Ct)}}function ja(nt,Ct){return ae(Ct,function(dt){return nt[dt]})}function Hs(nt,Ct){return nt.has(Ct)}function ro(nt,Ct){for(var dt=-1,_t=nt.length;++dt<_t&&Jn(Ct,nt[dt],0)>-1;);return dt}function io(nt,Ct){for(var dt=nt.length;dt--&&Jn(Ct,nt[dt],0)>-1;);return dt}function iu(nt,Ct){for(var dt=nt.length,_t=0;dt--;)nt[dt]===Ct&&++_t;return _t}var Ga=Hi({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),so=Hi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Po(nt){return"\\"+z[nt]}function oi(nt){return Pa.test(nt)}function ui(nt){var Ct=-1,dt=Array(nt.size);return nt.forEach(function(_t,fe){dt[++Ct]=[fe,_t]}),dt}function vi(nt,Ct){return function(dt){return nt(Ct(dt))}}function Si(nt,Ct){for(var dt=-1,_t=nt.length,fe=0,Fe=[];++dt<_t;){var Sn=nt[dt];(Sn===Ct||Sn===Tr)&&(nt[dt]=Tr,Fe[fe++]=dt)}return Fe}function Ks(nt){var Ct=-1,dt=Array(nt.size);return nt.forEach(function(_t){dt[++Ct]=_t}),dt}function Vr(nt){return oi(nt)?function ao(nt){for(var Ct=Xi.lastIndex=0;Xi.test(nt);)++Ct;return Ct}(nt):xs(nt)}function bn(nt){return oi(nt)?function Ti(nt){return nt.match(Xi)||[]}(nt):function Fr(nt){return nt.split("")}(nt)}function Hr(nt){for(var Ct=nt.length;Ct--&&nr.test(nt.charAt(Ct)););return Ct}var Ae=Hi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),mi=function nt(Ct){var i,dt=(Ct=null==Ct?o:mi.defaults(o.Object(),Ct,mi.pick(o,no))).Array,_t=Ct.Date,fe=Ct.Error,Fe=Ct.Function,Sn=Ct.Math,en=Ct.Object,da=Ct.RegExp,su=Ct.String,k=Ct.TypeError,U=dt.prototype,At=en.prototype,st=Ct["__core-js_shared__"],wt=Fe.prototype.toString,It=At.hasOwnProperty,zt=0,jt=(i=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Qt=At.toString,$t=wt.call(en),oe=o._,xe=da("^"+wt.call(It).replace(pn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Je=v?Ct.Buffer:G,Vt=Ct.Symbol,Tn=Ct.Uint8Array,Kn=Je?Je.allocUnsafe:G,dr=vi(en.getPrototypeOf,en),mn=en.create,on=At.propertyIsEnumerable,Pr=U.splice,_n=Vt?Vt.isConcatSpreadable:G,Za=Vt?Vt.iterator:G,Ns=Vt?Vt.toStringTag:G,Ji=function(){try{var i=ba(en,"defineProperty");return i({},"",{}),i}catch{}}(),Ba=Ct.clearTimeout!==o.clearTimeout&&Ct.clearTimeout,je=_t&&_t.now!==o.Date.now&&_t.now,Ge=Ct.setTimeout!==o.setTimeout&&Ct.setTimeout,En=Sn.ceil,oo=Sn.floor,Ze=en.getOwnPropertySymbols,ql=Je?Je.isBuffer:G,Xu=Ct.isFinite,$l=U.join,au=vi(en.keys,en),ar=Sn.max,zr=Sn.min,tc=_t.now,ec=Ct.parseInt,ou=Sn.random,nc=U.reverse,Ra=ba(Ct,"DataView"),uo=ba(Ct,"Map"),uu=ba(Ct,"Promise"),On=ba(Ct,"Set"),Wa=ba(Ct,"WeakMap"),lo=ba(en,"create"),Oo=Wa&&new Wa,_a={},rc=Ma(Ra),ic=Ma(uo),sc=Ma(uu),ac=Ma(On),oc=Ma(Wa),jo=Vt?Vt.prototype:G,co=jo?jo.valueOf:G,Go=jo?jo.toString:G;function E(i){if(Qn(i)&&!be(i)&&!(i instanceof ke)){if(i instanceof Di)return i;if(It.call(i,"__wrapped__"))return gf(i)}return new Di(i)}var Ya=function(){function i(){}return function(a){if(!Un(a))return{};if(mn)return mn(a);i.prototype=a;var f=new i;return i.prototype=G,f}}();function Zo(){}function Di(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=G}function ke(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$n,this.__views__=[]}function Ms(i){var a=-1,f=null==i?0:i.length;for(this.clear();++a<f;){var I=i[a];this.set(I[0],I[1])}}function Ss(i){var a=-1,f=null==i?0:i.length;for(this.clear();++a<f;){var I=i[a];this.set(I[0],I[1])}}function Ts(i){var a=-1,f=null==i?0:i.length;for(this.clear();++a<f;){var I=i[a];this.set(I[0],I[1])}}function va(i){var a=-1,f=null==i?0:i.length;for(this.__data__=new Ts;++a<f;)this.add(i[a])}function Ki(i){var a=this.__data__=new Ss(i);this.size=a.size}function Hu(i,a){var f=be(i),I=!f&&Lo(i),S=!f&&!I&&$a(i),O=!f&&!I&&!S&&nu(i),F=f||I||S||O,J=F?Ea(i.length,su):[],lt=J.length;for(var xt in i)(a||It.call(i,xt))&&(!F||!("length"==xt||S&&("offset"==xt||"parent"==xt)||O&&("buffer"==xt||"byteLength"==xt||"byteOffset"==xt)||Es(xt,lt)))&&J.push(xt);return J}function Ju(i){var a=i.length;return a?i[Vo(0,a-1)]:G}function Tc(i,a){return Nr(ci(i),ma(a,0,i.length))}function Dc(i){return Nr(ci(i))}function Ro(i,a,f){(f!==G&&!Os(i[a],f)||f===G&&!(a in i))&&Ds(i,a,f)}function fo(i,a,f){var I=i[a];(!It.call(i,a)||!Os(I,f)||f===G&&!(a in i))&&Ds(i,a,f)}function ho(i,a){for(var f=i.length;f--;)if(Os(i[f][0],a))return f;return-1}function Lc(i,a,f,I){return qs(i,function(S,O,F){a(I,S,f(S),F)}),I}function Ua(i,a){return i&&ls(a,Or(a),i)}function Ds(i,a,f){"__proto__"==a&&Ji?Ji(i,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[a]=f}function fu(i,a){for(var f=-1,I=a.length,S=dt(I),O=null==i;++f<I;)S[f]=O?G:Sf(i,a[f]);return S}function ma(i,a,f){return i==i&&(f!==G&&(i=i<=f?i:f),a!==G&&(i=i>=a?i:a)),i}function Li(i,a,f,I,S,O){var F,J=1&a,lt=2&a,xt=4&a;if(f&&(F=S?f(i,I,S,O):f(i)),F!==G)return F;if(!Un(i))return i;var Nt=be(i);if(Nt){if(F=function nf(i){var a=i.length,f=new i.constructor(a);return a&&"string"==typeof i[0]&&It.call(i,"index")&&(f.index=i.index,f.input=i.input),f}(i),!J)return ci(i,F)}else{var Tt=Er(i),Wt=Tt==Zi||Tt==Gs;if($a(i))return Ko(i,J);if(Tt==m||Tt==lr||Wt&&!S){if(F=lt||Wt?{}:Dl(i),!J)return lt?function Qr(i,a){return ls(i,Sl(i),a)}(i,function Pc(i,a){return i&&ls(a,ki(a),i)}(F,i)):function Pi(i,a){return ls(i,$o(i),a)}(i,Ua(F,i))}else{if(!tn[Tt])return S?i:{};F=function rf(i,a,f){var I=i.constructor;switch(a){case Me:return Tu(i);case Lr:case xn:return new I(+i);case Ln:return function Xc(i,a){var f=a?Tu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.byteLength)}(i,f);case er:case Bi:case He:case Nn:case In:case Br:case Pt:case Rr:case Gn:return vl(i,f);case cn:return new I;case qe:case Et:return new I(i);case yt:return function Vc(i){var a=new i.constructor(i.source,ra.exec(i));return a.lastIndex=i.lastIndex,a}(i);case tt:return new I;case ce:return function pl(i){return co?en(co.call(i)):{}}(i)}}(i,Tt,J)}}O||(O=new Ki);var Jt=O.get(i);if(Jt)return Jt;O.set(i,F),Hf(i)?i.forEach(function(de){F.add(Li(de,a,f,de,i,O))}):Xf(i)&&i.forEach(function(de,Re){F.set(Re,Li(de,a,f,Re,i,O))});var Pe=Nt?G:(xt?lt?Ou:Eu:lt?ki:Or)(i);return Zt(Pe||i,function(de,Re){Pe&&(de=i[Re=de]),fo(F,Re,Li(de,a,f,Re,i,O))}),F}function Ku(i,a,f){var I=f.length;if(null==i)return!I;for(i=en(i);I--;){var S=f[I],F=i[S];if(F===G&&!(S in i)||!(0,a[S])(F))return!1}return!0}function Qu(i,a,f){if("function"!=typeof i)throw new k(Ve);return Na(function(){i.apply(G,f)},a)}function go(i,a,f,I){var S=-1,O=Mn,F=!0,J=i.length,lt=[],xt=a.length;if(!J)return lt;f&&(a=ae(a,gr(f))),I?(O=wr,F=!1):a.length>=200&&(O=Hs,F=!1,a=new va(a));t:for(;++S<J;){var Nt=i[S],Tt=null==f?Nt:f(Nt);if(Nt=I||0!==Nt?Nt:0,F&&Tt==Tt){for(var Wt=xt;Wt--;)if(a[Wt]===Tt)continue t;lt.push(Nt)}else O(a,Tt,I)||lt.push(Nt)}return lt}E.templateSettings={escape:Ri,evaluate:De,interpolate:hi,variable:"",imports:{_:E}},(E.prototype=Zo.prototype).constructor=E,(Di.prototype=Ya(Zo.prototype)).constructor=Di,(ke.prototype=Ya(Zo.prototype)).constructor=ke,Ms.prototype.clear=function cc(){this.__data__=lo?lo(null):{},this.size=0},Ms.prototype.delete=function fc(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a},Ms.prototype.get=function hc(i){var a=this.__data__;if(lo){var f=a[i];return f===Ir?G:f}return It.call(a,i)?a[i]:G},Ms.prototype.has=function Bo(i){var a=this.__data__;return lo?a[i]!==G:It.call(a,i)},Ms.prototype.set=function lu(i,a){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=lo&&a===G?Ir:a,this},Ss.prototype.clear=function gc(){this.__data__=[],this.size=0},Ss.prototype.delete=function cu(i){var a=this.__data__,f=ho(a,i);return!(f<0||(f==a.length-1?a.pop():Pr.call(a,f,1),--this.size,0))},Ss.prototype.get=function pa(i){var a=this.__data__,f=ho(a,i);return f<0?G:a[f][1]},Ss.prototype.has=function dc(i){return ho(this.__data__,i)>-1},Ss.prototype.set=function pc(i,a){var f=this.__data__,I=ho(f,i);return I<0?(++this.size,f.push([i,a])):f[I][1]=a,this},Ts.prototype.clear=function vc(){this.size=0,this.__data__={hash:new Ms,map:new(uo||Ss),string:new Ms}},Ts.prototype.delete=function mc(i){var a=wa(this,i).delete(i);return this.size-=a?1:0,a},Ts.prototype.get=function Ic(i){return wa(this,i).get(i)},Ts.prototype.has=function Ac(i){return wa(this,i).has(i)},Ts.prototype.set=function Cc(i,a){var f=wa(this,i),I=f.size;return f.set(i,a),this.size+=f.size==I?0:1,this},va.prototype.add=va.prototype.push=function yc(i){return this.__data__.set(i,Ir),this},va.prototype.has=function wc(i){return this.__data__.has(i)},Ki.prototype.clear=function bc(){this.__data__=new Ss,this.size=0},Ki.prototype.delete=function xc(i){var a=this.__data__,f=a.delete(i);return this.size=a.size,f},Ki.prototype.get=function Nc(i){return this.__data__.get(i)},Ki.prototype.has=function Mc(i){return this.__data__.has(i)},Ki.prototype.set=function Sc(i,a){var f=this.__data__;if(f instanceof Ss){var I=f.__data__;if(!uo||I.length<199)return I.push([i,a]),this.size=++f.size,this;f=this.__data__=new Ts(I)}return f.set(i,a),this.size=f.size,this};var qs=Al(us),qu=Al(hu,!0);function kc(i,a){var f=!0;return qs(i,function(I,S,O){return f=!!a(I,S,O)}),f}function Wo(i,a,f){for(var I=-1,S=i.length;++I<S;){var O=i[I],F=a(O);if(null!=F&&(J===G?F==F&&!qi(F):f(F,J)))var J=F,lt=O}return lt}function $u(i,a){var f=[];return qs(i,function(I,S,O){a(I,S,O)&&f.push(I)}),f}function xr(i,a,f,I,S){var O=-1,F=i.length;for(f||(f=ks),S||(S=[]);++O<F;){var J=i[O];a>0&&f(J)?a>1?xr(J,a-1,f,I,S):ee(S,J):I||(S[S.length]=J)}return S}var po=Cl(),_o=Cl(!0);function us(i,a){return i&&po(i,a,Or)}function hu(i,a){return i&&_o(i,a,Or)}function Yo(i,a){return Ut(a,function(f){return Sa(i[f])})}function Ia(i,a){for(var f=0,I=(a=Ps(a,i)).length;null!=i&&f<I;)i=i[fs(a[f++])];return f&&f==I?i:G}function tl(i,a,f){var I=a(i);return be(i)?I:ee(I,f(i))}function Jr(i){return null==i?i===G?"[object Undefined]":"[object Null]":Ns&&Ns in en(i)?function ef(i){var a=It.call(i,Ns),f=i[Ns];try{i[Ns]=G;var I=!0}catch{}var S=Qt.call(i);return I&&(a?i[Ns]=f:delete i[Ns]),S}(i):function hf(i){return Qt.call(i)}(i)}function gu(i,a){return i>a}function Oc(i,a){return null!=i&&It.call(i,a)}function jc(i,a){return null!=i&&a in en(i)}function du(i,a,f){for(var I=f?wr:Mn,S=i[0].length,O=i.length,F=O,J=dt(O),lt=1/0,xt=[];F--;){var Nt=i[F];F&&a&&(Nt=ae(Nt,gr(a))),lt=zr(Nt.length,lt),J[F]=!f&&(a||S>=120&&Nt.length>=120)?new va(F&&Nt):G}Nt=i[0];var Tt=-1,Wt=J[0];t:for(;++Tt<S&&xt.length<lt;){var Jt=Nt[Tt],ge=a?a(Jt):Jt;if(Jt=f||0!==Jt?Jt:0,!(Wt?Hs(Wt,ge):I(xt,ge,f))){for(F=O;--F;){var Pe=J[F];if(!(Pe?Hs(Pe,ge):I(i[F],ge,f)))continue t}Wt&&Wt.push(ge),xt.push(Jt)}}return xt}function vo(i,a,f){var I=null==(i=xa(i,a=Ps(a,i)))?i:i[fs(L(a))];return null==I?G:ot(I,i,f)}function el(i){return Qn(i)&&Jr(i)==lr}function $s(i,a,f,I,S){return i===a||(null==i||null==a||!Qn(i)&&!Qn(a)?i!=i&&a!=a:function Rc(i,a,f,I,S,O){var F=be(i),J=be(a),lt=F?ie:Er(i),xt=J?ie:Er(a),Nt=(lt=lt==lr?m:lt)==m,Tt=(xt=xt==lr?m:xt)==m,Wt=lt==xt;if(Wt&&$a(i)){if(!$a(a))return!1;F=!0,Nt=!1}if(Wt&&!Nt)return O||(O=new Ki),F||nu(i)?ku(i,a,f,I,S,O):function $c(i,a,f,I,S,O,F){switch(f){case Ln:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case Me:return!(i.byteLength!=a.byteLength||!O(new Tn(i),new Tn(a)));case Lr:case xn:case qe:return Os(+i,+a);case ri:return i.name==a.name&&i.message==a.message;case yt:case Et:return i==a+"";case cn:var J=ui;case tt:if(J||(J=Ks),i.size!=a.size&&!(1&I))return!1;var xt=F.get(i);if(xt)return xt==a;I|=2,F.set(i,a);var Nt=ku(J(i),J(a),I,S,O,F);return F.delete(i),Nt;case ce:if(co)return co.call(i)==co.call(a)}return!1}(i,a,lt,f,I,S,O);if(!(1&f)){var Jt=Nt&&It.call(i,"__wrapped__"),ge=Tt&&It.call(a,"__wrapped__");if(Jt||ge){var Pe=Jt?i.value():i,de=ge?a.value():a;return O||(O=new Ki),S(Pe,de,f,I,O)}}return!!Wt&&(O||(O=new Ki),function tf(i,a,f,I,S,O){var F=1&f,J=Eu(i),lt=J.length;if(lt!=Eu(a).length&&!F)return!1;for(var Tt=lt;Tt--;){var Wt=J[Tt];if(!(F?Wt in a:It.call(a,Wt)))return!1}var Jt=O.get(i),ge=O.get(a);if(Jt&&ge)return Jt==a&&ge==i;var Pe=!0;O.set(i,a),O.set(a,i);for(var de=F;++Tt<lt;){var Re=i[Wt=J[Tt]],Xe=a[Wt];if(I)var $i=F?I(Xe,Re,Wt,a,i,O):I(Re,Xe,Wt,i,a,O);if(!($i===G?Re===Xe||S(Re,Xe,f,I,O):$i)){Pe=!1;break}de||(de="constructor"==Wt)}if(Pe&&!de){var Ai=i.constructor,ts=a.constructor;Ai!=ts&&"constructor"in i&&"constructor"in a&&!("function"==typeof Ai&&Ai instanceof Ai&&"function"==typeof ts&&ts instanceof ts)&&(Pe=!1)}return O.delete(i),O.delete(a),Pe}(i,a,f,I,S,O))}(i,a,f,I,$s,S))}function vu(i,a,f,I){var S=f.length,O=S,F=!I;if(null==i)return!O;for(i=en(i);S--;){var J=f[S];if(F&&J[2]?J[1]!==i[J[0]]:!(J[0]in i))return!1}for(;++S<O;){var lt=(J=f[S])[0],xt=i[lt],Nt=J[1];if(F&&J[2]){if(xt===G&&!(lt in i))return!1}else{var Tt=new Ki;if(I)var Wt=I(xt,Nt,lt,i,a,Tt);if(!(Wt===G?$s(Nt,xt,3,I,Tt):Wt))return!1}}return!0}function nl(i){return!(!Un(i)||function of(i){return!!jt&&jt in i}(i))&&(Sa(i)?xe:ia).test(Ma(i))}function mo(i){return"function"==typeof i?i:null==i?Ei:"object"==typeof i?be(i)?Iu(i[0],i[1]):sl(i):oh(i)}function Fa(i){if(!No(i))return au(i);var a=[];for(var f in en(i))It.call(i,f)&&"constructor"!=f&&a.push(f);return a}function Fo(i,a){return i<a}function il(i,a){var f=-1,I=zi(i)?dt(i.length):[];return qs(i,function(S,O,F){I[++f]=a(S,O,F)}),I}function sl(i){var a=xo(i);return 1==a.length&&a[0][2]?Pl(a[0][0],a[0][1]):function(f){return f===i||vu(f,i,a)}}function Iu(i,a){return Zu(i)&&Ll(a)?Pl(fs(i),a):function(f){var I=Sf(f,i);return I===G&&I===a?Tf(f,i):$s(a,I,3)}}function Aa(i,a,f,I,S){i!==a&&po(a,function(O,F){if(S||(S=new Ki),Un(O))!function _c(i,a,f,I,S,O,F){var J=Ru(i,f),lt=Ru(a,f),xt=F.get(lt);if(xt)Ro(i,f,xt);else{var Nt=O?O(J,lt,f+"",i,a,F):G,Tt=Nt===G;if(Tt){var Wt=be(lt),Jt=!Wt&&$a(lt),ge=!Wt&&!Jt&&nu(lt);Nt=lt,Wt||Jt||ge?be(J)?Nt=J:or(J)?Nt=ci(J):Jt?(Tt=!1,Nt=Ko(lt,!0)):ge?(Tt=!1,Nt=vl(lt,!0)):Nt=[]:Fu(lt)||Lo(lt)?(Nt=J,Lo(J)?Nt=Qf(J):(!Un(J)||Sa(J))&&(Nt=Dl(lt))):Tt=!1}Tt&&(F.set(lt,Nt),S(Nt,lt,I,O,F),F.delete(lt)),Ro(i,f,Nt)}}(i,a,F,f,Aa,I,S);else{var J=I?I(Ru(i,F),O,F+"",i,a,S):G;J===G&&(J=O),Ro(i,F,J)}},ki)}function al(i,a){var f=i.length;if(f)return Es(a+=a<0?f:0,f)?i[a]:G}function Xo(i,a,f){a=a.length?ae(a,function(O){return be(O)?function(F){return Ia(F,1===O.length?O[0]:O)}:O}):[Ei];var I=-1;return a=ae(a,gr(ue())),function me(nt,Ct){var dt=nt.length;for(nt.sort(Ct);dt--;)nt[dt]=nt[dt].value;return nt}(il(i,function(O,F,J){return{criteria:ae(a,function(xt){return xt(O)}),index:++I,value:O}}),function(O,F){return function Hc(i,a,f){for(var I=-1,S=i.criteria,O=a.criteria,F=S.length,J=f.length;++I<F;){var lt=Du(S[I],O[I]);if(lt)return I>=J?lt:lt*("desc"==f[I]?-1:1)}return i.index-a.index}(O,F,f)})}function Cu(i,a,f){for(var I=-1,S=a.length,O={};++I<S;){var F=a[I],J=Ia(i,F);f(J,F)&&Io(O,Ps(F,i),J)}return O}function Ls(i,a,f,I){var S=I?Wn:Jn,O=-1,F=a.length,J=i;for(i===a&&(a=ci(a)),f&&(J=ae(i,gr(f)));++O<F;)for(var lt=0,xt=a[O],Nt=f?f(xt):xt;(lt=S(J,Nt,lt,I))>-1;)J!==i&&Pr.call(J,lt,1),Pr.call(i,lt,1);return i}function wu(i,a){for(var f=i?a.length:0,I=f-1;f--;){var S=a[f];if(f==I||S!==O){var O=S;Es(S)?Pr.call(i,S,1):Nu(i,S)}}return i}function Vo(i,a){return i+oo(ou()*(a-i+1))}function bu(i,a){var f="";if(!i||a<1||a>ln)return f;do{a%2&&(f+=i),(a=oo(a/2))&&(i+=i)}while(a);return f}function we(i,a){return tu(zl(i,a,Ei),i+"")}function Yc(i){return Ju(ru(i))}function ul(i,a){var f=ru(i);return Nr(f,ma(a,0,f.length))}function Io(i,a,f,I){if(!Un(i))return i;for(var S=-1,O=(a=Ps(a,i)).length,F=O-1,J=i;null!=J&&++S<O;){var lt=fs(a[S]),xt=f;if("__proto__"===lt||"constructor"===lt||"prototype"===lt)return i;if(S!=F){var Nt=J[lt];(xt=I?I(Nt,lt,J):G)===G&&(xt=Un(Nt)?Nt:Es(a[S+1])?[]:{})}fo(J,lt,xt),J=J[lt]}return i}var ll=Oo?function(i,a){return Oo.set(i,a),i}:Ei,cl=Ji?function(i,a){return Ji(i,"toString",{configurable:!0,enumerable:!1,value:Lf(a),writable:!0})}:Ei;function Uc(i){return Nr(ru(i))}function kr(i,a,f){var I=-1,S=i.length;a<0&&(a=-a>S?0:S+a),(f=f>S?S:f)<0&&(f+=S),S=a>f?0:f-a>>>0,a>>>=0;for(var O=dt(S);++I<S;)O[I]=i[I+a];return O}function Ho(i,a){var f;return qs(i,function(I,S,O){return!(f=a(I,S,O))}),!!f}function ta(i,a,f){var I=0,S=null==i?I:i.length;if("number"==typeof a&&a==a&&S<=2147483647){for(;I<S;){var O=I+S>>>1,F=i[O];null!==F&&!qi(F)&&(f?F<=a:F<a)?I=O+1:S=O}return S}return Ao(i,a,Ei,f)}function Ao(i,a,f,I){var S=0,O=null==i?0:i.length;if(0===O)return 0;for(var F=(a=f(a))!=a,J=null===a,lt=qi(a),xt=a===G;S<O;){var Nt=oo((S+O)/2),Tt=f(i[Nt]),Wt=Tt!==G,Jt=null===Tt,ge=Tt==Tt,Pe=qi(Tt);if(F)var de=I||ge;else de=xt?ge&&(I||Wt):J?ge&&Wt&&(I||!Jt):lt?ge&&Wt&&!Jt&&(I||!Pe):!Jt&&!Pe&&(I?Tt<=a:Tt<a);de?S=Nt+1:O=Nt}return zr(O,4294967294)}function fl(i,a){for(var f=-1,I=i.length,S=0,O=[];++f<I;){var F=i[f],J=a?a(F):F;if(!f||!Os(J,lt)){var lt=J;O[S++]=0===F?0:F}}return O}function xu(i){return"number"==typeof i?i:qi(i)?NaN:+i}function li(i){if("string"==typeof i)return i;if(be(i))return ae(i,li)+"";if(qi(i))return Go?Go.call(i):"";var a=i+"";return"0"==a&&1/i==-sn?"-0":a}function ea(i,a,f){var I=-1,S=Mn,O=i.length,F=!0,J=[],lt=J;if(f)F=!1,S=wr;else if(O>=200){var xt=a?null:Qc(i);if(xt)return Ks(xt);F=!1,S=Hs,lt=new va}else lt=a?[]:J;t:for(;++I<O;){var Nt=i[I],Tt=a?a(Nt):Nt;if(Nt=f||0!==Nt?Nt:0,F&&Tt==Tt){for(var Wt=lt.length;Wt--;)if(lt[Wt]===Tt)continue t;a&&lt.push(Tt),J.push(Nt)}else S(lt,Tt,f)||(lt!==J&&lt.push(Tt),J.push(Nt))}return J}function Nu(i,a){return null==(i=xa(i,a=Ps(a,i)))||delete i[fs(L(a))]}function hl(i,a,f,I){return Io(i,a,f(Ia(i,a)),I)}function Xa(i,a,f,I){for(var S=i.length,O=I?S:-1;(I?O--:++O<S)&&a(i[O],O,i););return f?kr(i,I?0:O,I?O+1:S):kr(i,I?O+1:0,I?S:O)}function gl(i,a){var f=i;return f instanceof ke&&(f=f.value()),Hn(a,function(I,S){return S.func.apply(S.thisArg,ee([I],S.args))},f)}function Mu(i,a,f){var I=i.length;if(I<2)return I?ea(i[0]):[];for(var S=-1,O=dt(I);++S<I;)for(var F=i[S],J=-1;++J<I;)J!=S&&(O[S]=go(O[S]||F,i[J],a,f));return ea(xr(O,1),a,f)}function dl(i,a,f){for(var I=-1,S=i.length,O=a.length,F={};++I<S;)f(F,i[I],I<O?a[I]:G);return F}function Jo(i){return or(i)?i:[]}function Su(i){return"function"==typeof i?i:Ei}function Ps(i,a){return be(i)?i:Zu(i,a)?[i]:Ol(dn(i))}var Fc=we;function Qi(i,a,f){var I=i.length;return f=f===G?I:f,!a&&f>=I?i:kr(i,a,f)}var Co=Ba||function(i){return o.clearTimeout(i)};function Ko(i,a){if(a)return i.slice();var f=i.length,I=Kn?Kn(f):new i.constructor(f);return i.copy(I),I}function Tu(i){var a=new i.constructor(i.byteLength);return new Tn(a).set(new Tn(i)),a}function vl(i,a){var f=a?Tu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}function Du(i,a){if(i!==a){var f=i!==G,I=null===i,S=i==i,O=qi(i),F=a!==G,J=null===a,lt=a==a,xt=qi(a);if(!J&&!xt&&!O&&i>a||O&&F&&lt&&!J&&!xt||I&&F&&lt||!f&&lt||!S)return 1;if(!I&&!O&&!xt&&i<a||xt&&f&&S&&!I&&!O||J&&f&&S||!F&&S||!lt)return-1}return 0}function ml(i,a,f,I){for(var S=-1,O=i.length,F=f.length,J=-1,lt=a.length,xt=ar(O-F,0),Nt=dt(lt+xt),Tt=!I;++J<lt;)Nt[J]=a[J];for(;++S<F;)(Tt||S<O)&&(Nt[f[S]]=i[S]);for(;xt--;)Nt[J++]=i[S++];return Nt}function Il(i,a,f,I){for(var S=-1,O=i.length,F=-1,J=f.length,lt=-1,xt=a.length,Nt=ar(O-J,0),Tt=dt(Nt+xt),Wt=!I;++S<Nt;)Tt[S]=i[S];for(var Jt=S;++lt<xt;)Tt[Jt+lt]=a[lt];for(;++F<J;)(Wt||S<O)&&(Tt[Jt+f[F]]=i[S++]);return Tt}function ci(i,a){var f=-1,I=i.length;for(a||(a=dt(I));++f<I;)a[f]=i[f];return a}function ls(i,a,f,I){var S=!f;f||(f={});for(var O=-1,F=a.length;++O<F;){var J=a[O],lt=I?I(f[J],i[J],J,f,i):G;lt===G&&(lt=i[J]),S?Ds(f,J,lt):fo(f,J,lt)}return f}function Va(i,a){return function(f,I){var S=be(f)?mt:Lc,O=a?a():{};return S(f,i,ue(I,2),O)}}function Ha(i){return we(function(a,f){var I=-1,S=f.length,O=S>1?f[S-1]:G,F=S>2?f[2]:G;for(O=i.length>3&&"function"==typeof O?(S--,O):G,F&&qr(f[0],f[1],F)&&(O=S<3?G:O,S=1),a=en(a);++I<S;){var J=f[I];J&&i(a,J,I,O)}return a})}function Al(i,a){return function(f,I){if(null==f)return f;if(!zi(f))return i(f,I);for(var S=f.length,O=a?S:-1,F=en(f);(a?O--:++O<S)&&!1!==I(F[O],O,F););return f}}function Cl(i){return function(a,f,I){for(var S=-1,O=en(a),F=I(a),J=F.length;J--;){var lt=F[i?J:++S];if(!1===f(O[lt],lt,O))break}return a}}function Lu(i){return function(a){var f=oi(a=dn(a))?bn(a):G,I=f?f[0]:a.charAt(0),S=f?Qi(f,1).join(""):a.slice(1);return I[i]()+S}}function Ca(i){return function(a){return Hn(sh(ih(a).replace(eo,"")),i,"")}}function Ja(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var f=Ya(i.prototype),I=i.apply(f,a);return Un(I)?I:f}}function Pu(i){return function(a,f,I){var S=en(a);if(!zi(a)){var O=ue(f,3);a=Or(a),f=function(J){return O(S[J],J,S)}}var F=i(a,f,I);return F>-1?S[O?a[F]:F]:G}}function zu(i){return zs(function(a){var f=a.length,I=f,S=Di.prototype.thru;for(i&&a.reverse();I--;){var O=a[I];if("function"!=typeof O)throw new k(Ve);if(S&&!F&&"wrapper"==bo(O))var F=new Di([],!0)}for(I=F?I:f;++I<f;){var J=bo(O=a[I]),lt="wrapper"==J?ya(O):G;F=lt&&Bu(lt[0])&&424==lt[1]&&!lt[4].length&&1==lt[9]?F[bo(lt[0])].apply(F,lt[3]):1==O.length&&Bu(O)?F[J]():F.thru(O)}return function(){var xt=arguments,Nt=xt[0];if(F&&1==xt.length&&be(Nt))return F.plant(Nt).value();for(var Tt=0,Wt=f?a[Tt].apply(this,xt):Nt;++Tt<f;)Wt=a[Tt].call(this,Wt);return Wt}})}function Qo(i,a,f,I,S,O,F,J,lt,xt){var Nt=a&C,Tt=1&a,Wt=2&a,Jt=24&a,ge=512&a,Pe=Wt?G:Ja(i);return function de(){for(var Re=arguments.length,Xe=dt(Re),$i=Re;$i--;)Xe[$i]=arguments[$i];if(Jt)var Ai=Qa(de),ts=iu(Xe,Ai);if(I&&(Xe=ml(Xe,I,S,Jt)),O&&(Xe=Il(Xe,O,F,Jt)),Re-=ts,Jt&&Re<xt){var ur=Si(Xe,Ai);return Ka(i,a,Qo,de.placeholder,f,Xe,ur,J,lt,xt-Re)}var js=Tt?f:this,Da=Wt?js[i]:i;return Re=Xe.length,J?Xe=kl(Xe,J):ge&&Re>1&&Xe.reverse(),Nt&&lt<Re&&(Xe.length=lt),this&&this!==o&&this instanceof de&&(Da=Pe||Ja(Da)),Da.apply(js,Xe)}}function wl(i,a){return function(f,I){return function Zc(i,a,f,I){return us(i,function(S,O,F){a(I,f(S),O,F)}),I}(f,i,a(I),{})}}function qo(i,a){return function(f,I){var S;if(f===G&&I===G)return a;if(f!==G&&(S=f),I!==G){if(S===G)return I;"string"==typeof f||"string"==typeof I?(f=li(f),I=li(I)):(f=xu(f),I=xu(I)),S=i(f,I)}return S}}function yo(i){return zs(function(a){return a=ae(a,gr(ue())),we(function(f){var I=this;return i(a,function(S){return ot(S,I,f)})})})}function wo(i,a){var f=(a=a===G?" ":li(a)).length;if(f<2)return f?bu(a,i):a;var I=bu(a,En(i/Vr(a)));return oi(a)?Qi(bn(I),0,i).join(""):I.slice(0,i)}function bl(i){return function(a,f,I){return I&&"number"!=typeof I&&qr(a,f,I)&&(f=I=G),a=Ta(a),f===G?(f=a,a=0):f=Ta(f),function ol(i,a,f,I){for(var S=-1,O=ar(En((a-i)/(f||1)),0),F=dt(O);O--;)F[I?O:++S]=i,i+=f;return F}(a,f,I=I===G?a<f?1:-1:Ta(I),i)}}function le(i){return function(a,f){return"string"==typeof a&&"string"==typeof f||(a=gs(a),f=gs(f)),i(a,f)}}function Ka(i,a,f,I,S,O,F,J,lt,xt){var Nt=8&a;a|=Nt?32:64,4&(a&=~(Nt?64:32))||(a&=-4);var Pe=[i,a,S,Nt?O:G,Nt?F:G,Nt?G:O,Nt?G:F,J,lt,xt],de=f.apply(G,Pe);return Bu(i)&&Mo(de,Pe),de.placeholder=I,El(de,i,a)}function Ii(i){var a=Sn[i];return function(f,I){if(f=gs(f),(I=null==I?0:zr(Te(I),292))&&Xu(f)){var S=(dn(f)+"e").split("e");return+((S=(dn(a(S[0]+"e"+(+S[1]+I)))+"e").split("e"))[0]+"e"+(+S[1]-I))}return a(f)}}var Qc=On&&1/Ks(new On([,-0]))[1]==sn?function(i){return new On(i)}:kf;function xl(i){return function(a){var f=Er(a);return f==cn?ui(a):f==tt?function ga(nt){var Ct=-1,dt=Array(nt.size);return nt.forEach(function(_t){dt[++Ct]=[_t,_t]}),dt}(a):function Oa(nt,Ct){return ae(Ct,function(dt){return[dt,nt[dt]]})}(a,i(a))}}function cs(i,a,f,I,S,O,F,J){var lt=2&a;if(!lt&&"function"!=typeof i)throw new k(Ve);var xt=I?I.length:0;if(xt||(a&=-97,I=S=G),F=F===G?F:ar(Te(F),0),J=J===G?J:Te(J),xt-=S?S.length:0,64&a){var Nt=I,Tt=S;I=S=G}var Wt=lt?G:ya(i),Jt=[i,a,f,I,S,Nt,Tt,O,F,J];if(Wt&&function cf(i,a){var f=i[1],I=a[1],S=f|I;if(!(S<131||(I==C&&8==f||I==C&&256==f&&i[7].length<=a[8]||384==I&&a[7].length<=a[8]&&8==f)))return i;1&I&&(i[2]=a[2],S|=1&f?0:4);var J=a[3];if(J){var lt=i[3];i[3]=lt?ml(lt,J,a[4]):J,i[4]=lt?Si(i[3],Tr):a[4]}(J=a[5])&&(i[5]=(lt=i[5])?Il(lt,J,a[6]):J,i[6]=lt?Si(i[5],Tr):a[6]),(J=a[7])&&(i[7]=J),I&C&&(i[8]=null==i[8]?a[8]:zr(i[8],a[8])),null==i[9]&&(i[9]=a[9]),i[0]=a[0],i[1]=S}(Jt,Wt),i=Jt[0],a=Jt[1],f=Jt[2],I=Jt[3],S=Jt[4],!(J=Jt[9]=Jt[9]===G?lt?0:i.length:ar(Jt[9]-xt,0))&&24&a&&(a&=-25),a&&1!=a)ge=8==a||16==a?function yl(i,a,f){var I=Ja(i);return function S(){for(var O=arguments.length,F=dt(O),J=O,lt=Qa(S);J--;)F[J]=arguments[J];var xt=O<3&&F[0]!==lt&&F[O-1]!==lt?[]:Si(F,lt);return(O-=xt.length)<f?Ka(i,a,Qo,S.placeholder,G,F,xt,G,G,f-O):ot(this&&this!==o&&this instanceof S?I:i,this,F)}}(i,a,J):32!=a&&33!=a||S.length?Qo.apply(G,Jt):function Kc(i,a,f,I){var S=1&a,O=Ja(i);return function F(){for(var J=-1,lt=arguments.length,xt=-1,Nt=I.length,Tt=dt(Nt+lt),Wt=this&&this!==o&&this instanceof F?O:i;++xt<Nt;)Tt[xt]=I[xt];for(;lt--;)Tt[xt++]=arguments[++J];return ot(Wt,S?f:this,Tt)}}(i,a,f,I);else var ge=function Jc(i,a,f){var I=1&a,S=Ja(i);return function O(){return(this&&this!==o&&this instanceof O?S:i).apply(I?f:this,arguments)}}(i,a,f);return El((Wt?ll:Mo)(ge,Jt),i,a)}function Nl(i,a,f,I){return i===G||Os(i,At[f])&&!It.call(I,f)?a:i}function Ml(i,a,f,I,S,O){return Un(i)&&Un(a)&&(O.set(a,i),Aa(i,a,G,Ml,O),O.delete(a)),i}function qc(i){return Fu(i)?G:i}function ku(i,a,f,I,S,O){var F=1&f,J=i.length,lt=a.length;if(J!=lt&&!(F&&lt>J))return!1;var xt=O.get(i),Nt=O.get(a);if(xt&&Nt)return xt==a&&Nt==i;var Tt=-1,Wt=!0,Jt=2&f?new va:G;for(O.set(i,a),O.set(a,i);++Tt<J;){var ge=i[Tt],Pe=a[Tt];if(I)var de=F?I(Pe,ge,Tt,a,i,O):I(ge,Pe,Tt,i,a,O);if(de!==G){if(de)continue;Wt=!1;break}if(Jt){if(!Cn(a,function(Re,Xe){if(!Hs(Jt,Xe)&&(ge===Re||S(ge,Re,f,I,O)))return Jt.push(Xe)})){Wt=!1;break}}else if(ge!==Pe&&!S(ge,Pe,f,I,O)){Wt=!1;break}}return O.delete(i),O.delete(a),Wt}function zs(i){return tu(zl(i,G,y),i+"")}function Eu(i){return tl(i,Or,$o)}function Ou(i){return tl(i,ki,Sl)}var ya=Oo?function(i){return Oo.get(i)}:kf;function bo(i){for(var a=i.name+"",f=_a[a],I=It.call(_a,a)?f.length:0;I--;){var S=f[I],O=S.func;if(null==O||O==i)return S.name}return a}function Qa(i){return(It.call(E,"placeholder")?E:i).placeholder}function ue(){var i=E.iteratee||Pf;return i=i===Pf?mo:i,arguments.length?i(arguments[0],arguments[1]):i}function wa(i,a){var f=i.__data__;return function af(i){var a=typeof i;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i}(a)?f["string"==typeof a?"string":"hash"]:f.map}function xo(i){for(var a=Or(i),f=a.length;f--;){var I=a[f],S=i[I];a[f]=[I,S,Ll(S)]}return a}function ba(i,a){var f=function zo(nt,Ct){return null==nt?G:nt[Ct]}(i,a);return nl(f)?f:G}var $o=Ze?function(i){return null==i?[]:(i=en(i),Ut(Ze(i),function(a){return on.call(i,a)}))}:Ef,Sl=Ze?function(i){for(var a=[];i;)ee(a,$o(i)),i=dr(i);return a}:Ef,Er=Jr;function Tl(i,a,f){for(var I=-1,S=(a=Ps(a,i)).length,O=!1;++I<S;){var F=fs(a[I]);if(!(O=null!=i&&f(i,F)))break;i=i[F]}return O||++I!=S?O:!!(S=null==i?0:i.length)&&Jl(S)&&Es(F,S)&&(be(i)||Lo(i))}function Dl(i){return"function"!=typeof i.constructor||No(i)?{}:Ya(dr(i))}function ks(i){return be(i)||Lo(i)||!!(_n&&i&&i[_n])}function Es(i,a){var f=typeof i;return!!(a=a??ln)&&("number"==f||"symbol"!=f&&aa.test(i))&&i>-1&&i%1==0&&i<a}function qr(i,a,f){if(!Un(f))return!1;var I=typeof a;return!!("number"==I?zi(f)&&Es(a,f.length):"string"==I&&a in f)&&Os(f[a],i)}function Zu(i,a){if(be(i))return!1;var f=typeof i;return!("number"!=f&&"symbol"!=f&&"boolean"!=f&&null!=i&&!qi(i))||cr.test(i)||!Yt.test(i)||null!=a&&i in en(a)}function Bu(i){var a=bo(i),f=E[a];if("function"!=typeof f||!(a in ke.prototype))return!1;if(i===f)return!0;var I=ya(f);return!!I&&i===I[0]}(Ra&&Er(new Ra(new ArrayBuffer(1)))!=Ln||uo&&Er(new uo)!=cn||uu&&Er(uu.resolve())!=R||On&&Er(new On)!=tt||Wa&&Er(new Wa)!=_e)&&(Er=function(i){var a=Jr(i),f=a==m?i.constructor:G,I=f?Ma(f):"";if(I)switch(I){case rc:return Ln;case ic:return cn;case sc:return R;case ac:return tt;case oc:return _e}return a});var uf=st?Sa:Of;function No(i){var a=i&&i.constructor;return i===("function"==typeof a&&a.prototype||At)}function Ll(i){return i==i&&!Un(i)}function Pl(i,a){return function(f){return null!=f&&f[i]===a&&(a!==G||i in en(f))}}function zl(i,a,f){return a=ar(a===G?i.length-1:a,0),function(){for(var I=arguments,S=-1,O=ar(I.length-a,0),F=dt(O);++S<O;)F[S]=I[a+S];S=-1;for(var J=dt(a+1);++S<a;)J[S]=I[S];return J[a]=f(F),ot(i,this,J)}}function xa(i,a){return a.length<2?i:Ia(i,kr(a,0,-1))}function kl(i,a){for(var f=i.length,I=zr(a.length,f),S=ci(i);I--;){var O=a[I];i[I]=Es(O,f)?S[O]:G}return i}function Ru(i,a){if(("constructor"!==a||"function"!=typeof i[a])&&"__proto__"!=a)return i[a]}var Mo=Wu(ll),Na=Ge||function(i,a){return o.setTimeout(i,a)},tu=Wu(cl);function El(i,a,f){var I=a+"";return tu(i,function sf(i,a){var f=a.length;if(!f)return i;var I=f-1;return a[I]=(f>1?"& ":"")+a[I],a=a.join(f>2?", ":" "),i.replace(di,"{\n/* [wrapped with "+a+"] */\n")}(I,function So(i,a){return Zt(jn,function(f){var I="_."+f[0];a&f[1]&&!Mn(i,I)&&i.push(I)}),i.sort()}(function Gu(i){var a=i.match(vs);return a?a[1].split(rr):[]}(I),f)))}function Wu(i){var a=0,f=0;return function(){var I=tc(),S=16-(I-f);if(f=I,S>0){if(++a>=800)return arguments[0]}else a=0;return i.apply(G,arguments)}}function Nr(i,a){var f=-1,I=i.length,S=I-1;for(a=a===G?I:a;++f<a;){var O=Vo(f,S),F=i[O];i[O]=i[f],i[f]=F}return i.length=a,i}var Ol=function lf(i){var a=Vl(i,function(I){return 500===f.size&&f.clear(),I}),f=a.cache;return a}(function(i){var a=[];return 46===i.charCodeAt(0)&&a.push(""),i.replace(gi,function(f,I,S,O){a.push(S?O.replace(Ws,"$1"):I||f)}),a});function fs(i){if("string"==typeof i||qi(i))return i;var a=i+"";return"0"==a&&1/i==-sn?"-0":a}function Ma(i){if(null!=i){try{return wt.call(i)}catch{}try{return i+""}catch{}}return""}function gf(i){if(i instanceof ke)return i.clone();var a=new Di(i.__wrapped__,i.__chain__);return a.__actions__=ci(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}var t=we(function(i,a){return or(i)?go(i,xr(a,1,or,!0)):[]}),e=we(function(i,a){var f=L(a);return or(f)&&(f=G),or(i)?go(i,xr(a,1,or,!0),ue(f,2)):[]}),n=we(function(i,a){var f=L(a);return or(f)&&(f=G),or(i)?go(i,xr(a,1,or,!0),G,f):[]});function d(i,a,f){var I=null==i?0:i.length;if(!I)return-1;var S=null==f?0:Te(f);return S<0&&(S=ar(I+S,0)),Ni(i,ue(a,3),S)}function A(i,a,f){var I=null==i?0:i.length;if(!I)return-1;var S=I-1;return f!==G&&(S=Te(f),S=f<0?ar(I+S,0):zr(S,I-1)),Ni(i,ue(a,3),S,!0)}function y(i){return null!=i&&i.length?xr(i,1):[]}function B(i){return i&&i.length?i[0]:G}var ht=we(function(i){var a=ae(i,Jo);return a.length&&a[0]===i[0]?du(a):[]}),ft=we(function(i){var a=L(i),f=ae(i,Jo);return a===L(f)?a=G:f.pop(),f.length&&f[0]===i[0]?du(f,ue(a,2)):[]}),w=we(function(i){var a=L(i),f=ae(i,Jo);return(a="function"==typeof a?a:G)&&f.pop(),f.length&&f[0]===i[0]?du(f,G,a):[]});function L(i){var a=null==i?0:i.length;return a?i[a-1]:G}var at=we(ut);function ut(i,a){return i&&i.length&&a&&a.length?Ls(i,a):i}var Mt=zs(function(i,a){var f=null==i?0:i.length,I=fu(i,a);return wu(i,ae(a,function(S){return Es(S,f)?+S:S}).sort(Du)),I});function kt(i){return null==i?i:nc.call(i)}var Ee=we(function(i){return ea(xr(i,1,or,!0))}),Ie=we(function(i){var a=L(i);return or(a)&&(a=G),ea(xr(i,1,or,!0),ue(a,2))}),Le=we(function(i){var a=L(i);return a="function"==typeof a?a:G,ea(xr(i,1,or,!0),G,a)});function pr(i){if(!i||!i.length)return[];var a=0;return i=Ut(i,function(f){if(or(f))return a=ar(f.length,a),!0}),Ea(a,function(f){return ae(i,kn(f))})}function hs(i,a){if(!i||!i.length)return[];var f=pr(i);return null==a?f:ae(f,function(I){return ot(a,G,I)})}var _u=we(function(i,a){return or(i)?go(i,a):[]}),Yu=we(function(i){return Mu(Ut(i,or))}),jl=we(function(i){var a=L(i);return or(a)&&(a=G),Mu(Ut(i,or),ue(a,2))}),To=we(function(i){var a=L(i);return a="function"==typeof a?a:G,Mu(Ut(i,or),G,a)}),Do=we(pr),Uu=we(function(i){var a=i.length,f=a>1?i[a-1]:G;return f="function"==typeof f?(i.pop(),f):G,hs(i,f)});function Gl(i){var a=E(i);return a.__chain__=!0,a}function eu(i,a){return a(i)}var If=zs(function(i){var a=i.length,f=a?i[0]:0,I=this.__wrapped__,S=function(O){return fu(O,i)};return!(a>1||this.__actions__.length)&&I instanceof ke&&Es(f)?((I=I.slice(f,+f+(a?1:0))).__actions__.push({func:eu,args:[S],thisArg:G}),new Di(I,this.__chain__).thru(function(O){return a&&!O.length&&O.push(G),O})):this.thru(S)}),qa=Va(function(i,a,f){It.call(i,f)?++i[f]:Ds(i,f,1)}),Ul=Pu(d),wf=Pu(A);function jf(i,a){return(be(i)?Zt:qs)(i,ue(a,3))}function Gf(i,a){return(be(i)?Rt:qu)(i,ue(a,3))}var fh=Va(function(i,a,f){It.call(i,f)?i[f].push(a):Ds(i,f,[a])}),gh=we(function(i,a,f){var I=-1,S="function"==typeof a,O=zi(i)?dt(i.length):[];return qs(i,function(F){O[++I]=S?ot(a,F,f):vo(F,a,f)}),O}),dh=Va(function(i,a,f){Ds(i,f,a)});function Fl(i,a){return(be(i)?ae:il)(i,ue(a,3))}var vh=Va(function(i,a,f){i[f?0:1].push(a)},function(){return[[],[]]}),Nh=we(function(i,a){if(null==i)return[];var f=a.length;return f>1&&qr(i,a[0],a[1])?a=[]:f>2&&qr(a[0],a[1],a[2])&&(a=[a[0]]),Xo(i,xr(a,1),[])}),Xl=je||function(){return o.Date.now()};function Zf(i,a,f){return a=f?G:a,cs(i,C,G,G,G,G,a=i&&null==a?i.length:a)}function Bf(i,a){var f;if("function"!=typeof a)throw new k(Ve);return i=Te(i),function(){return--i>0&&(f=a.apply(this,arguments)),i<=1&&(a=G),f}}var bf=we(function(i,a,f){var I=1;if(f.length){var S=Si(f,Qa(bf));I|=32}return cs(i,I,a,f,S)}),Rf=we(function(i,a,f){var I=3;if(f.length){var S=Si(f,Qa(Rf));I|=32}return cs(a,I,i,f,S)});function Yf(i,a,f){var I,S,O,F,J,lt,xt=0,Nt=!1,Tt=!1,Wt=!0;if("function"!=typeof i)throw new k(Ve);function Jt(ur){var js=I,Da=S;return I=S=G,xt=ur,F=i.apply(Da,js)}function ge(ur){return xt=ur,J=Na(Re,a),Nt?Jt(ur):F}function de(ur){var js=ur-lt;return lt===G||js>=a||js<0||Tt&&ur-xt>=O}function Re(){var ur=Xl();if(de(ur))return Xe(ur);J=Na(Re,function Pe(ur){var uh=a-(ur-lt);return Tt?zr(uh,O-(ur-xt)):uh}(ur))}function Xe(ur){return J=G,Wt&&I?Jt(ur):(I=S=G,F)}function ts(){var ur=Xl(),js=de(ur);if(I=arguments,S=this,lt=ur,js){if(J===G)return ge(lt);if(Tt)return Co(J),J=Na(Re,a),Jt(lt)}return J===G&&(J=Na(Re,a)),F}return a=gs(a)||0,Un(f)&&(Nt=!!f.leading,O=(Tt="maxWait"in f)?ar(gs(f.maxWait)||0,a):O,Wt="trailing"in f?!!f.trailing:Wt),ts.cancel=function $i(){J!==G&&Co(J),xt=0,I=lt=S=J=G},ts.flush=function Ai(){return J===G?F:Xe(Xl())},ts}var Sh=we(function(i,a){return Qu(i,1,a)}),Th=we(function(i,a,f){return Qu(i,gs(a)||0,f)});function Vl(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new k(Ve);var f=function(){var I=arguments,S=a?a.apply(this,I):I[0],O=f.cache;if(O.has(S))return O.get(S);var F=i.apply(this,I);return f.cache=O.set(S,F)||O,F};return f.cache=new(Vl.Cache||Ts),f}function Hl(i){if("function"!=typeof i)throw new k(Ve);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}Vl.Cache=Ts;var Ph=Fc(function(i,a){var f=(a=1==a.length&&be(a[0])?ae(a[0],gr(ue())):ae(xr(a,1),gr(ue()))).length;return we(function(I){for(var S=-1,O=zr(I.length,f);++S<O;)I[S]=a[S].call(this,I[S]);return ot(i,this,I)})}),xf=we(function(i,a){var f=Si(a,Qa(xf));return cs(i,32,G,a,f)}),Uf=we(function(i,a){var f=Si(a,Qa(Uf));return cs(i,64,G,a,f)}),zh=zs(function(i,a){return cs(i,256,G,G,G,a)});function Os(i,a){return i===a||i!=i&&a!=a}var Uh=le(gu),Fh=le(function(i,a){return i>=a}),Lo=el(function(){return arguments}())?el:function(i){return Qn(i)&&It.call(i,"callee")&&!on.call(i,"callee")},be=dt.isArray,Xh=D?gr(D):function pu(i){return Qn(i)&&Jr(i)==Me};function zi(i){return null!=i&&Jl(i.length)&&!Sa(i)}function or(i){return Qn(i)&&zi(i)}var $a=ql||Of,Hh=Y?gr(Y):function Bc(i){return Qn(i)&&Jr(i)==xn};function Nf(i){if(!Qn(i))return!1;var a=Jr(i);return a==ri||"[object DOMException]"==a||"string"==typeof i.message&&"string"==typeof i.name&&!Fu(i)}function Sa(i){if(!Un(i))return!1;var a=Jr(i);return a==Zi||a==Gs||"[object AsyncFunction]"==a||"[object Proxy]"==a}function Ff(i){return"number"==typeof i&&i==Te(i)}function Jl(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=ln}function Un(i){var a=typeof i;return null!=i&&("object"==a||"function"==a)}function Qn(i){return null!=i&&"object"==typeof i}var Xf=W?gr(W):function Wc(i){return Qn(i)&&Er(i)==cn};function Vf(i){return"number"==typeof i||Qn(i)&&Jr(i)==qe}function Fu(i){if(!Qn(i)||Jr(i)!=m)return!1;var a=dr(i);if(null===a)return!0;var f=It.call(a,"constructor")&&a.constructor;return"function"==typeof f&&f instanceof f&&wt.call(f)==$t}var Mf=it?gr(it):function Uo(i){return Qn(i)&&Jr(i)==yt},Hf=gt?gr(gt):function mu(i){return Qn(i)&&Er(i)==tt};function Kl(i){return"string"==typeof i||!be(i)&&Qn(i)&&Jr(i)==Et}function qi(i){return"symbol"==typeof i||Qn(i)&&Jr(i)==ce}var nu=bt?gr(bt):function Kr(i){return Qn(i)&&Jl(i.length)&&!!an[Jr(i)]},cg=le(Fo),fg=le(function(i,a){return i<=a});function Jf(i){if(!i)return[];if(zi(i))return Kl(i)?bn(i):ci(i);if(Za&&i[Za])return function Js(nt){for(var Ct,dt=[];!(Ct=nt.next()).done;)dt.push(Ct.value);return dt}(i[Za]());var a=Er(i);return(a==cn?ui:a==tt?Ks:ru)(i)}function Ta(i){return i?(i=gs(i))===sn||i===-sn?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0}function Te(i){var a=Ta(i),f=a%1;return a==a?f?a-f:a:0}function Kf(i){return i?ma(Te(i),0,$n):0}function gs(i){if("number"==typeof i)return i;if(qi(i))return NaN;if(Un(i)){var a="function"==typeof i.valueOf?i.valueOf():i;i=Un(a)?a+"":a}if("string"!=typeof i)return 0===i?i:+i;i=Mi(i);var f=_s.test(i);return f||sa.test(i)?H(i.slice(2),f?2:8):Cr.test(i)?NaN:+i}function Qf(i){return ls(i,ki(i))}function dn(i){return null==i?"":li(i)}var gg=Ha(function(i,a){if(No(a)||zi(a))ls(a,Or(a),i);else for(var f in a)It.call(a,f)&&fo(i,f,a[f])}),qf=Ha(function(i,a){ls(a,ki(a),i)}),Ql=Ha(function(i,a,f,I){ls(a,ki(a),i,I)}),dg=Ha(function(i,a,f,I){ls(a,Or(a),i,I)}),pg=zs(fu),mg=we(function(i,a){i=en(i);var f=-1,I=a.length,S=I>2?a[2]:G;for(S&&qr(a[0],a[1],S)&&(I=1);++f<I;)for(var O=a[f],F=ki(O),J=-1,lt=F.length;++J<lt;){var xt=F[J],Nt=i[xt];(Nt===G||Os(Nt,At[xt])&&!It.call(i,xt))&&(i[xt]=O[xt])}return i}),Ig=we(function(i){return i.push(G,Ml),ot($f,G,i)});function Sf(i,a,f){var I=null==i?G:Ia(i,a);return I===G?f:I}function Tf(i,a){return null!=i&&Tl(i,a,jc)}var Tg=wl(function(i,a,f){null!=a&&"function"!=typeof a.toString&&(a=Qt.call(a)),i[a]=f},Lf(Ei)),Dg=wl(function(i,a,f){null!=a&&"function"!=typeof a.toString&&(a=Qt.call(a)),It.call(i,a)?i[a].push(f):i[a]=[f]},ue),Lg=we(vo);function Or(i){return zi(i)?Hu(i):Fa(i)}function ki(i){return zi(i)?Hu(i,!0):function rl(i){if(!Un(i))return function ff(i){var a=[];if(null!=i)for(var f in en(i))a.push(f);return a}(i);var a=No(i),f=[];for(var I in i)"constructor"==I&&(a||!It.call(i,I))||f.push(I);return f}(i)}var kg=Ha(function(i,a,f){Aa(i,a,f)}),$f=Ha(function(i,a,f,I){Aa(i,a,f,I)}),Eg=zs(function(i,a){var f={};if(null==i)return f;var I=!1;a=ae(a,function(O){return O=Ps(O,i),I||(I=O.length>1),O}),ls(i,Ou(i),f),I&&(f=Li(f,7,qc));for(var S=a.length;S--;)Nu(f,a[S]);return f}),jg=zs(function(i,a){return null==i?{}:function Au(i,a){return Cu(i,a,function(f,I){return Tf(i,I)})}(i,a)});function th(i,a){if(null==i)return{};var f=ae(Ou(i),function(I){return[I]});return a=ue(a),Cu(i,f,function(I,S){return a(I,S[0])})}var eh=xl(Or),nh=xl(ki);function ru(i){return null==i?[]:ja(i,Or(i))}var Hg=Ca(function(i,a,f){return a=a.toLowerCase(),i+(f?rh(a):a)});function rh(i){return Df(dn(i).toLowerCase())}function ih(i){return(i=dn(i))&&i.replace(oa,Ga).replace(hr,"")}var qg=Ca(function(i,a,f){return i+(f?"-":"")+a.toLowerCase()}),$g=Ca(function(i,a,f){return i+(f?" ":"")+a.toLowerCase()}),td=Lu("toLowerCase"),od=Ca(function(i,a,f){return i+(f?"_":"")+a.toLowerCase()}),ld=Ca(function(i,a,f){return i+(f?" ":"")+Df(a)}),Ad=Ca(function(i,a,f){return i+(f?" ":"")+a.toUpperCase()}),Df=Lu("toUpperCase");function sh(i,a,f){return i=dn(i),(a=f?G:a)===G?function os(nt){return bs.test(nt)}(i)?function Eo(nt){return nt.match(ws)||[]}(i):function Ue(nt){return nt.match(ms)||[]}(i):i.match(a)||[]}var ah=we(function(i,a){try{return ot(i,G,a)}catch(f){return Nf(f)?f:new fe(f)}}),Cd=zs(function(i,a){return Zt(a,function(f){f=fs(f),Ds(i,f,bf(i[f],i))}),i});function Lf(i){return function(){return i}}var xd=zu(),Nd=zu(!0);function Ei(i){return i}function Pf(i){return mo("function"==typeof i?i:Li(i,1))}var Td=we(function(i,a){return function(f){return vo(f,i,a)}}),Dd=we(function(i,a){return function(f){return vo(i,f,a)}});function zf(i,a,f){var I=Or(a),S=Yo(a,I);null==f&&(!Un(a)||!S.length&&I.length)&&(f=a,a=i,i=this,S=Yo(a,Or(a)));var O=!(Un(f)&&"chain"in f&&!f.chain),F=Sa(i);return Zt(S,function(J){var lt=a[J];i[J]=lt,F&&(i.prototype[J]=function(){var xt=this.__chain__;if(O||xt){var Nt=i(this.__wrapped__),Tt=Nt.__actions__=ci(this.__actions__);return Tt.push({func:lt,args:arguments,thisArg:i}),Nt.__chain__=xt,Nt}return lt.apply(i,ee([this.value()],arguments))})}),i}function kf(){}var zd=yo(ae),kd=yo(Ot),Ed=yo(Cn);function oh(i){return Zu(i)?kn(fs(i)):function yu(i){return function(a){return Ia(a,i)}}(i)}var jd=bl(),Gd=bl(!0);function Ef(){return[]}function Of(){return!1}var Ud=qo(function(i,a){return i+a},0),Fd=Ii("ceil"),Xd=qo(function(i,a){return i/a},1),Vd=Ii("floor"),tp=qo(function(i,a){return i*a},1),ep=Ii("round"),np=qo(function(i,a){return i-a},0);return E.after=function Mh(i,a){if("function"!=typeof a)throw new k(Ve);return i=Te(i),function(){if(--i<1)return a.apply(this,arguments)}},E.ary=Zf,E.assign=gg,E.assignIn=qf,E.assignInWith=Ql,E.assignWith=dg,E.at=pg,E.before=Bf,E.bind=bf,E.bindAll=Cd,E.bindKey=Rf,E.castArray=function Zh(){if(!arguments.length)return[];var i=arguments[0];return be(i)?i:[i]},E.chain=Gl,E.chunk=function df(i,a,f){a=(f?qr(i,a,f):a===G)?1:ar(Te(a),0);var I=null==i?0:i.length;if(!I||a<1)return[];for(var S=0,O=0,F=dt(En(I/a));S<I;)F[O++]=kr(i,S,S+=a);return F},E.compact=function pf(i){for(var a=-1,f=null==i?0:i.length,I=0,S=[];++a<f;){var O=i[a];O&&(S[I++]=O)}return S},E.concat=function vf(){var i=arguments.length;if(!i)return[];for(var a=dt(i-1),f=arguments[0],I=i;I--;)a[I-1]=arguments[I];return ee(be(f)?ci(f):[f],xr(a,1))},E.cond=function yd(i){var a=null==i?0:i.length,f=ue();return i=a?ae(i,function(I){if("function"!=typeof I[1])throw new k(Ve);return[f(I[0]),I[1]]}):[],we(function(I){for(var S=-1;++S<a;){var O=i[S];if(ot(O[0],this,I))return ot(O[1],this,I)}})},E.conforms=function wd(i){return function zc(i){var a=Or(i);return function(f){return Ku(f,i,a)}}(Li(i,1))},E.constant=Lf,E.countBy=qa,E.create=function vg(i,a){var f=Ya(i);return null==a?f:Ua(f,a)},E.curry=function Wf(i,a,f){var I=cs(i,8,G,G,G,G,G,a=f?G:a);return I.placeholder=Wf.placeholder,I},E.curryRight=function _f(i,a,f){var I=cs(i,16,G,G,G,G,G,a=f?G:a);return I.placeholder=_f.placeholder,I},E.debounce=Yf,E.defaults=mg,E.defaultsDeep=Ig,E.defer=Sh,E.delay=Th,E.difference=t,E.differenceBy=e,E.differenceWith=n,E.drop=function r(i,a,f){var I=null==i?0:i.length;return I?kr(i,(a=f||a===G?1:Te(a))<0?0:a,I):[]},E.dropRight=function s(i,a,f){var I=null==i?0:i.length;return I?kr(i,0,(a=I-(a=f||a===G?1:Te(a)))<0?0:a):[]},E.dropRightWhile=function u(i,a){return i&&i.length?Xa(i,ue(a,3),!0,!0):[]},E.dropWhile=function l(i,a){return i&&i.length?Xa(i,ue(a,3),!0):[]},E.fill=function h(i,a,f,I){var S=null==i?0:i.length;return S?(f&&"number"!=typeof f&&qr(i,a,f)&&(f=0,I=S),function Ec(i,a,f,I){var S=i.length;for((f=Te(f))<0&&(f=-f>S?0:S+f),(I=I===G||I>S?S:Te(I))<0&&(I+=S),I=f>I?0:Kf(I);f<I;)i[f++]=a;return i}(i,a,f,I)):[]},E.filter=function Yl(i,a){return(be(i)?Ut:$u)(i,ue(a,3))},E.flatMap=function na(i,a){return xr(Fl(i,a),1)},E.flatMapDeep=function lh(i,a){return xr(Fl(i,a),sn)},E.flatMapDepth=function ch(i,a,f){return f=f===G?1:Te(f),xr(Fl(i,a),f)},E.flatten=y,E.flattenDeep=function p(i){return null!=i&&i.length?xr(i,sn):[]},E.flattenDepth=function P(i,a){return null!=i&&i.length?xr(i,a=a===G?1:Te(a)):[]},E.flip=function Dh(i){return cs(i,512)},E.flow=xd,E.flowRight=Nd,E.fromPairs=function j(i){for(var a=-1,f=null==i?0:i.length,I={};++a<f;){var S=i[a];I[S[0]]=S[1]}return I},E.functions=function Ng(i){return null==i?[]:Yo(i,Or(i))},E.functionsIn=function Mg(i){return null==i?[]:Yo(i,ki(i))},E.groupBy=fh,E.initial=function rt(i){return null!=i&&i.length?kr(i,0,-1):[]},E.intersection=ht,E.intersectionBy=ft,E.intersectionWith=w,E.invert=Tg,E.invertBy=Dg,E.invokeMap=gh,E.iteratee=Pf,E.keyBy=dh,E.keys=Or,E.keysIn=ki,E.map=Fl,E.mapKeys=function Pg(i,a){var f={};return a=ue(a,3),us(i,function(I,S,O){Ds(f,a(I,S,O),I)}),f},E.mapValues=function zg(i,a){var f={};return a=ue(a,3),us(i,function(I,S,O){Ds(f,S,a(I,S,O))}),f},E.matches=function Md(i){return sl(Li(i,1))},E.matchesProperty=function Sd(i,a){return Iu(i,Li(a,1))},E.memoize=Vl,E.merge=kg,E.mergeWith=$f,E.method=Td,E.methodOf=Dd,E.mixin=zf,E.negate=Hl,E.nthArg=function Pd(i){return i=Te(i),we(function(a){return al(a,i)})},E.omit=Eg,E.omitBy=function Og(i,a){return th(i,Hl(ue(a)))},E.once=function Lh(i){return Bf(2,i)},E.orderBy=function ph(i,a,f,I){return null==i?[]:(be(a)||(a=null==a?[]:[a]),be(f=I?G:f)||(f=null==f?[]:[f]),Xo(i,a,f))},E.over=zd,E.overArgs=Ph,E.overEvery=kd,E.overSome=Ed,E.partial=xf,E.partialRight=Uf,E.partition=vh,E.pick=jg,E.pickBy=th,E.property=oh,E.propertyOf=function Od(i){return function(a){return null==i?G:Ia(i,a)}},E.pull=at,E.pullAll=ut,E.pullAllBy=function vt(i,a,f){return i&&i.length&&a&&a.length?Ls(i,a,ue(f,2)):i},E.pullAllWith=function Dt(i,a,f){return i&&i.length&&a&&a.length?Ls(i,a,G,f):i},E.pullAt=Mt,E.range=jd,E.rangeRight=Gd,E.rearg=zh,E.reject=function Ah(i,a){return(be(i)?Ut:$u)(i,Hl(ue(a,3)))},E.remove=function Lt(i,a){var f=[];if(!i||!i.length)return f;var I=-1,S=[],O=i.length;for(a=ue(a,3);++I<O;){var F=i[I];a(F,I,i)&&(f.push(F),S.push(I))}return wu(i,S),f},E.rest=function kh(i,a){if("function"!=typeof i)throw new k(Ve);return we(i,a=a===G?a:Te(a))},E.reverse=kt,E.sampleSize=function yh(i,a,f){return a=(f?qr(i,a,f):a===G)?1:Te(a),(be(i)?Tc:ul)(i,a)},E.set=function Zg(i,a,f){return null==i?i:Io(i,a,f)},E.setWith=function Bg(i,a,f,I){return I="function"==typeof I?I:G,null==i?i:Io(i,a,f,I)},E.shuffle=function wh(i){return(be(i)?Dc:Uc)(i)},E.slice=function Gt(i,a,f){var I=null==i?0:i.length;return I?(f&&"number"!=typeof f&&qr(i,a,f)?(a=0,f=I):(a=null==a?0:Te(a),f=f===G?I:Te(f)),kr(i,a,f)):[]},E.sortBy=Nh,E.sortedUniq=function ne(i){return i&&i.length?fl(i):[]},E.sortedUniqBy=function re(i,a){return i&&i.length?fl(i,ue(a,2)):[]},E.split=function ud(i,a,f){return f&&"number"!=typeof f&&qr(i,a,f)&&(a=f=G),(f=f===G?$n:f>>>0)?(i=dn(i))&&("string"==typeof a||null!=a&&!Mf(a))&&!(a=li(a))&&oi(i)?Qi(bn(i),0,f):i.split(a,f):[]},E.spread=function Eh(i,a){if("function"!=typeof i)throw new k(Ve);return a=null==a?0:ar(Te(a),0),we(function(f){var I=f[a],S=Qi(f,0,a);return I&&ee(S,I),ot(i,this,S)})},E.tail=function Se(i){var a=null==i?0:i.length;return a?kr(i,1,a):[]},E.take=function rn(i,a,f){return i&&i.length?kr(i,0,(a=f||a===G?1:Te(a))<0?0:a):[]},E.takeRight=function un(i,a,f){var I=null==i?0:i.length;return I?kr(i,(a=I-(a=f||a===G?1:Te(a)))<0?0:a,I):[]},E.takeRightWhile=function Ne(i,a){return i&&i.length?Xa(i,ue(a,3),!1,!0):[]},E.takeWhile=function Dn(i,a){return i&&i.length?Xa(i,ue(a,3)):[]},E.tap=function mf(i,a){return a(i),i},E.throttle=function Oh(i,a,f){var I=!0,S=!0;if("function"!=typeof i)throw new k(Ve);return Un(f)&&(I="leading"in f?!!f.leading:I,S="trailing"in f?!!f.trailing:S),Yf(i,a,{leading:I,maxWait:a,trailing:S})},E.thru=eu,E.toArray=Jf,E.toPairs=eh,E.toPairsIn=nh,E.toPath=function _d(i){return be(i)?ae(i,fs):qi(i)?[i]:ci(Ol(dn(i)))},E.toPlainObject=Qf,E.transform=function Rg(i,a,f){var I=be(i),S=I||$a(i)||nu(i);if(a=ue(a,4),null==f){var O=i&&i.constructor;f=S?I?new O:[]:Un(i)&&Sa(O)?Ya(dr(i)):{}}return(S?Zt:us)(i,function(F,J,lt){return a(f,F,J,lt)}),f},E.unary=function jh(i){return Zf(i,1)},E.union=Ee,E.unionBy=Ie,E.unionWith=Le,E.uniq=function te(i){return i&&i.length?ea(i):[]},E.uniqBy=function Bt(i,a){return i&&i.length?ea(i,ue(a,2)):[]},E.uniqWith=function Mr(i,a){return a="function"==typeof a?a:G,i&&i.length?ea(i,G,a):[]},E.unset=function Wg(i,a){return null==i||Nu(i,a)},E.unzip=pr,E.unzipWith=hs,E.update=function _g(i,a,f){return null==i?i:hl(i,a,Su(f))},E.updateWith=function Yg(i,a,f,I){return I="function"==typeof I?I:G,null==i?i:hl(i,a,Su(f),I)},E.values=ru,E.valuesIn=function Ug(i){return null==i?[]:ja(i,ki(i))},E.without=_u,E.words=sh,E.wrap=function Gh(i,a){return xf(Su(a),i)},E.xor=Yu,E.xorBy=jl,E.xorWith=To,E.zip=Do,E.zipObject=function Sr(i,a){return dl(i||[],a||[],fo)},E.zipObjectDeep=function Yn(i,a){return dl(i||[],a||[],Io)},E.zipWith=Uu,E.entries=eh,E.entriesIn=nh,E.extend=qf,E.extendWith=Ql,zf(E,E),E.add=Ud,E.attempt=ah,E.camelCase=Hg,E.capitalize=rh,E.ceil=Fd,E.clamp=function Fg(i,a,f){return f===G&&(f=a,a=G),f!==G&&(f=(f=gs(f))==f?f:0),a!==G&&(a=(a=gs(a))==a?a:0),ma(gs(i),a,f)},E.clone=function Bh(i){return Li(i,4)},E.cloneDeep=function Wh(i){return Li(i,5)},E.cloneDeepWith=function _h(i,a){return Li(i,5,a="function"==typeof a?a:G)},E.cloneWith=function Rh(i,a){return Li(i,4,a="function"==typeof a?a:G)},E.conformsTo=function Yh(i,a){return null==a||Ku(i,a,Or(a))},E.deburr=ih,E.defaultTo=function bd(i,a){return null==i||i!=i?a:i},E.divide=Xd,E.endsWith=function Jg(i,a,f){i=dn(i),a=li(a);var I=i.length,S=f=f===G?I:ma(Te(f),0,I);return(f-=a.length)>=0&&i.slice(f,S)==a},E.eq=Os,E.escape=function Kg(i){return(i=dn(i))&&wi.test(i)?i.replace(Zs,so):i},E.escapeRegExp=function Qg(i){return(i=dn(i))&&Bs.test(i)?i.replace(pn,"\\$&"):i},E.every=function _l(i,a,f){var I=be(i)?Ot:kc;return f&&qr(i,a,f)&&(a=G),I(i,ue(a,3))},E.find=Ul,E.findIndex=d,E.findKey=function Ag(i,a){return br(i,ue(a,3),us)},E.findLast=wf,E.findLastIndex=A,E.findLastKey=function Cg(i,a){return br(i,ue(a,3),hu)},E.floor=Vd,E.forEach=jf,E.forEachRight=Gf,E.forIn=function yg(i,a){return null==i?i:po(i,ue(a,3),ki)},E.forInRight=function wg(i,a){return null==i?i:_o(i,ue(a,3),ki)},E.forOwn=function bg(i,a){return i&&us(i,ue(a,3))},E.forOwnRight=function xg(i,a){return i&&hu(i,ue(a,3))},E.get=Sf,E.gt=Uh,E.gte=Fh,E.has=function Sg(i,a){return null!=i&&Tl(i,a,Oc)},E.hasIn=Tf,E.head=B,E.identity=Ei,E.includes=function hh(i,a,f,I){i=zi(i)?i:ru(i),f=f&&!I?Te(f):0;var S=i.length;return f<0&&(f=ar(S+f,0)),Kl(i)?f<=S&&i.indexOf(a,f)>-1:!!S&&Jn(i,a,f)>-1},E.indexOf=function et(i,a,f){var I=null==i?0:i.length;if(!I)return-1;var S=null==f?0:Te(f);return S<0&&(S=ar(I+S,0)),Jn(i,a,S)},E.inRange=function Xg(i,a,f){return a=Ta(a),f===G?(f=a,a=0):f=Ta(f),function Gc(i,a,f){return i>=zr(a,f)&&i<ar(a,f)}(i=gs(i),a,f)},E.invoke=Lg,E.isArguments=Lo,E.isArray=be,E.isArrayBuffer=Xh,E.isArrayLike=zi,E.isArrayLikeObject=or,E.isBoolean=function Vh(i){return!0===i||!1===i||Qn(i)&&Jr(i)==Lr},E.isBuffer=$a,E.isDate=Hh,E.isElement=function Jh(i){return Qn(i)&&1===i.nodeType&&!Fu(i)},E.isEmpty=function Kh(i){if(null==i)return!0;if(zi(i)&&(be(i)||"string"==typeof i||"function"==typeof i.splice||$a(i)||nu(i)||Lo(i)))return!i.length;var a=Er(i);if(a==cn||a==tt)return!i.size;if(No(i))return!Fa(i).length;for(var f in i)if(It.call(i,f))return!1;return!0},E.isEqual=function Qh(i,a){return $s(i,a)},E.isEqualWith=function qh(i,a,f){var I=(f="function"==typeof f?f:G)?f(i,a):G;return I===G?$s(i,a,G,f):!!I},E.isError=Nf,E.isFinite=function $h(i){return"number"==typeof i&&Xu(i)},E.isFunction=Sa,E.isInteger=Ff,E.isLength=Jl,E.isMap=Xf,E.isMatch=function tg(i,a){return i===a||vu(i,a,xo(a))},E.isMatchWith=function eg(i,a,f){return f="function"==typeof f?f:G,vu(i,a,xo(a),f)},E.isNaN=function ng(i){return Vf(i)&&i!=+i},E.isNative=function rg(i){if(uf(i))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return nl(i)},E.isNil=function sg(i){return null==i},E.isNull=function ig(i){return null===i},E.isNumber=Vf,E.isObject=Un,E.isObjectLike=Qn,E.isPlainObject=Fu,E.isRegExp=Mf,E.isSafeInteger=function ag(i){return Ff(i)&&i>=-ln&&i<=ln},E.isSet=Hf,E.isString=Kl,E.isSymbol=qi,E.isTypedArray=nu,E.isUndefined=function og(i){return i===G},E.isWeakMap=function ug(i){return Qn(i)&&Er(i)==_e},E.isWeakSet=function lg(i){return Qn(i)&&"[object WeakSet]"==Jr(i)},E.join=function T(i,a){return null==i?"":$l.call(i,a)},E.kebabCase=qg,E.last=L,E.lastIndexOf=function Z(i,a,f){var I=null==i?0:i.length;if(!I)return-1;var S=I;return f!==G&&(S=(S=Te(f))<0?ar(I+S,0):zr(S,I-1)),a==a?function Ye(nt,Ct,dt){for(var _t=dt+1;_t--;)if(nt[_t]===Ct)return _t;return _t}(i,a,S):Ni(i,Xr,S,!0)},E.lowerCase=$g,E.lowerFirst=td,E.lt=cg,E.lte=fg,E.max=function Hd(i){return i&&i.length?Wo(i,Ei,gu):G},E.maxBy=function Jd(i,a){return i&&i.length?Wo(i,ue(a,2),gu):G},E.mean=function Kd(i){return Vi(i,Ei)},E.meanBy=function Qd(i,a){return Vi(i,ue(a,2))},E.min=function qd(i){return i&&i.length?Wo(i,Ei,Fo):G},E.minBy=function $d(i,a){return i&&i.length?Wo(i,ue(a,2),Fo):G},E.stubArray=Ef,E.stubFalse=Of,E.stubObject=function Zd(){return{}},E.stubString=function Bd(){return""},E.stubTrue=function Rd(){return!0},E.multiply=tp,E.nth=function X(i,a){return i&&i.length?al(i,Te(a)):G},E.noConflict=function Ld(){return o._===this&&(o._=oe),this},E.noop=kf,E.now=Xl,E.pad=function ed(i,a,f){i=dn(i);var I=(a=Te(a))?Vr(i):0;if(!a||I>=a)return i;var S=(a-I)/2;return wo(oo(S),f)+i+wo(En(S),f)},E.padEnd=function nd(i,a,f){i=dn(i);var I=(a=Te(a))?Vr(i):0;return a&&I<a?i+wo(a-I,f):i},E.padStart=function rd(i,a,f){i=dn(i);var I=(a=Te(a))?Vr(i):0;return a&&I<a?wo(a-I,f)+i:i},E.parseInt=function id(i,a,f){return f||null==a?a=0:a&&(a=+a),ec(dn(i).replace(Rn,""),a||0)},E.random=function Vg(i,a,f){if(f&&"boolean"!=typeof f&&qr(i,a,f)&&(a=f=G),f===G&&("boolean"==typeof a?(f=a,a=G):"boolean"==typeof i&&(f=i,i=G)),i===G&&a===G?(i=0,a=1):(i=Ta(i),a===G?(a=i,i=0):a=Ta(a)),i>a){var I=i;i=a,a=I}if(f||i%1||a%1){var S=ou();return zr(i+S*(a-i+_("1e-"+((S+"").length-1))),a)}return Vo(i,a)},E.reduce=function mh(i,a,f){var I=be(i)?Hn:fn,S=arguments.length<3;return I(i,ue(a,4),f,S,qs)},E.reduceRight=function Ih(i,a,f){var I=be(i)?ze:fn,S=arguments.length<3;return I(i,ue(a,4),f,S,qu)},E.repeat=function sd(i,a,f){return a=(f?qr(i,a,f):a===G)?1:Te(a),bu(dn(i),a)},E.replace=function ad(){var i=arguments,a=dn(i[0]);return i.length<3?a:a.replace(i[1],i[2])},E.result=function Gg(i,a,f){var I=-1,S=(a=Ps(a,i)).length;for(S||(S=1,i=G);++I<S;){var O=null==i?G:i[fs(a[I])];O===G&&(I=S,O=f),i=Sa(O)?O.call(i):O}return i},E.round=ep,E.runInContext=nt,E.sample=function Ch(i){return(be(i)?Ju:Yc)(i)},E.size=function bh(i){if(null==i)return 0;if(zi(i))return Kl(i)?Vr(i):i.length;var a=Er(i);return a==cn||a==tt?i.size:Fa(i).length},E.snakeCase=od,E.some=function xh(i,a,f){var I=be(i)?Cn:Ho;return f&&qr(i,a,f)&&(a=G),I(i,ue(a,3))},E.sortedIndex=function Ht(i,a){return ta(i,a)},E.sortedIndexBy=function nn(i,a,f){return Ao(i,a,ue(f,2))},E.sortedIndexOf=function Be(i,a){var f=null==i?0:i.length;if(f){var I=ta(i,a);if(I<f&&Os(i[I],a))return I}return-1},E.sortedLastIndex=function hn(i,a){return ta(i,a,!0)},E.sortedLastIndexBy=function qt(i,a,f){return Ao(i,a,ue(f,2),!0)},E.sortedLastIndexOf=function he(i,a){if(null!=i&&i.length){var I=ta(i,a,!0)-1;if(Os(i[I],a))return I}return-1},E.startCase=ld,E.startsWith=function cd(i,a,f){return i=dn(i),f=null==f?0:ma(Te(f),0,i.length),a=li(a),i.slice(f,f+a.length)==a},E.subtract=np,E.sum=function rp(i){return i&&i.length?vn(i,Ei):0},E.sumBy=function ip(i,a){return i&&i.length?vn(i,ue(a,2)):0},E.template=function fd(i,a,f){var I=E.templateSettings;f&&qr(i,a,f)&&(a=G),i=dn(i),a=Ql({},a,I,Nl);var J,lt,S=Ql({},a.imports,I.imports,Nl),O=Or(S),F=ja(S,O),xt=0,Nt=a.interpolate||ii,Tt="__p += '",Wt=da((a.escape||ii).source+"|"+Nt.source+"|"+(Nt===hi?ir:ii).source+"|"+(a.evaluate||ii).source+"|$","g"),Jt="//# sourceURL="+(It.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vs+"]")+"\n";i.replace(Wt,function(de,Re,Xe,$i,Ai,ts){return Xe||(Xe=$i),Tt+=i.slice(xt,ts).replace(bi,Po),Re&&(J=!0,Tt+="' +\n__e("+Re+") +\n'"),Ai&&(lt=!0,Tt+="';\n"+Ai+";\n__p += '"),Xe&&(Tt+="' +\n((__t = ("+Xe+")) == null ? '' : __t) +\n'"),xt=ts+de.length,de}),Tt+="';\n";var ge=It.call(a,"variable")&&a.variable;if(ge){if(Rs.test(ge))throw new fe("Invalid `variable` option passed into `_.template`")}else Tt="with (obj) {\n"+Tt+"\n}\n";Tt=(lt?Tt.replace(Pn,""):Tt).replace(es,"$1").replace($e,"$1;"),Tt="function("+(ge||"obj")+") {\n"+(ge?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(J?", __e = _.escape":"")+(lt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Tt+"return __p\n}";var Pe=ah(function(){return Fe(O,Jt+"return "+Tt).apply(G,F)});if(Pe.source=Tt,Nf(Pe))throw Pe;return Pe},E.times=function Wd(i,a){if((i=Te(i))<1||i>ln)return[];var f=$n,I=zr(i,$n);a=ue(a),i-=$n;for(var S=Ea(I,a);++f<i;)a(f);return S},E.toFinite=Ta,E.toInteger=Te,E.toLength=Kf,E.toLower=function hd(i){return dn(i).toLowerCase()},E.toNumber=gs,E.toSafeInteger=function hg(i){return i?ma(Te(i),-ln,ln):0===i?i:0},E.toString=dn,E.toUpper=function gd(i){return dn(i).toUpperCase()},E.trim=function dd(i,a,f){if((i=dn(i))&&(f||a===G))return Mi(i);if(!i||!(a=li(a)))return i;var I=bn(i),S=bn(a);return Qi(I,ro(I,S),io(I,S)+1).join("")},E.trimEnd=function pd(i,a,f){if((i=dn(i))&&(f||a===G))return i.slice(0,Hr(i)+1);if(!i||!(a=li(a)))return i;var I=bn(i);return Qi(I,0,io(I,bn(a))+1).join("")},E.trimStart=function vd(i,a,f){if((i=dn(i))&&(f||a===G))return i.replace(Rn,"");if(!i||!(a=li(a)))return i;var I=bn(i);return Qi(I,ro(I,bn(a))).join("")},E.truncate=function md(i,a){var f=30,I="...";if(Un(a)){var S="separator"in a?a.separator:S;f="length"in a?Te(a.length):f,I="omission"in a?li(a.omission):I}var O=(i=dn(i)).length;if(oi(i)){var F=bn(i);O=F.length}if(f>=O)return i;var J=f-Vr(I);if(J<1)return I;var lt=F?Qi(F,0,J).join(""):i.slice(0,J);if(S===G)return lt+I;if(F&&(J+=lt.length-J),Mf(S)){if(i.slice(J).search(S)){var xt,Nt=lt;for(S.global||(S=da(S.source,dn(ra.exec(S))+"g")),S.lastIndex=0;xt=S.exec(Nt);)var Tt=xt.index;lt=lt.slice(0,Tt===G?J:Tt)}}else if(i.indexOf(li(S),J)!=J){var Wt=lt.lastIndexOf(S);Wt>-1&&(lt=lt.slice(0,Wt))}return lt+I},E.unescape=function Id(i){return(i=dn(i))&&yi.test(i)?i.replace(fi,Ae):i},E.uniqueId=function Yd(i){var a=++zt;return dn(i)+a},E.upperCase=Ad,E.upperFirst=Df,E.each=jf,E.eachRight=Gf,E.first=B,zf(E,function(){var i={};return us(E,function(a,f){It.call(E.prototype,f)||(i[f]=a)}),i}(),{chain:!1}),E.VERSION="4.17.21",Zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){E[i].placeholder=E}),Zt(["drop","take"],function(i,a){ke.prototype[i]=function(f){f=f===G?1:ar(Te(f),0);var I=this.__filtered__&&!a?new ke(this):this.clone();return I.__filtered__?I.__takeCount__=zr(f,I.__takeCount__):I.__views__.push({size:zr(f,$n),type:i+(I.__dir__<0?"Right":"")}),I},ke.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),Zt(["filter","map","takeWhile"],function(i,a){var f=a+1,I=1==f||3==f;ke.prototype[i]=function(S){var O=this.clone();return O.__iteratees__.push({iteratee:ue(S,3),type:f}),O.__filtered__=O.__filtered__||I,O}}),Zt(["head","last"],function(i,a){var f="take"+(a?"Right":"");ke.prototype[i]=function(){return this[f](1).value()[0]}}),Zt(["initial","tail"],function(i,a){var f="drop"+(a?"":"Right");ke.prototype[i]=function(){return this.__filtered__?new ke(this):this[f](1)}}),ke.prototype.compact=function(){return this.filter(Ei)},ke.prototype.find=function(i){return this.filter(i).head()},ke.prototype.findLast=function(i){return this.reverse().find(i)},ke.prototype.invokeMap=we(function(i,a){return"function"==typeof i?new ke(this):this.map(function(f){return vo(f,i,a)})}),ke.prototype.reject=function(i){return this.filter(Hl(ue(i)))},ke.prototype.slice=function(i,a){i=Te(i);var f=this;return f.__filtered__&&(i>0||a<0)?new ke(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),a!==G&&(f=(a=Te(a))<0?f.dropRight(-a):f.take(a-i)),f)},ke.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},ke.prototype.toArray=function(){return this.take($n)},us(ke.prototype,function(i,a){var f=/^(?:filter|find|map|reject)|While$/.test(a),I=/^(?:head|last)$/.test(a),S=E[I?"take"+("last"==a?"Right":""):a],O=I||/^find/.test(a);!S||(E.prototype[a]=function(){var F=this.__wrapped__,J=I?[1]:arguments,lt=F instanceof ke,xt=J[0],Nt=lt||be(F),Tt=function(Re){var Xe=S.apply(E,ee([Re],J));return I&&Wt?Xe[0]:Xe};Nt&&f&&"function"==typeof xt&&1!=xt.length&&(lt=Nt=!1);var Wt=this.__chain__,Jt=!!this.__actions__.length,ge=O&&!Wt,Pe=lt&&!Jt;if(!O&&Nt){F=Pe?F:new ke(this);var de=i.apply(F,J);return de.__actions__.push({func:eu,args:[Tt],thisArg:G}),new Di(de,Wt)}return ge&&Pe?i.apply(this,J):(de=this.thru(Tt),ge?I?de.value()[0]:de.value():de)})}),Zt(["pop","push","shift","sort","splice","unshift"],function(i){var a=U[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",I=/^(?:pop|shift)$/.test(i);E.prototype[i]=function(){var S=arguments;if(I&&!this.__chain__){var O=this.value();return a.apply(be(O)?O:[],S)}return this[f](function(F){return a.apply(be(F)?F:[],S)})}}),us(ke.prototype,function(i,a){var f=E[a];if(f){var I=f.name+"";It.call(_a,I)||(_a[I]=[]),_a[I].push({name:a,func:f})}}),_a[Qo(G,2).name]=[{name:"wrapper",func:G}],ke.prototype.clone=function Vu(){var i=new ke(this.__wrapped__);return i.__actions__=ci(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ci(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ci(this.__views__),i},ke.prototype.reverse=function uc(){if(this.__filtered__){var i=new ke(this);i.__dir__=-1,i.__filtered__=!0}else(i=this.clone()).__dir__*=-1;return i},ke.prototype.value=function lc(){var i=this.__wrapped__.value(),a=this.__dir__,f=be(i),I=a<0,S=f?i.length:0,O=function ju(i,a,f){for(var I=-1,S=f.length;++I<S;){var O=f[I],F=O.size;switch(O.type){case"drop":i+=F;break;case"dropRight":a-=F;break;case"take":a=zr(a,i+F);break;case"takeRight":i=ar(i,a-F)}}return{start:i,end:a}}(0,S,this.__views__),F=O.start,J=O.end,lt=J-F,xt=I?J:F-1,Nt=this.__iteratees__,Tt=Nt.length,Wt=0,Jt=zr(lt,this.__takeCount__);if(!f||!I&&S==lt&&Jt==lt)return gl(i,this.__actions__);var ge=[];t:for(;lt--&&Wt<Jt;){for(var Pe=-1,de=i[xt+=a];++Pe<Tt;){var Re=Nt[Pe],$i=Re.type,Ai=(0,Re.iteratee)(de);if(2==$i)de=Ai;else if(!Ai){if(1==$i)continue t;break t}}ge[Wt++]=de}return ge},E.prototype.at=If,E.prototype.chain=function Af(){return Gl(this)},E.prototype.commit=function Cf(){return new Di(this.value(),this.__chain__)},E.prototype.next=function yf(){this.__values__===G&&(this.__values__=Jf(this.value()));var i=this.__index__>=this.__values__.length;return{done:i,value:i?G:this.__values__[this.__index__++]}},E.prototype.plant=function Bl(i){for(var a,f=this;f instanceof Zo;){var I=gf(f);I.__index__=0,I.__values__=G,a?S.__wrapped__=I:a=I;var S=I;f=f.__wrapped__}return S.__wrapped__=i,a},E.prototype.reverse=function Rl(){var i=this.__wrapped__;if(i instanceof ke){var a=i;return this.__actions__.length&&(a=new ke(this)),(a=a.reverse()).__actions__.push({func:eu,args:[kt],thisArg:G}),new Di(a,this.__chain__)}return this.thru(kt)},E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=function Wl(){return gl(this.__wrapped__,this.__actions__)},E.prototype.first=E.prototype.head,Za&&(E.prototype[Za]=function Zl(){return this}),E}();o._=mi,(vr=function(){return mi}.call(jr,Ft,jr,$r))!==G&&($r.exports=vr)}.call(this)},610:function($r){$r.exports=function(){var Ft="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},vr=Array.prototype,G=Object.prototype,mr=typeof Symbol<"u"?Symbol.prototype:null,se=vr.push,St=vr.slice,Ve=G.toString,Ci=G.hasOwnProperty,Ir=typeof ArrayBuffer<"u",Ke=typeof DataView<"u",Tr=Array.isArray,yn=Object.keys,Fn=Object.create,Dr=Ir&&ArrayBuffer.isView,Gr=isNaN,Ce=isFinite,Xt=!{toString:null}.propertyIsEnumerable("toString"),Bn=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ve=Math.pow(2,53)-1;function We(N,z){return z=null==z?N.length-1:+z,function(){for(var _=Math.max(arguments.length-z,0),H=Array(_),ct=0;ct<_;ct++)H[ct]=arguments[ct+z];switch(z){case 0:return N.call(this,H);case 1:return N.call(this,arguments[0],H);case 2:return N.call(this,arguments[0],arguments[1],H)}var Q=Array(z+1);for(ct=0;ct<z;ct++)Q[ct]=arguments[ct];return Q[z]=H,N.apply(this,Q)}}function wn(N){var z=typeof N;return"function"===z||"object"===z&&!!N}function gn(N){return void 0===N}function ti(N){return!0===N||!1===N||"[object Boolean]"===Ve.call(N)}function C(N){var z="[object "+N+"]";return function(_){return Ve.call(_)===z}}var Qe=C("String"),Kt=C("Number"),pe=C("Date"),ds=C("RegExp"),ps=C("Error"),Xn=C("Symbol"),Oi=C("ArrayBuffer"),qn=C("Function");"object"!=typeof Int8Array&&"function"!=typeof(Ft.document&&Ft.document.childNodes)&&(qn=function(N){return"function"==typeof N||!1});var sn=qn,ln=C("Object"),ji=Ke&&ln(new DataView(new ArrayBuffer(8))),Zr=typeof Map<"u"&&ln(new Map),$n=C("DataView"),tr=ji?function(N){return null!=N&&sn(N.getInt8)&&Oi(N.buffer)}:$n,ni=Tr||C("Array");function jn(N,z){return null!=N&&Ci.call(N,z)}var lr=C("Arguments");!function(){lr(arguments)||(lr=function(N){return jn(N,"callee")})}();var ie=lr;function Gi(N){return Kt(N)&&Gr(N)}function Lr(N){return function(){return N}}function xn(N){return function(z){var _=N(z);return"number"==typeof _&&_>=0&&_<=ve}}function Ar(N){return function(z){return z?.[N]}}var ri=Ar("byteLength"),Zi=xn(ri),Gs=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,cn=Ir?function(N){return Dr?Dr(N)&&!tr(N):Zi(N)&&Gs.test(Ve.call(N))}:Lr(!1),qe=Ar("length");function M(N,z){z=function(o){for(var c={},g=o.length,v=0;v<g;++v)c[o[v]]=!0;return{contains:function(x){return!0===c[x]},push:function(x){return c[x]=!0,o.push(x)}}}(z);var _=Bn.length,H=N.constructor,ct=sn(H)&&H.prototype||G,Q="constructor";for(jn(N,Q)&&!z.contains(Q)&&z.push(Q);_--;)(Q=Bn[_])in N&&N[Q]!==ct[Q]&&!z.contains(Q)&&z.push(Q)}function m(N){if(!wn(N))return[];if(yn)return yn(N);var z=[];for(var _ in N)jn(N,_)&&z.push(_);return Xt&&M(N,z),z}function R(N,z){var _=m(z),H=_.length;if(null==N)return!H;for(var ct=Object(N),Q=0;Q<H;Q++){var o=_[Q];if(z[o]!==ct[o]||!(o in ct))return!1}return!0}function K(N){return N instanceof K?N:this instanceof K?void(this._wrapped=N):new K(N)}function yt(N){return new Uint8Array(N.buffer||N,N.byteOffset||0,ri(N))}K.VERSION="1.13.4",K.prototype.valueOf=K.prototype.toJSON=K.prototype.value=function(){return this._wrapped},K.prototype.toString=function(){return String(this._wrapped)};var tt="[object DataView]";function Et(N,z,_,H){if(N===z)return 0!==N||1/N==1/z;if(null==N||null==z)return!1;if(N!=N)return z!=z;var ct=typeof N;return("function"===ct||"object"===ct||"object"==typeof z)&&function Q(o,c,g,v){o instanceof K&&(o=o._wrapped),c instanceof K&&(c=c._wrapped);var x=Ve.call(o);if(x!==Ve.call(c))return!1;if(ji&&"[object Object]"==x&&tr(o)){if(!tr(c))return!1;x=tt}switch(x){case"[object RegExp]":case"[object String]":return""+o==""+c;case"[object Number]":return+o!=+o?+c!=+c:0==+o?1/+o==1/c:+o==+c;case"[object Date]":case"[object Boolean]":return+o==+c;case"[object Symbol]":return mr.valueOf.call(o)===mr.valueOf.call(c);case"[object ArrayBuffer]":case tt:return Q(yt(o),yt(c),g,v)}var b="[object Array]"===x;if(!b&&cn(o)){if(ri(o)!==ri(c))return!1;if(o.buffer===c.buffer&&o.byteOffset===c.byteOffset)return!0;b=!0}if(!b){if("object"!=typeof o||"object"!=typeof c)return!1;var D=o.constructor,Y=c.constructor;if(D!==Y&&!(sn(D)&&D instanceof D&&sn(Y)&&Y instanceof Y)&&"constructor"in o&&"constructor"in c)return!1}v=v||[];for(var W=(g=g||[]).length;W--;)if(g[W]===o)return v[W]===c;if(g.push(o),v.push(c),b){if((W=o.length)!==c.length)return!1;for(;W--;)if(!Et(o[W],c[W],g,v))return!1}else{var it,gt=m(o);if(W=gt.length,m(c).length!==W)return!1;for(;W--;)if(!jn(c,it=gt[W])||!Et(o[it],c[it],g,v))return!1}return g.pop(),v.pop(),!0}(N,z,_,H)}function ce(N){if(!wn(N))return[];var z=[];for(var _ in N)z.push(_);return Xt&&M(N,z),z}function Oe(N){var z=qe(N);return function(_){if(null==_)return!1;var H=ce(_);if(qe(H))return!1;for(var ct=0;ct<z;ct++)if(!sn(_[N[ct]]))return!1;return N!==Bi||!sn(_[_e])}}var _e="forEach",Me=["clear","delete"],Ln=["get","has","set"],er=Me.concat(_e,Ln),Bi=Me.concat(Ln),He=["add"].concat(Me,_e,"has"),Nn=Zr?Oe(er):C("Map"),In=Zr?Oe(Bi):C("WeakMap"),Br=Zr?Oe(He):C("Set"),Pt=C("WeakSet");function Rr(N){for(var z=m(N),_=z.length,H=Array(_),ct=0;ct<_;ct++)H[ct]=N[z[ct]];return H}function Gn(N){for(var z={},_=m(N),H=0,ct=_.length;H<ct;H++)z[N[_[H]]]=_[H];return z}function Pn(N){var z=[];for(var _ in N)sn(N[_])&&z.push(_);return z.sort()}function es(N,z){return function(_){var H=arguments.length;if(z&&(_=Object(_)),H<2||null==_)return _;for(var ct=1;ct<H;ct++)for(var Q=arguments[ct],o=N(Q),c=o.length,g=0;g<c;g++){var v=o[g];z&&void 0!==_[v]||(_[v]=Q[v])}return _}}var $e=es(ce),fi=es(m),Zs=es(ce,!0);function yi(N){if(!wn(N))return{};if(Fn)return Fn(N);var z=function(){};z.prototype=N;var _=new z;return z.prototype=null,_}function wi(N){return ni(N)?N:[N]}function Ri(N){return K.toPath(N)}function De(N,z){for(var _=z.length,H=0;H<_;H++){if(null==N)return;N=N[z[H]]}return _?N:void 0}function hi(N,z,_){var H=De(N,Ri(z));return gn(H)?_:H}function Yt(N){return N}function cr(N){return N=fi({},N),function(z){return R(z,N)}}function gi(N){return N=Ri(N),function(z){return De(z,N)}}function pn(N,z,_){if(void 0===z)return N;switch(_??3){case 1:return function(H){return N.call(z,H)};case 3:return function(H,ct,Q){return N.call(z,H,ct,Q)};case 4:return function(H,ct,Q,o){return N.call(z,H,ct,Q,o)}}return function(){return N.apply(z,arguments)}}function Bs(N,z,_){return null==N?Yt:sn(N)?pn(N,z,_):wn(N)&&!ni(N)?cr(N):gi(N)}function Rn(N,z){return Bs(N,z,1/0)}function nr(N,z,_){return K.iteratee!==Rn?K.iteratee(N,z):Bs(N,z,_)}function di(){}function vs(N,z){return null==z&&(z=N,N=0),N+Math.floor(Math.random()*(z-N+1))}K.toPath=wi,K.iteratee=Rn;var rr=Date.now||function(){return(new Date).getTime()};function ms(N){var z=function(Q){return N[Q]},_="(?:"+m(N).join("|")+")",H=RegExp(_),ct=RegExp(_,"g");return function(Q){return H.test(Q=null==Q?"":""+Q)?Q.replace(ct,z):Q}}var Rs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ws=ms(Rs),ir=ms(Gn(Rs)),ra=K.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Cr=/(.)^/,_s={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ia=/\\|'|\r|\n|\u2028|\u2029/g;function sa(N){return"\\"+_s[N]}var aa=/^\s*(\w|\$)+\s*$/,oa=0;function ii(N,z,_,H,ct){if(!(H instanceof z))return N.apply(_,ct);var Q=yi(N.prototype),o=N.apply(Q,ct);return wn(o)?o:Q}var bi=We(function(N,z){var _=bi.placeholder,H=function(){for(var ct=0,Q=z.length,o=Array(Q),c=0;c<Q;c++)o[c]=z[c]===_?arguments[ct++]:z[c];for(;ct<arguments.length;)o.push(arguments[ct++]);return ii(N,H,this,this,o)};return H});bi.placeholder=K;var Wi=We(function(N,z,_){if(!sn(N))throw new TypeError("Bind must be called on a function");var H=We(function(ct){return ii(N,H,z,this,_.concat(ct))});return H}),fr=xn(qe);function si(N,z,_,H){if(H=H||[],z||0===z){if(z<=0)return H.concat(N)}else z=1/0;for(var ct=H.length,Q=0,o=qe(N);Q<o;Q++){var c=N[Q];if(fr(c)&&(ni(c)||ie(c)))if(z>1)si(c,z-1,_,H),ct=H.length;else for(var g=0,v=c.length;g<v;)H[ct++]=c[g++];else _||(H[ct++]=c)}return H}var Is=We(function(N,z){var _=(z=si(z,!1,!1)).length;if(_<1)throw new Error("bindAll must be passed function names");for(;_--;){var H=z[_];N[H]=Wi(N[H],N)}return N}),ns=We(function(N,z,_){return setTimeout(function(){return N.apply(null,_)},z)}),Ys=bi(ns,K,1);function Zn(N){return function(){return!N.apply(this,arguments)}}function xi(N,z){var _;return function(){return--N>0&&(_=z.apply(this,arguments)),N<=1&&(z=null),_}}var As=bi(xi,2);function ua(N,z,_){z=nr(z,_);for(var H,ct=m(N),Q=0,o=ct.length;Q<o;Q++)if(z(N[H=ct[Q]],H,N))return H}function Us(N){return function(z,_,H){_=nr(_,H);for(var ct=qe(z),Q=N>0?0:ct-1;Q>=0&&Q<ct;Q+=N)if(_(z[Q],Q,z))return Q;return-1}}var pi=Us(1),Cs=Us(-1);function _i(N,z,_,H){for(var ct=(_=nr(_,H,1))(z),Q=0,o=qe(N);Q<o;){var c=Math.floor((Q+o)/2);_(N[c])<ct?Q=c+1:o=c}return Q}function rs(N,z,_){return function(H,ct,Q){var o=0,c=qe(H);if("number"==typeof Q)N>0?o=Q>=0?Q:Math.max(Q+c,o):c=Q>=0?Math.min(Q+1,c):Q+c+1;else if(_&&Q&&c)return H[Q=_(H,ct)]===ct?Q:-1;if(ct!=ct)return(Q=z(St.call(H,o,c),Gi))>=0?Q+o:-1;for(Q=N>0?o:c-1;Q>=0&&Q<c;Q+=N)if(H[Q]===ct)return Q;return-1}}var la=rs(1,pi,_i),ca=rs(-1,Cs);function zn(N,z,_){var H=(fr(N)?pi:ua)(N,z,_);if(void 0!==H&&-1!==H)return N[H]}function yr(N,z,_){var H,ct;if(z=pn(z,_),fr(N))for(H=0,ct=N.length;H<ct;H++)z(N[H],H,N);else{var Q=m(N);for(H=0,ct=Q.length;H<ct;H++)z(N[Q[H]],Q[H],N)}return N}function Wr(N,z,_){z=nr(z,_);for(var H=!fr(N)&&m(N),ct=(H||N).length,Q=Array(ct),o=0;o<ct;o++){var c=H?H[o]:o;Q[o]=z(N[c],c,N)}return Q}function is(N){var z=function(_,H,ct,Q){var o=!fr(_)&&m(_),c=(o||_).length,g=N>0?0:c-1;for(Q||(ct=_[o?o[g]:g],g+=N);g>=0&&g<c;g+=N){var v=o?o[g]:g;ct=H(ct,_[v],v,_)}return ct};return function(_,H,ct,Q){var o=arguments.length>=3;return z(_,pn(H,Q,4),ct,o)}}var _r=is(1),ai=is(-1);function Yr(N,z,_){var H=[];return z=nr(z,_),yr(N,function(ct,Q,o){z(ct,Q,o)&&H.push(ct)}),H}function pt(N,z,_){z=nr(z,_);for(var H=!fr(N)&&m(N),ct=(H||N).length,Q=0;Q<ct;Q++){var o=H?H[Q]:Q;if(!z(N[o],o,N))return!1}return!0}function sr(N,z,_){z=nr(z,_);for(var H=!fr(N)&&m(N),ct=(H||N).length,Q=0;Q<ct;Q++){var o=H?H[Q]:Q;if(z(N[o],o,N))return!0}return!1}function An(N,z,_,H){return fr(N)||(N=Rr(N)),("number"!=typeof _||H)&&(_=0),la(N,z,_)>=0}var Yi=We(function(N,z,_){var H,ct;return sn(z)?ct=z:(z=Ri(z),H=z.slice(0,-1),z=z[z.length-1]),Wr(N,function(Q){var o=ct;if(!o){if(H&&H.length&&(Q=De(Q,H)),null==Q)return;o=Q[z]}return null==o?o:o.apply(Q,_)})});function Ur(N,z){return Wr(N,gi(z))}function Ui(N,z,_){var H,ct,Q=-1/0,o=-1/0;if(null==z||"number"==typeof z&&"object"!=typeof N[0]&&null!=N)for(var c=0,g=(N=fr(N)?N:Rr(N)).length;c<g;c++)null!=(H=N[c])&&H>Q&&(Q=H);else z=nr(z,_),yr(N,function(v,x,b){((ct=z(v,x,b))>o||ct===-1/0&&Q===-1/0)&&(Q=v,o=ct)});return Q}var Fi=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Fs(N){return N?ni(N)?St.call(N):Qe(N)?N.match(Fi):fr(N)?Wr(N,Yt):Rr(N):[]}function ss(N,z,_){if(null==z||_)return fr(N)||(N=Rr(N)),N[vs(N.length-1)];var H=Fs(N),ct=qe(H);z=Math.max(Math.min(z,ct),0);for(var Q=ct-1,o=0;o<z;o++){var c=vs(o,Q),g=H[o];H[o]=H[c],H[c]=g}return H.slice(0,z)}function as(N,z){return function(_,H,ct){var Q=z?[[],[]]:{};return H=nr(H,ct),yr(_,function(o,c){var g=H(o,c,_);N(Q,o,g)}),Q}}var La=as(function(N,z,_){jn(N,_)?N[_].push(z):N[_]=[z]}),fa=as(function(N,z,_){N[_]=z}),ys=as(function(N,z,_){jn(N,_)?N[_]++:N[_]=1}),to=as(function(N,z,_){N[_?0:1].push(z)},!0);function Vn(N,z,_){return z in _}var Xs=We(function(N,z){var _={},H=z[0];if(null==N)return _;sn(H)?(z.length>1&&(H=pn(H,z[1])),z=ce(N)):(H=Vn,z=si(z,!1,!1),N=Object(N));for(var ct=0,Q=z.length;ct<Q;ct++){var o=z[ct],c=N[o];H(c,o,N)&&(_[o]=c)}return _}),ha=We(function(N,z){var _,H=z[0];return sn(H)?(H=Zn(H),z.length>1&&(_=z[1])):(z=Wr(si(z,!1,!1),String),H=function(ct,Q){return!An(z,Q)}),Xs(N,H,_)});function eo(N,z,_){return St.call(N,0,Math.max(0,N.length-(null==z||_?1:z)))}function hr(N,z,_){return null==N||N.length<1?null==z||_?void 0:[]:null==z||_?N[0]:eo(N,N.length-z)}function Xi(N,z,_){return St.call(N,null==z||_?1:z)}var ws=We(function(N,z){return z=si(z,!0,!0),Yr(N,function(_){return!An(z,_)})}),Pa=We(function(N,z){return ws(N,z)});function bs(N,z,_,H){ti(z)||(H=_,_=z,z=!1),null!=_&&(_=nr(_,H));for(var ct=[],Q=[],o=0,c=qe(N);o<c;o++){var g=N[o],v=_?_(g,o,N):g;z&&!_?(o&&Q===v||ct.push(g),Q=v):_?An(Q,v)||(Q.push(v),ct.push(g)):An(ct,g)||ct.push(g)}return ct}var no=We(function(N){return bs(si(N,!0,!0))});function Vs(N){for(var z=N&&Ui(N,qe).length||0,_=Array(z),H=0;H<z;H++)_[H]=Ur(N,H);return _}var an=We(Vs);function tn(N,z){return N._chain?K(z).chain():z}function za(N){return yr(Pn(N),function(z){var _=K[z]=N[z];K.prototype[z]=function(){var H=[this._wrapped];return se.apply(H,arguments),tn(this,_.apply(K,H))}}),K}yr(["pop","push","reverse","shift","sort","splice","unshift"],function(N){var z=vr[N];K.prototype[N]=function(){var _=this._wrapped;return null!=_&&(z.apply(_,arguments),"shift"!==N&&"splice"!==N||0!==_.length||delete _[0]),tn(this,_)}}),yr(["concat","join","slice"],function(N){var z=vr[N];K.prototype[N]=function(){var _=this._wrapped;return null!=_&&(_=z.apply(_,arguments)),tn(this,_)}});var ka=za({__proto__:null,VERSION:"1.13.4",restArguments:We,isObject:wn,isNull:function(N){return null===N},isUndefined:gn,isBoolean:ti,isElement:function(N){return!(!N||1!==N.nodeType)},isString:Qe,isNumber:Kt,isDate:pe,isRegExp:ds,isError:ps,isSymbol:Xn,isArrayBuffer:Oi,isDataView:tr,isArray:ni,isFunction:sn,isArguments:ie,isFinite:function(N){return!Xn(N)&&Ce(N)&&!isNaN(parseFloat(N))},isNaN:Gi,isTypedArray:cn,isEmpty:function(N){if(null==N)return!0;var z=qe(N);return"number"==typeof z&&(ni(N)||Qe(N)||ie(N))?0===z:0===qe(m(N))},isMatch:R,isEqual:function(N,z){return Et(N,z)},isMap:Nn,isWeakMap:In,isSet:Br,isWeakSet:Pt,keys:m,allKeys:ce,values:Rr,pairs:function(N){for(var z=m(N),_=z.length,H=Array(_),ct=0;ct<_;ct++)H[ct]=[z[ct],N[z[ct]]];return H},invert:Gn,functions:Pn,methods:Pn,extend:$e,extendOwn:fi,assign:fi,defaults:Zs,create:function(N,z){var _=yi(N);return z&&fi(_,z),_},clone:function(N){return wn(N)?ni(N)?N.slice():$e({},N):N},tap:function(N,z){return z(N),N},get:hi,has:function(N,z){for(var _=(z=Ri(z)).length,H=0;H<_;H++){var ct=z[H];if(!jn(N,ct))return!1;N=N[ct]}return!!_},mapObject:function(N,z,_){z=nr(z,_);for(var H=m(N),ct=H.length,Q={},o=0;o<ct;o++){var c=H[o];Q[c]=z(N[c],c,N)}return Q},identity:Yt,constant:Lr,noop:di,toPath:wi,property:gi,propertyOf:function(N){return null==N?di:function(z){return hi(N,z)}},matcher:cr,matches:cr,times:function(N,z,_){var H=Array(Math.max(0,N));z=pn(z,_,1);for(var ct=0;ct<N;ct++)H[ct]=z(ct);return H},random:vs,now:rr,escape:Ws,unescape:ir,templateSettings:ra,template:function(N,z,_){!z&&_&&(z=_),z=Zs({},z,K.templateSettings);var H=RegExp([(z.escape||Cr).source,(z.interpolate||Cr).source,(z.evaluate||Cr).source].join("|")+"|$","g"),ct=0,Q="__p+='";N.replace(H,function(v,x,b,D,Y){return Q+=N.slice(ct,Y).replace(ia,sa),ct=Y+v.length,x?Q+="'+\n((__t=("+x+"))==null?'':_.escape(__t))+\n'":b?Q+="'+\n((__t=("+b+"))==null?'':__t)+\n'":D&&(Q+="';\n"+D+"\n__p+='"),v}),Q+="';\n";var o,c=z.variable;if(c){if(!aa.test(c))throw new Error("variable is not a bare identifier: "+c)}else Q="with(obj||{}){\n"+Q+"}\n",c="obj";Q="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Q+"return __p;\n";try{o=new Function(c,"_",Q)}catch(v){throw v.source=Q,v}var g=function(v){return o.call(this,v,K)};return g.source="function("+c+"){\n"+Q+"}",g},result:function(N,z,_){var H=(z=Ri(z)).length;if(!H)return sn(_)?_.call(N):_;for(var ct=0;ct<H;ct++){var Q=N?.[z[ct]];void 0===Q&&(Q=_,ct=H),N=sn(Q)?Q.call(N):Q}return N},uniqueId:function(N){var z=++oa+"";return N?N+z:z},chain:function(N){var z=K(N);return z._chain=!0,z},iteratee:Rn,partial:bi,bind:Wi,bindAll:Is,memoize:function(N,z){var _=function(H){var ct=_.cache,Q=""+(z?z.apply(this,arguments):H);return jn(ct,Q)||(ct[Q]=N.apply(this,arguments)),ct[Q]};return _.cache={},_},delay:ns,defer:Ys,throttle:function(N,z,_){var H,ct,Q,o,c=0;_||(_={});var g=function(){c=!1===_.leading?0:rr(),H=null,o=N.apply(ct,Q),H||(ct=Q=null)},v=function(){var x=rr();c||!1!==_.leading||(c=x);var b=z-(x-c);return ct=this,Q=arguments,b<=0||b>z?(H&&(clearTimeout(H),H=null),c=x,o=N.apply(ct,Q),H||(ct=Q=null)):H||!1===_.trailing||(H=setTimeout(g,b)),o};return v.cancel=function(){clearTimeout(H),c=0,H=ct=Q=null},v},debounce:function(N,z,_){var H,ct,Q,o,c,g=function(){var x=rr()-ct;z>x?H=setTimeout(g,z-x):(H=null,_||(o=N.apply(c,Q)),H||(Q=c=null))},v=We(function(x){return c=this,Q=x,ct=rr(),H||(H=setTimeout(g,z),_&&(o=N.apply(c,Q))),o});return v.cancel=function(){clearTimeout(H),H=Q=c=null},v},wrap:function(N,z){return bi(z,N)},negate:Zn,compose:function(){var N=arguments,z=N.length-1;return function(){for(var _=z,H=N[z].apply(this,arguments);_--;)H=N[_].call(this,H);return H}},after:function(N,z){return function(){if(--N<1)return z.apply(this,arguments)}},before:xi,once:As,findKey:ua,findIndex:pi,findLastIndex:Cs,sortedIndex:_i,indexOf:la,lastIndexOf:ca,find:zn,detect:zn,findWhere:function(N,z){return zn(N,cr(z))},each:yr,forEach:yr,map:Wr,collect:Wr,reduce:_r,foldl:_r,inject:_r,reduceRight:ai,foldr:ai,filter:Yr,select:Yr,reject:function(N,z,_){return Yr(N,Zn(nr(z)),_)},every:pt,all:pt,some:sr,any:sr,contains:An,includes:An,include:An,invoke:Yi,pluck:Ur,where:function(N,z){return Yr(N,cr(z))},max:Ui,min:function(N,z,_){var H,ct,Q=1/0,o=1/0;if(null==z||"number"==typeof z&&"object"!=typeof N[0]&&null!=N)for(var c=0,g=(N=fr(N)?N:Rr(N)).length;c<g;c++)null!=(H=N[c])&&H<Q&&(Q=H);else z=nr(z,_),yr(N,function(v,x,b){((ct=z(v,x,b))<o||ct===1/0&&Q===1/0)&&(Q=v,o=ct)});return Q},shuffle:function(N){return ss(N,1/0)},sample:ss,sortBy:function(N,z,_){var H=0;return z=nr(z,_),Ur(Wr(N,function(ct,Q,o){return{value:ct,index:H++,criteria:z(ct,Q,o)}}).sort(function(ct,Q){var o=ct.criteria,c=Q.criteria;if(o!==c){if(o>c||void 0===o)return 1;if(o<c||void 0===c)return-1}return ct.index-Q.index}),"value")},groupBy:La,indexBy:fa,countBy:ys,partition:to,toArray:Fs,size:function(N){return null==N?0:fr(N)?N.length:m(N).length},pick:Xs,omit:ha,first:hr,head:hr,take:hr,initial:eo,last:function(N,z,_){return null==N||N.length<1?null==z||_?void 0:[]:null==z||_?N[N.length-1]:Xi(N,Math.max(0,N.length-z))},rest:Xi,tail:Xi,drop:Xi,compact:function(N){return Yr(N,Boolean)},flatten:function(N,z){return si(N,z,!1)},without:Pa,uniq:bs,unique:bs,union:no,intersection:function(N){for(var z=[],_=arguments.length,H=0,ct=qe(N);H<ct;H++){var Q=N[H];if(!An(z,Q)){var o;for(o=1;o<_&&An(arguments[o],Q);o++);o===_&&z.push(Q)}}return z},difference:ws,unzip:Vs,transpose:Vs,zip:an,object:function(N,z){for(var _={},H=0,ct=qe(N);H<ct;H++)z?_[N[H]]=z[H]:_[N[H][0]]=N[H][1];return _},range:function(N,z,_){null==z&&(z=N||0,N=0),_||(_=z<N?-1:1);for(var H=Math.max(Math.ceil((z-N)/_),0),ct=Array(H),Q=0;Q<H;Q++,N+=_)ct[Q]=N;return ct},chunk:function(N,z){if(null==z||z<1)return[];for(var _=[],H=0,ct=N.length;H<ct;)_.push(St.call(N,H,H+=z));return _},mixin:za,default:K});return ka._=ka,ka}()}}]);