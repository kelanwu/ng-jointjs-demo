(self.webpackChunkng_jointjs_demo=self.webpackChunkng_jointjs_demo||[]).push([[720],{720:(Qr,Br,Vt)=>{"use strict";Vt.r(Br),Vt.d(Br,{DemosModule:()=>Wf});var mr={};Vt.r(mr),Vt.d(mr,{ellipseWithEllipse:()=>la,ellipseWithLine:()=>Bs,exists:()=>As,lineWithLine:()=>ri,pathWithEllipse:()=>js,pathWithLine:()=>rs,pathWithPath:()=>ha,pathWithPolygon:()=>ji,pathWithPolyline:()=>hi,pathWithRect:()=>Zn,polygonWithEllipse:()=>ci,polygonWithLine:()=>bi,polygonWithPolygon:()=>fa,polygonWithPolyline:()=>fi,polygonWithRect:()=>hr,polylineWithEllipse:()=>Gs,polylineWithLine:()=>Cs,polylineWithPolyline:()=>wi,polylineWithRect:()=>La,rectWithEllipse:()=>ca,rectWithLine:()=>yi,rectWithRect:()=>Rs});var G={};Vt.r(G),Vt.d(G,{Curve:()=>be,Ellipse:()=>Ht,Line:()=>O,Path:()=>Ut,Point:()=>Y,Polygon:()=>Qn,Polyline:()=>Ie,Rect:()=>Pt,bezier:()=>ni,ellipse:()=>Qe,intersection:()=>Wr,line:()=>Q,normalizeAngle:()=>cr,point:()=>Re,random:()=>$i,rect:()=>On,scale:()=>gs,snapToGrid:()=>Nn,toDeg:()=>$r,toRad:()=>kn,types:()=>ae});var Ir={};Vt.r(Ir),Vt.d(Ir,{absolute:()=>Ct,bottom:()=>tn,ellipse:()=>nu,ellipseSpread:()=>Ia,fn:()=>dt,left:()=>he,line:()=>_t,right:()=>Xe,top:()=>Dn});var ue={};Vt.r(ue),Vt.d(ue,{bottom:()=>qt,inside:()=>Ke,insideOriented:()=>Me,left:()=>It,manual:()=>bt,outside:()=>ce,outsideOriented:()=>te,radial:()=>Jt,radialOriented:()=>Ln,right:()=>Et,top:()=>Bt});var Tt={};Vt.r(Tt),Vt.d(Tt,{BorderedImage:()=>Po,Circle:()=>Ca,Cylinder:()=>wc,DoubleLink:()=>Nc,Ellipse:()=>Do,EmbeddedImage:()=>ru,HeaderedRectangle:()=>gl,Image:()=>Lo,InscribedImage:()=>yc,Link:()=>su,Path:()=>Ic,Polygon:()=>Ac,Polyline:()=>Cc,Rectangle:()=>Aa,ShadowLink:()=>au,TextBlock:()=>xc});var Je={};Vt.r(Je),Vt.d(Je,{manhattan:()=>Ya,metro:()=>wl,normal:()=>ao,oneSide:()=>dl,orthogonal:()=>lu});var Ii={};Vt.r(Ii),Vt.d(Ii,{curve:()=>Ts,jumpover:()=>xr,normal:()=>vu,rounded:()=>Sl,smooth:()=>ls});var Ar={};Vt.r(Ar),Vt.d(Ar,{addClass:()=>Zo,mask:()=>Bl,opacity:()=>Rl,stroke:()=>yu});var qe={};Vt.r(qe),Vt.d(qe,{connectionClosest:()=>Nu,connectionLength:()=>Gl,connectionPerpendicular:()=>xu,connectionRatio:()=>Zc,resolveRef:()=>Fa});var Sr={};Vt.r(Sr),Vt.d(Sr,{anchor:()=>ki,bbox:()=>Uc,boundary:()=>Du,rectangle:()=>_o});var xn={};Vt.r(xn),Vt.d(xn,{bottom:()=>Yo,bottomLeft:()=>Eu,bottomRight:()=>ta,center:()=>Lu,left:()=>Ul,midSide:()=>ea,modelCenter:()=>Vl,perpendicular:()=>Fc,right:()=>Pu,top:()=>Yl,topLeft:()=>Fl,topRight:()=>ku});var Xn={};Vt.r(Xn),Vt.d(Xn,{Circle:()=>Fu,Ellipse:()=>Ls,Generic:()=>Ue,Image:()=>Hu,Path:()=>Ao,Polygon:()=>Vu,Polyline:()=>Xu,Rect:()=>tf,Rhombus:()=>Xa,Text:()=>ef,TextBlock:()=>Jo,TextBlockView:()=>Ju,TextView:()=>Kl});var Tr={};Vt.r(Tr),Vt.d(Tr,{Atomic:()=>nf,Coupled:()=>Qu,Link:()=>ql,Model:()=>Ps});var Kr={};Vt.r(Kr),Vt.d(Kr,{And:()=>ks,Gate:()=>or,Gate11:()=>qu,Gate21:()=>ra,IO:()=>Ku,Input:()=>rf,Nand:()=>$u,Nor:()=>Jr,Not:()=>af,Or:()=>of,Output:()=>$l,Repeater:()=>sf,Wire:()=>lf,Xnor:()=>tl,Xor:()=>uf});var we={};Vt.r(we),Vt.d(we,{BishopBlack:()=>df,BishopWhite:()=>gf,KingBlack:()=>Co,KingWhite:()=>cf,KnightBlack:()=>rc,KnightWhite:()=>nc,PawnBlack:()=>el,PawnWhite:()=>pf,QueenBlack:()=>ec,QueenWhite:()=>tc,RookBlack:()=>hf,RookWhite:()=>ff});var Xt={};Vt.r(Xt),Vt.d(Xt,{Attribute:()=>Ha,Derived:()=>sc,Entity:()=>nl,ISA:()=>vf,IdentifyingRelationship:()=>ic,Key:()=>fs,Line:()=>ac,Multivalued:()=>Ko,Normal:()=>Ma,Relationship:()=>Qo,WeakEntity:()=>yo});var _n={};Vt.r(_n),Vt.d(_n,{Arrow:()=>Cf,EndState:()=>Af,StartState:()=>If,State:()=>mf});var me={};Vt.r(me),Vt.d(me,{Arrow:()=>wf,Member:()=>yf});var _e={};Vt.r(_e),Vt.d(_e,{Link:()=>Mf,Place:()=>bf,PlaceView:()=>xf,Transition:()=>Nf});var An={};Vt.r(An),Vt.d(An,{Abstract:()=>oc,AbstractView:()=>uc,Aggregation:()=>Lf,Association:()=>kf,Class:()=>rl,ClassView:()=>qo,Composition:()=>Pf,EndState:()=>Of,Generalization:()=>Df,Implementation:()=>lc,Interface:()=>Sf,InterfaceView:()=>Tf,StartState:()=>zf,State:()=>Ef,Transition:()=>Ei});var fn={};Vt.r(fn),Vt.d(fn,{basic:()=>Xn,chess:()=>we,devs:()=>Tr,erd:()=>Xt,fsa:()=>_n,logic:()=>Kr,org:()=>me,pn:()=>_e,standard:()=>Tt,uml:()=>An});var qr=Vt(895),C=Vt(944);const{round:Dr,floor:er,PI:Cr}=Math,gs={linear:function(t,e,n){return(n-t[0])/(t[1]-t[0])*(e[1]-e[0])+e[0]||0}},cr=function(t){return t%360+(t<0?360:0)},Nn=function(t,e){return e*Dr(t/e)},$r=function(t){return 180*t/Cr%360},kn=function(t,e){return(t=(e=e||!1)?t:t%360)*Cr/180},$i=function(t,e){if(void 0===e)e=void 0===t?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return er(Math.random()*(e-t+1)+t)},{cos:rn,sin:fr,atan2:ds}=Math,ui=function(t,e){var n=kn(t.y),r=kn(e.y),l=kn(e.x-t.x),f=fr(l)*rn(r),g=rn(n)*fr(r)-fr(n)*rn(r)*rn(l),p=$r(ds(f,g))-22.5;return p<0&&(p+=360),["NE","E","SE","S","SW","W","NW","N"][p=parseInt(p/45)]},nr=function(t,e){var n=t.x,r=t.y;return(n-=e.x)*n+(r-=e.y)*r},Hn=function(t,e){return Math.sqrt(nr(t,e))},ae={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:En,cos:rr,sin:Rr,sqrt:ps,min:Gr,max:zn,atan2:Lr,round:ti,pow:ts,PI:vs}=Math,Y=function(t,e){if(!(this instanceof Y))return new Y(t,e);if("string"==typeof t){var n=t.split(-1===t.indexOf("@")?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=void 0===t?0:t,this.y=void 0===e?0:e};Y.fromPolar=function(t,e,n){n=new Y(n);var r=En(t*rr(e)),s=En(t*Rr(e)),o=cr($r(e));return o<90?s=-s:o<180?(r=-r,s=-s):o<270&&(r=-r),new Y(n.x+r,n.y+s)},Y.random=function(t,e,n,r){return new Y($i(t,e),$i(n,r))},Y.prototype={type:ae.Point,chooseClosest:function(t){var e=t.length;if(1===e)return new Y(t[0]);for(var n=null,r=1/0,s=0;s<e;s++){var o=new Y(t[s]),l=this.squaredDistance(o);l<r&&(n=o,r=l)}return n},adhereToRect:function(t){return t.containsPoint(this)||(this.x=Gr(zn(this.x,t.x),t.x+t.width),this.y=Gr(zn(this.y,t.y),t.y+t.height)),this},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return ui(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new Y(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new Y(this.x-(t||0),this.y-(e||0))},distance:function(t){return Hn(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){return new Y((1-e)*this.x+e*t.x,(1-e)*this.y+e*t.y)},magnitude:function(){return ps(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return En(t.x-this.x)+En(t.y-this.y)},move:function(t,e){var n=kn(new Y(t).theta(this));return this.offset(rr(n)*e,-Rr(n)*e)},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new Y(t).move(this,this.distance(t))},rotate:function(t,e){if(0===e)return this;t=t||new Y(0,0),e=kn(cr(-e));var n=rr(e),r=Rr(e),o=r*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=n*(this.x-t.x)-r*(this.y-t.y)+t.x,this.y=o,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=ts(10,t)}return this.x=ti(this.x*e)/e,this.y=ti(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new Y(n)||new Y(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=Nn(this.x,t),this.y=Nn(this.y,e||t),this},squaredDistance:function(t){return nr(this,t)},theta:function(t){t=new Y(t);var r=Lr(-(t.y-this.y),t.x-this.x);return r<0&&(r=2*vs+r),180*r/vs},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new Y(t)||new Y(0,0);var e=this.x,n=this.y;return this.x=ps((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=kn(t.theta(new Y(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){return new Y(0,0).angleBetween(this,t)}},Y.prototype.translate=Y.prototype.offset;const Re=Y,{max:N,min:T}=Math,O=function(t,e){return this instanceof O?t instanceof O?new O(t.start,t.end):(this.start=new Y(t),void(this.end=new Y(e))):new O(t,e)};O.prototype={type:ae.Line,angle:function(){var t=new Y(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=T(this.start.x,this.end.x),e=T(this.start.y,this.end.y),n=N(this.start.x,this.end.x),r=N(this.start.y,this.end.y);return new Pt(t,e,n-t,r-e)},bearing:function(){return ui(this.start,this.end)},clone:function(){return new O(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new O(this.start,t).vector()),n=T(1,N(0,e/this.squaredLength()));return n!=n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(0!==e.cross(t,n))return!1;var r=this.length();return!(new O(e,t).length()>r||new O(t,n).length()>r)},divideAt:function(t){var e=this.pointAt(t);return[new O(this.start,e),new O(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new O(this.start,e),new O(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof O&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new Y(this.end.x-this.start.x,this.end.y-this.start.y),n=new Y(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,s=new Y(t.start.x-this.start.x,t.start.y-this.start.y),o=s.x*n.y-s.y*n.x,l=s.x*e.y-s.y*e.x;if(0===r||o*r<0||l*r<0)return null;if(r>0){if(o>r||l>r)return null}else if(o<r||l<r)return null;return[new Y(this.start.x+o*e.x/r,this.start.y+o*e.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Hn(this.start,this.end)},midpoint:function(){return new Y((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:r}=e,s=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,t),r.move(s,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,r=!0;t<0&&(r=!1,t=-t);var s=this.length();return t>=s?r?n.clone():e.clone():this.pointAt((r?t:s-t)/s)},pointOffset:function(t){t=new Y(t);var e=this.start,n=this.end;return((n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x))/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return nr(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAt(t),s=new O(e,n);return s.translate(r.x-e.x,r.y-e.y),s},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAtLength(t),s=new O(e,n);return s.translate(r.x-e.x,r.y-e.y),s},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new Y(this.end.x-this.start.x,this.end.y-this.start.y)}},O.prototype.intersection=O.prototype.intersect;const Q=O,{sqrt:yt,round:wt,pow:Yt}=Math,Ht=function(t,e,n){return this instanceof Ht?t instanceof Ht?new Ht(new Y(t.x,t.y),t.a,t.b):(t=new Y(t),this.x=t.x,this.y=t.y,this.a=e,void(this.b=n)):new Ht(t,e,n)};Ht.fromRect=function(t){return t=new Pt(t),new Ht(t.center(),t.width/2,t.height/2)},Ht.prototype={type:ae.Ellipse,bbox:function(){return new Pt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new Y(this.x,this.y)},clone:function(){return new Ht(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,r=t.end,s=this.a,o=this.b,l=t.vector(),f=n.difference(new Y(this)),g=new Y(l.x/(s*s),l.y/(o*o)),m=new Y(f.x/(s*s),f.y/(o*o)),A=l.dot(g),p=l.dot(m),R=p*p-A*(f.dot(m)-1);if(R<0)return null;if(R>0){var j=yt(R),tt=(-p-j)/A,nt=(-p+j)/A;if((tt<0||1<tt)&&(nt<0||1<nt))return null;0<=tt&&tt<=1&&e.push(n.lerp(r,tt)),0<=nt&&nt<=1&&e.push(n.lerp(r,nt))}else{var ht=-p/A;if(!(0<=ht&&ht<=1))return null;e.push(n.lerp(r,ht))}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new Y(t),e&&t.rotate(new Y(this.x,this.y),e);var s,n=t.x-this.x,r=t.y-this.y;if(0===n)return s=this.bbox().pointNearestToPoint(t),e?s.rotate(new Y(this.x,this.y),-e):s;var o=r/n,m=yt(1/(1/(this.a*this.a)+o*o/(this.b*this.b)));return s=new Y(this.x+(m=n<0?-m:m),this.y+o*m),e?s.rotate(new Y(this.x,this.y),-e):s},normalizedDistance:function(t){var e=t.x,n=t.y,r=this.a,s=this.b,o=this.x,l=this.y;return(e-o)*(e-o)/(r*r)+(n-l)*(n-l)/(s*s)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=Yt(10,t)}return this.x=wt(this.x*e)/e,this.y=wt(this.y*e)/e,this.a=wt(this.a*e)/e,this.b=wt(this.b*e)/e,this},tangentTheta:function(t){var p,L,n=t.x,r=t.y,s=this.a,o=this.b,l=this.bbox().center(),f=l.x,g=l.y;return n>l.x+s/2||n<l.x-s/2?L=s*s/(n-f)-s*s*(r-g)*((p=n>l.x?r-30:r+30)-g)/(o*o*(n-f))+f:p=o*o/(r-g)-o*o*(n-f)*((L=r>l.y?n+30:n-30)-f)/(s*s*(r-g))+g,new Y(L,p).theta(t)},toString:function(){return new Y(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Qe=Ht,{abs:Ge,cos:hn,sin:Te,min:Cn,max:Jn,round:ei,pow:gn}=Math,Pt=function(t,e,n,r){if(!(this instanceof Pt))return new Pt(t,e,n,r);Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.width=void 0===n?0:n,this.height=void 0===r?0:r};Pt.fromEllipse=function(t){return t=new Ht(t),new Pt(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},Pt.fromPointUnion=function(...t){if(0===t.length)return null;const e=new Y;let n,r,s,o;n=r=1/0,s=o=-1/0;for(let l=0;l<t.length;l++){e.update(t[l]);const f=e.x,g=e.y;f<n&&(n=f),f>s&&(s=f),g<r&&(r=g),g>o&&(o=g)}return new Pt(n,r,s-n,o-r)},Pt.fromRectUnion=function(...t){if(0===t.length)return null;const e=new Pt;let n,r,s,o;n=r=1/0,s=o=-1/0;for(let l=0;l<t.length;l++){e.update(t[l]);const f=e.x,g=e.y,m=f+e.width,A=g+e.height;f<n&&(n=f),m>s&&(s=m),g<r&&(r=g),A>o&&(o=A)}return new Pt(n,r,s-n,o-r)},Pt.prototype={type:ae.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,r=kn(t),s=Ge(Te(r)),o=Ge(hn(r)),l=e*o+n*s,f=e*s+n*o;return this.x+=(e-l)/2,this.y+=(n-f)/2,this.width=l,this.height=f,this},bottomLeft:function(){return new Y(this.x,this.y+this.height)},bottomLine:function(){return new O(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new Y(this.x+this.width/2,this.y+this.height)},center:function(){return new Y(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Pt(this)},containsPoint:function(t){return(t=new Y(t)).x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new Pt(this).normalize(),n=new Pt(t).normalize(),r=e.width,s=e.height,o=n.width,l=n.height;if(!(r&&s&&o&&l))return!1;var f=e.x,g=e.y,m=n.x,A=n.y;return o+=m,r+=f,l+=A,s+=g,f<=m&&o<=r&&g<=A&&l<=s},corner:function(){return new Y(this.x+this.width,this.y+this.height)},equals:function(t){var e=new Pt(this).normalize(),n=new Pt(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),r=t.origin(),s=t.corner();if(s.x<=e.x||s.y<=e.y||r.x>=n.x||r.y>=n.y)return null;var o=Jn(e.x,r.x),l=Jn(e.y,r.y);return new Pt(o,l,Cn(n.x,s.x)-o,Cn(n.y,s.y)-l)},intersectionWithLine:function(t){var o,l,e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],r=[],s=[],f=n.length;for(l=0;l<f;l++)null!==(o=t.intersect(n[l]))&&s.indexOf(o.toString())<0&&(r.push(o),s.push(o.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new Y(t);var r,n=new Y(this.x+this.width/2,this.y+this.height/2);e&&t.rotate(n,e);for(var s=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new O(n,t),l=s.length-1;l>=0;--l){var f=s[l].intersection(o);if(null!==f){r=f;break}}return r&&e&&r.rotate(n,-e),r},leftLine:function(){return new O(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new Y(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new Pt(t),e||(e=t.center());var n,r,s,o,l,f,g,m,A=e.x,p=e.y;n=r=s=o=l=f=g=m=1/0;var L=t.topLeft();L.x<A&&(n=(this.x-A)/(L.x-A)),L.y<p&&(l=(this.y-p)/(L.y-p));var R=t.bottomRight();R.x>A&&(r=(this.x+this.width-A)/(R.x-A)),R.y>p&&(f=(this.y+this.height-p)/(R.y-p));var j=t.topRight();j.x>A&&(s=(this.x+this.width-A)/(j.x-A)),j.y<p&&(g=(this.y-p)/(j.y-p));var tt=t.bottomLeft();return tt.x<A&&(o=(this.x-A)/(tt.x-A)),tt.y>p&&(m=(this.y+this.height-p)/(tt.y-p)),{sx:Cn(n,r,s,o),sy:Cn(l,f,g,m)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return Cn(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this},offset:function(t,e){return Y.prototype.offset.call(this,t,e)},origin:function(){return new Y(this.x,this.y)},pointNearestToPoint:function(t){if(t=new Y(t),this.containsPoint(t))switch(this.sideNearestToPoint(t)){case"right":return new Y(this.x+this.width,t.y);case"left":return new Y(this.x,t.y);case"bottom":return new Y(t.x,this.y+this.height);case"top":return new Y(t.x,this.y)}return t.adhereToRect(this)},rightLine:function(){return new O(this.topRight(),this.bottomRight())},rightMiddle:function(){return new Y(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=gn(10,t)}return this.x=ei(this.x*e)/e,this.y=ei(this.y*e)/e,this.width=ei(this.width*e)/e,this.height=ei(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new Y(t);var n=this.x+this.width-t.x,r=t.y-this.y,o=t.x-this.x,l="left";return n<o&&(o=n,l="right"),r<o&&(o=r,l="top"),this.y+this.height-t.y<o&&(l="bottom"),l},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),r=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new O(this.topLeft(),this.topRight())},topMiddle:function(){return new Y(this.x+this.width/2,this.y)},topRight:function(){return new Y(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return Pt.fromRectUnion(this,t)},update:function(t,e,n,r){return Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this}},Pt.prototype.bottomRight=Pt.prototype.corner,Pt.prototype.topLeft=Pt.prototype.origin,Pt.prototype.translate=Pt.prototype.offset;const On=Pt;function Pr(t){if(""===(t=t.trim()))return[];const e=[],n=t.split(/\s*,\s*|\s+/),r=n.length;for(let s=0;s<r;s+=2)e.push({x:+n[s],y:+n[s+1]});return e}function Ai(t){const e=t.length;if(0===e)return[];const n=[];for(let r=0;r<e;r++){const s=t[r].clone();n.push(s)}return n}function kr(t){const{abs:e}=Math;var n,r,o,s=t.length;if(0===s)return[];for(n=0;n<s;n++)(void 0===o||t[n].y<o.y||t[n].y===o.y&&t[n].x>o.x)&&(o=t[n]);var l=[];for(n=0;n<s;n++){var f=o.theta(t[n]);0===f&&(f=360),l.push([t[n],n,f])}l.sort(function(kt,Rt){var zt=kt[2]-Rt[2];return 0===zt&&(zt=Rt[1]-kt[1]),zt}),l.length>2&&l.unshift(l[l.length-1]);for(var L,R,j,tt,nt,ht,A={},p=[];0!==l.length;)if(R=(L=l.pop())[0],!A.hasOwnProperty(L[0]+"@@"+L[1]))for(var ft=!1;!ft;)if(p.length<2)p.push(L),ft=!0;else{tt=(j=p.pop())[0];var y=(ht=(nt=p.pop())[0]).cross(tt,R);if(y<0)p.push(nt),p.push(j),p.push(L),ft=!0;else if(0===y){var P=tt.angleBetween(ht,R);e(P-180)<1e-10||tt.equals(R)||ht.equals(tt)?(A[j[0]+"@@"+j[1]]=tt,p.push(nt)):e((P+1)%360-1)<1e-10&&(p.push(nt),l.push(j))}else A[j[0]+"@@"+j[1]]=tt,p.push(nt)}p.length>2&&p.pop();var Z,H=-1;for(r=p.length,n=0;n<r;n++){var st=p[n][1];(void 0===Z||st<Z)&&(Z=st,H=n)}var ut=[];if(H>0){var vt=p.slice(H),Dt=p.slice(0,H);ut=vt.concat(Dt)}else ut=p;var St=[];for(r=ut.length,n=0;n<r;n++)St.push(ut[n][0]);return St}const Ie=function(t){return this instanceof Ie?"string"==typeof t?new Ie.parse(t):void(this.points=Array.isArray(t)?t.map(Y):[]):new Ie(t)};Ie.parse=function(t){return new Ie(Pr(t))},Ie.fromRect=function(t){return new Ie([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])},Ie.prototype={type:ae.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,s=this.points,o=s.length;if(0===o)return null;for(var l=0;l<o;l++){var f=s[l],g=f.x,m=f.y;g<t&&(t=g),g>e&&(e=g),m<n&&(n=m),m>r&&(r=m)}return new Pt(t,n,e-t,r-n)},clone:function(){return new Ie(Ai(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(0===n||1===n)return 0;for(var r,s=1/0,o=0,l=n-1,f=0;f<l;f++){var g=new O(e[f],e[f+1]),m=g.length(),A=g.closestPointNormalizedLength(t),L=g.pointAt(A).squaredDistance(t);L<s&&(s=L,r=o+A*m),o+=m}return r},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(0===e)return 0;var n=this.length();return 0===n?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(0===n)return!1;for(var r=t.x,s=t.y,o=n-1,l=0,f=0,g=new O,m=new O,A=new Y;l<n;l++){var p=e[o],L=e[l];if(t.equals(p)||(g.start=p,g.end=L,g.containsPoint(t)))return!0;if(s<=p.y&&s>L.y||s>p.y&&s<=L.y){var R=p.x-r>L.x-r?p.x-r:L.x-r;R>=0&&(A.x=r+R,A.y=s,m.start=t,m.end=A,g.intersect(m)&&f++)}o=l}return f%2==1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Ie(kr(this.points))},equals:function(t){if(!t)return!1;var e=this.points,r=e.length;if(t.points.length!==r)return!1;for(var s=0;s<r;s++)if(!e[s].equals(t.points[s]))return!1;return!0},intersectionWithLine:function(t){for(var e=new O(t),n=[],r=this.lengthPoints(),s=new O,o=0,l=r.length-1;o<l;o++){s.start=r[o],s.end=r[o+1];var f=e.intersectionWithLine(s);f&&n.push(f[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(0===e)return!1;for(var n=new O,r=e-1,s=0;s<r;s++)if(n.start=t[s],n.end=t[s+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(0===e)return 0;for(var n=0,r=e-1,s=0;s<r;s++)n+=t[s].distance(t[s+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(0===n)return null;if(1===n||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var r=this.length();return this.pointAtLength(r*t)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(0===n)return null;if(1===n)return e[0].clone();var r=!0;t<0&&(r=!1,t=-t);for(var s=0,o=n-1,l=0;l<o;l++){var f=r?l:o-1-l,g=e[f],m=e[f+1],A=new O(g,m),p=g.distance(m);if(t<=s+p)return A.pointAtLength((r?1:-1)*(t-s));s+=p}return(r?e[n-1]:e[0]).clone()},round:function(t){for(var e=this.points,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.points,s=r.length,o=0;o<s;o++)r[o].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const o=r+1,g=e[o];new O(e[r],e[r+2]).closestPoint(g).distance(g)<=n?e.splice(o,1):r+=1}return this},tangentAt:function(t){var n=this.lengthPoints().length;if(0===n||1===n)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length();return this.tangentAtLength(r*t)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(0===n||1===n)return null;var r=!0;t<0&&(r=!1,t=-t);for(var s,o=0,l=n-1,f=0;f<l;f++){var g=r?f:l-1-f,m=e[g],A=e[g+1],p=new O(m,A),L=m.distance(A);if(p.isDifferentiable()){if(t<=o+L)return p.tangentAtLength((r?1:-1)*(t-o));s=p}o+=L}return s?s.tangentAt(r?1:0):null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,r=n.length,s=0;s<r;s++)n[s].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(0===e)return"";for(var n="",r=0;r<e;r++){var s=t[r];n+=s.x+","+s.y+" "}return n.trim()}},Object.defineProperty(Ie.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(Ie.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points.length;return 0===e?null:this.points[e-1]}});const{abs:Mn,sqrt:ms,min:oa,max:Ri,pow:es}=Math,be=function(t,e,n,r){return this instanceof be?t instanceof be?new be(t.start,t.controlPoint1,t.controlPoint2,t.end):(this.start=new Y(t),this.controlPoint1=new Y(e),this.controlPoint2=new Y(n),void(this.end=new Y(r))):new be(t,e,n,r)};function jr(t){var e,n,r=[];for(n=arguments.length,e=1;e<n;e++)r.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var s=Object.create(t);for(n=r.length,e=0;e<n;e++){var l,f,o=r[e];for(f in o)o.hasOwnProperty(f)&&(delete s[f],l=Object.getOwnPropertyDescriptor(o,f),Object.defineProperty(s,f,l))}return s}be.throughPoints=function(){function e(n){var r=n.length,s=[],o=[],l=2;s[0]=n[0]/l;for(var f=1;f<r;f++)o[f]=1/l,s[f]=(n[f]-s[f-1])/(l=(f<r-1?4:3.5)-o[f]);for(f=1;f<r;f++)s[r-f-1]-=o[r-f]*s[r-f];return s}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function t(n){var l,r=[],s=[],o=n.length-1;if(1==o)return r[0]=new Y((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),s[0]=new Y(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,s];var f=[];for(l=1;l<o-1;l++)f[l]=4*n[l].x+2*n[l+1].x;f[0]=n[0].x+2*n[1].x,f[o-1]=(8*n[o-1].x+n[o].x)/2;var g=e(f);for(l=1;l<o-1;++l)f[l]=4*n[l].y+2*n[l+1].y;f[0]=n[0].y+2*n[1].y,f[o-1]=(8*n[o-1].y+n[o].y)/2;var m=e(f);for(l=0;l<o;l++)r.push(new Y(g[l],m[l])),s.push(l<o-1?new Y(2*n[l+1].x-g[l+1],2*n[l+1].y-m[l+1]):new Y((n[o].x+g[o-1])/2,(n[o].y+m[o-1])/2));return[r,s]}(n),s=[],o=r[0].length,l=0;l<o;l++){var f=new Y(r[0][l].x,r[0][l].y),g=new Y(r[1][l].x,r[1][l].y);s.push(new be(n[l],f,g,n[l+1]))}return s}}(),be.prototype={type:ae.Curve,bbox:function(){for(var tt,nt,ht,ft,y,S,P,Z,t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,s=t.x,o=t.y,l=e.x,f=e.y,g=n.x,m=n.y,A=r.x,p=r.y,L=new Array,R=new Array,j=[new Array,new Array],H=0;H<2;++H)if(0===H?(nt=6*s-12*l+6*g,tt=-3*s+9*l-9*g+3*A,ht=3*l-3*s):(nt=6*o-12*f+6*m,tt=-3*o+9*f-9*m+3*p,ht=3*f-3*o),Mn(tt)<1e-12){if(Mn(nt)<1e-12)continue;0<(ft=-ht/nt)&&ft<1&&R.push(ft)}else Z=ms(P=nt*nt-4*ht*tt),!(P<0)&&(0<(y=(-nt+Z)/(2*tt))&&y<1&&R.push(y),0<(S=(-nt-Z)/(2*tt))&&S<1&&R.push(S));for(var vt,Dt,St,st=R.length,ut=st;st--;)j[0][st]=Dt=(vt=1-(ft=R[st]))*vt*vt*s+3*vt*vt*ft*l+3*vt*ft*ft*g+ft*ft*ft*A,j[1][st]=St=vt*vt*vt*o+3*vt*vt*ft*f+3*vt*ft*ft*m+ft*ft*ft*p,L[st]={X:Dt,Y:St};R[ut]=0,R[ut+1]=1,L[ut]={X:s,Y:o},L[ut+1]={X:A,Y:p},j[0][ut]=s,j[1][ut]=o,j[0][ut+1]=A,j[1][ut+1]=p,R.length=ut+2,j[0].length=ut+2,j[1].length=ut+2,L.length=ut+2;var kt=oa.apply(null,j[0]),Rt=oa.apply(null,j[1]),zt=Ri.apply(null,j[0]),Qt=Ri.apply(null,j[1]);return new Pt(kt,Rt,zt-kt,Qt-Rt)},clone:function(){return new be(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions};return this.lengthAtT(this.closestPointT(t,s),s)},closestPointNormalizedLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions},o=this.closestPointLength(t,s);if(!o)return 0;var l=this.length(s);return 0===l?0:o/l},closestPointT:function(t,e){for(var s,o,l,f,g,m,A,n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,r=void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions,p=r.length,L=p?1/p:0,R=0;R<p;R++){var j=r[R],tt=j.start.distance(t),nt=j.end.distance(t),ht=tt+nt;(!A||ht<A)&&(s=j,o=R*L,l=(R+1)*L,f=tt,g=nt,m=j.start.distance(j.end),A=ht)}for(var ft=es(10,-n);;){var y=f?Mn(f-g)/f:0,S=g?Mn(f-g)/g:0;if(y<ft||S<ft||!f||f<m*ft||!g||g<m*ft)return f<=g?o:l;var ut=s.divide(.5);L/=2;var vt=ut[0].start.distance(t),Dt=ut[0].end.distance(t),St=vt+Dt,kt=ut[1].start.distance(t),Rt=ut[1].end.distance(t);St<=kt+Rt?(s=ut[0],l-=L,f=vt,g=Dt):(s=ut[1],o+=L,f=kt,g=Rt)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){return this.toPolyline(e).containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return[new be(e,e,e,e),new be(e,n,r,s)];if(t>=1)return[new be(e,n,r,s),new be(s,s,s,s)];var o=this.getSkeletonPoints(t),g=o.divider,m=o.dividerControlPoint1,A=o.dividerControlPoint2;return[new be(e,o.startControlPoint1,o.startControlPoint2,g),new be(g,m,A,s)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};var o=new O(e,n).pointAt(t),l=new O(n,r).pointAt(t),f=new O(r,s).pointAt(t),g=new O(o,l).pointAt(t),m=new O(l,f).pointAt(t);return{startControlPoint1:o,startControlPoint2:g,divider:new O(g,m).pointAt(t),dividerControlPoint1:m,dividerControlPoint2:f}},getSubdivisions:function(t){var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,n=[new be(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===e)return n;for(var r=this.endpointDistance(),s=es(10,-e),o=0;;){o+=1;for(var l=[],f=n.length,g=0;g<f;g++){var A=n[g].divide(.5);l.push(A[0],A[1])}for(var p=0,L=l.length,R=0;R<L;R++)p+=l[R].endpointDistance();if(o>1&&(0!==p?(p-r)/p:0)<s)return l;n=l,r=p}},isDifferentiable:function(){var e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(e)&&e.equals(n)&&n.equals(r))},length:function(t){for(var n=void 0===(t=t||{}).subdivisions?this.getSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.subdivisions,r=0,s=n.length,o=0;o<s;o++)r+=n[o].endpointDistance();return r},lengthAtT:function(t,e){if(t<=0)return 0;var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,s=e.divider,o=new O(n,e.dividerControlPoint1);return o.translate(s.x-n.x,s.y-n.y),o},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions},o=this.length(s);return this.tAtLength(o*t,s)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t);for(var l,f,g,m,A,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.subdivisions?this.getSubdivisions({precision:r}):e.subdivisions,o={precision:r,subdivisions:s},p=0,L=s.length,R=1/L,j=0;j<L;j++){var tt=n?j:L-1-j,nt=s[j],ht=nt.endpointDistance();if(t<=p+ht){l=nt,f=tt*R,g=(tt+1)*R,m=n?t-p:ht+p-t,A=n?ht+p-t:t-p;break}p+=ht}if(!l)return n?1:0;for(var ft=this.length(o),y=es(10,-r);;){if((0!==ft?m/ft:0)<y)return f;if((0!==ft?A/ft:0)<y)return g;var P,Z,H=l.divide(.5);R/=2;var st=H[0].endpointDistance(),ut=H[1].endpointDistance();m<=st?(l=H[0],g-=R,Z=st-(P=m)):(l=H[1],f+=R,Z=ut-(P=m-st)),m=P,A=Z}},toPoints:function(t){for(var n=void 0===(t=t||{}).subdivisions?this.getSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.subdivisions,r=[n[0].start.clone()],s=n.length,o=0;o<s;o++)r.push(n[o].end.clone());return r},toPolyline:function(t){return new Ie(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}},be.prototype.divide=be.prototype.divideAtT;const Ut=function(t){if(!(this instanceof Ut))return new Ut(t);if("string"==typeof t)return new Ut.parse(t);var e,n;if(this.segments=[],t)if(Array.isArray(t)&&0!==t.length)if(n=(t=t.reduce(function(f,g){return f.concat(g)},[])).length,t[0].isSegment)for(e=0;e<n;e++)this.appendSegment(t[e]);else{var s=null;for(e=0;e<n;e++){var o=t[e];if(!(o instanceof O||o instanceof be))throw new Error("Cannot construct a path segment from the provided object.");0===e&&this.appendSegment(Ut.createSegment("M",o.start)),s&&!s.end.equals(o.start)&&this.appendSegment(Ut.createSegment("M",o.start)),o instanceof O?this.appendSegment(Ut.createSegment("L",o.end)):o instanceof be&&this.appendSegment(Ut.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),s=o}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof O)this.appendSegment(Ut.createSegment("M",t.start)),this.appendSegment(Ut.createSegment("L",t.end));else if(t instanceof be)this.appendSegment(Ut.createSegment("M",t.start)),this.appendSegment(Ut.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else{if(!(t instanceof Ie))throw new Error("Cannot construct a path from the provided object.");if(!t.points||0===t.points.length)return;for(n=t.points.length,e=0;e<n;e++){this.appendSegment(Ut.createSegment(0===e?"M":"L",t.points[e]))}}};function Er(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}Ut.parse=function(t){if(!t)return new Ut;for(var e=new Ut,r=t.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),s=r.length,o=0;o<s;o++){var g=r[o].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),m=Ut.createSegment.apply(this,g);e.appendSegment(m)}return e},Ut.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=Ut.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,s=1;s<r;s++)n.push(arguments[s]);return Er(e,n)},Ut.prototype={type:ae.Path,appendSegment:function(t){var r,e=this.segments,n=e.length,s=0!==n?e[n-1]:null;if(Array.isArray(t)){if(!(t=t.reduce(function(m,A){return m.concat(A)},[]))[0].isSegment)throw new Error("Segments required.");for(var l=t.length,f=0;f<l;f++)r=this.prepareSegment(t[f],s,null),e.push(r),s=r}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,s,null),e.push(r)}},bbox:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n,r=0;r<e;r++){var s=t[r];if(s.isVisible){var o=s.bbox();n=n?n.union(o):o}}if(n)return n;var l=t[e-1];return new Pt(l.end.x,l.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new Ut,r=0;r<e;r++){var s=t[r].clone();n.appendSegment(s)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},o=this.closestPointT(t,s);return o?this.lengthAtT(o,s):0},closestPointNormalizedLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},o=this.closestPointLength(t,s);if(0===o)return 0;var l=this.length(s);return 0===l?0:o/l},closestPointT:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;for(var l,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,o=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,f=1/0,g=0;g<r;g++){var m=n[g];if(m.isVisible){var p=m.closestPointT(t,{precision:s,subdivisions:o[g]}),L=m.pointAtT(p),R=new O(L,t).squaredLength();R<f&&(l={segmentIndex:g,value:p},f=R)}}return l||{segmentIndex:r-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;for(var l,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,o=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,f=1/0,g=0;g<r;g++){var m=n[g],A=o[g];if(m.isDifferentiable()){var p=m.closestPointT(t,{precision:s,subdivisions:A}),L=m.pointAtT(p),R=new O(L,t).squaredLength();R<f&&(l=m.tangentAtT(p),f=R)}}return l||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var r=n.length,s=0,o=0;o<r;o++)n[o].containsPoint(t)&&s++;return s%2==1},divideAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},f=this.length(l);return this.divideAtLength(f*t,l)},divideAtLength:function(t,e){var n=this.segments.length;if(0===n)return null;var r=!0;t<0&&(r=!1,t=-t);var l,f,m,A,p,L,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,o=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,g=0;for(l=0;l<n;l++){var j=r?l:n-1-l;f=this.getSegment(j);var tt=o[j],nt=f.length({precision:s,subdivisions:tt});if(f.isDifferentiable()&&(p=f,L=j,t<=g+nt)){A=j,m=f.divideAtLength((r?1:-1)*(t-g),{precision:s,subdivisions:tt});break}g+=nt}if(!p)return null;m||(A=L,m=p.divideAtT(r?1:0));var ht=this.clone();ht.replaceSegment(A,m);var ft=A,y=A+1,S=A+2;m[0].isDifferentiable()||(ht.removeSegment(ft),y-=1,S-=1);var P=ht.getSegment(y).start;ht.insertSegment(y,Ut.createSegment("M",P)),S+=1,m[1].isDifferentiable()||(ht.removeSegment(S-1),S-=1);var Z=S-ft-1;for(l=S;l<ht.segments.length;l++){var H=this.getSegment(l-Z);if("Z"===(f=ht.getSegment(l)).type&&!H.subpathStartSegment.end.equals(f.subpathStartSegment.end)){var st=Ut.createSegment("L",H.end);ht.replaceSegment(l,st)}}return[new Ut(ht.segments.slice(0,y)),new Ut(ht.segments.slice(y))]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var o=e[s],l=n[s];if(o.type!==l.type||!o.equals(l))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(0===n)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){for(var e=this.segments,n=e.length,r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=[],o=0;o<n;o++){var f=e[o].getSubdivisions({precision:r});s.push(f)}return s},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,r=[];for(let s=0;s<n;s++){const o=e[s];o.isSubpathStart?r.push(new Ut(o)):r[r.length-1].appendSegment(o)}return r},insertSegment:function(t,e){var n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var s,o=null,l=null;if(0!==r&&(l=t>=1?(o=n[t-1]).nextSegment:n[0]),Array.isArray(e)){if(!(e=e.reduce(function(A,p){return A.concat(p)},[]))[0].isSegment)throw new Error("Segments required.");for(var f=e.length,g=0;g<f;g++)s=this.prepareSegment(e[g],o,l),n.splice(t+g,0,s),o=s}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,o,l),n.splice(t,0,s)}},intersectionWithLine:function(t,e){var n=null,r=this.toPolylines(e);if(!r)return null;for(var s=0,o=r.length;s<o;s++){var f=t.intersect(r[s]);f&&(n||(n=[]),Array.isArray(f)?Array.prototype.push.apply(n,f):n.push(f))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++)if(t[n].isDifferentiable())return!0;return!1},isValid:function(){var t=this.segments;return 0===t.length||"M"===t[0].type},length:function(t){var e=this.segments,n=e.length;if(0===n)return 0;for(var s=void 0===(t=t||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.segmentSubdivisions,o=0,l=0;l<n;l++)o+=e[l].length({subdivisions:s[l]});return o},lengthAtT:function(t,e){var n=this.segments,r=n.length;if(0===r)return 0;var s=t.segmentIndex;if(s<0)return 0;var o=t.value;s>=r?(s=r-1,o=1):o<0?o=0:o>1&&(o=1);for(var l=void 0===(e=e||{}).precision?this.PRECISION:e.precision,f=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:l}):e.segmentSubdivisions,m=0,A=0;A<s;A++){var p=n[A];m+=p.length({precisison:l,subdivisions:f[A]})}return m+(p=n[s]).lengthAtT(o,{precisison:l,subdivisions:f[s]})},pointAt:function(t,e){if(0===this.segments.length)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},f=this.length(l);return this.pointAtLength(f*t,l)},pointAtLength:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;if(0===t)return this.start.clone();var s=!0;t<0&&(s=!1,t=-t);for(var f,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,g=0,m=0;m<r;m++){var A=s?m:r-1-m,p=n[A],L=l[A],R=p.length({precision:o,subdivisions:L});if(p.isVisible){if(t<=g+R)return p.pointAtLength((s?1:-1)*(t-g),{precision:o,subdivisions:L});f=p}g+=R}return f?s?f.end:f.start:n[r-1].end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(0===n)return null;var r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].pointAtT(s)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r&&this.updateSubpathStartSegment(r),t},removeSegment:function(t){var e=this.segments,n=e.length;if(0===n)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r=e.splice(t,1)[0],s=r.previousSegment,o=r.nextSegment;s&&(s.nextSegment=o),o&&(o.previousSegment=s),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(t,e){var n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var s,o=n[t],l=o.previousSegment,f=o.nextSegment,g=o.isSubpathStart;if(Array.isArray(e)){if(!(e=e.reduce(function(L,R){return L.concat(R)},[]))[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var m=e.length,A=0;A<m;A++)s=this.prepareSegment(e[A],l,f),n.splice(t+A,0,s),l=s,g&&s.isSubpathStart&&(g=!1)}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,l,f),n.splice(t,1,s),g&&s.isSubpathStart&&(g=!1)}g&&f&&this.updateSubpathStartSegment(f)},round:function(t){for(var e=this.segments,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.segments,s=r.length,o=0;o<s;o++)r[o].scale(t,e,n);return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},f=this.length(l);return this.segmentIndexAtLength(f*t,l)},segmentIndexAtLength:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;var s=!0;t<0&&(s=!1,t=-t);for(var o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,f=null,g=0,m=0;m<r;m++){var A=s?m:r-1-m,p=n[A],R=p.length({precision:o,subdivisions:l[A]});if(p.isVisible){if(t<=g+R)return A;f=A}g+=R}return f},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l={precision:s,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions},f=this.length(l);return this.tangentAtLength(f*t,l)},tangentAtLength:function(t,e){var n=this.segments,r=n.length;if(0===r)return null;var s=!0;t<0&&(s=!1,t=-t);for(var f,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,g=0,m=0;m<r;m++){var A=s?m:r-1-m,p=n[A],L=l[A],R=p.length({precision:o,subdivisions:L});if(p.isDifferentiable()){if(t<=g+R)return p.tangentAtLength((s?1:-1)*(t-g),{precision:o,subdivisions:L});f=p}g+=R}return f?f.tangentAtT(s?1:0):null},tangentAtT:function(t){var e=this.segments,n=e.length;if(0===n)return null;var r=t.segmentIndex;if(r<0)return e[0].tangentAtT(0);if(r>=n)return e[n-1].tangentAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].tangentAtT(s)},toPoints:function(t){var e=this.segments,n=e.length;if(0===n)return null;for(var s=void 0===(t=t||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===t.precision?this.PRECISION:t.precision}):t.segmentSubdivisions,o=[],l=[],f=0;f<n;f++){var g=e[f];if(g.isVisible){var m=s[f];if(m.length>0){var A=m.map(function(p){return p.start});Array.prototype.push.apply(l,A)}else l.push(g.start)}else l.length>0&&(l.push(e[f-1].end),o.push(l),l=[])}return l.length>0&&(l.push(this.end),o.push(l)),o},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var r=0,s=n.length;r<s;r++)e.push(new Ie(n[r]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",r=0;r<e;r++)n+=t[r].serialize()+" ";return n.trim()},translate:function(t,e){for(var n=this.segments,r=n.length,s=0;s<r;s++)n[s].translate(t,e);return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)t.subpathStartSegment=e?e.subpathStartSegment:null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Ut.createSegment("M",0,0)),this}},Object.defineProperty(Ut.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var r=t[n];if(r.isVisible)return r.start}return t[e-1].end}}),Object.defineProperty(Ut.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n=e-1;n>=0;n--){var r=t[n];if(r.isVisible)return r.end}return t[e-1].end}});var Zr={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Zr,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(Zr,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(Zr,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var yn=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof yn))return Er(yn,t);if(0===e)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof O){if(1===e)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(2===e)return this.end=new Y(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),r.push(Er(yn,s));return r}if(1===e)return this.end=new Y(t[0]),this;for(r=[],n=0;n<e;n+=1)r.push(new yn(t[n]));return r},ns={clone:function(){return new yn(this.end)},divideAt:function(t){var n=new O(this.start,this.end).divideAt(t);return[new yn(n[0]),new yn(n[1])]},divideAtLength:function(t){var n=new O(this.start,this.end).divideAtLength(t);return[new yn(n[0]),new yn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(ns,"type",{configurable:!0,enumerable:!0,value:"L"}),yn.prototype=jr(Zr,O.prototype,ns);var ir=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof ir))return Er(ir,t);if(0===e)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r,o;if(t[0]instanceof be){if(1===e)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(6===e)return this.controlPoint1=new Y(+t[0],+t[1]),this.controlPoint2=new Y(+t[2],+t[3]),this.end=new Y(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=6)s=t.slice(n,n+6),r.push(Er(ir,s));return r}if(3===e)return this.controlPoint1=new Y(t[0]),this.controlPoint2=new Y(t[1]),this.end=new Y(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");for(r=[],n=0;n<e;n+=3)o=t.slice(n,n+3),r.push(Er(ir,o));return r},Ci={clone:function(){return new ir(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var r=new be(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(t,e);return[new ir(r[0]),new ir(r[1])]},divideAtLength:function(t,e){var r=new be(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(t,e);return[new ir(r[0]),new ir(r[1])]},divideAtT:function(t){var n=new be(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(t);return[new ir(n[0]),new ir(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(e)&&e.equals(n)&&n.equals(r))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(Ci,"type",{configurable:!0,enumerable:!0,value:"C"}),ir.prototype=jr(Zr,be.prototype,Ci);var li=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof li))return Er(li,t);if(0===e)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r,o;if(t[0]instanceof O){if(1===e)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}if(t[0]instanceof be){if(1===e)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(2===e)return this.end=new Y(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),r.push(Er(0===n?li:yn,s));return r}if(1===e)return this.end=new Y(t[0]),this;for(r=[],n=0;n<e;n+=1)o=t[n],r.push(0===n?new li(o):new yn(o));return r},Gi={bbox:function(){return null},clone:function(){return new li(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Gi,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(Gi,"type",{configurable:!0,enumerable:!0,value:"M"}),li.prototype=jr(Zr,Gi);var Bn=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Bn))return Er(Bn,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},Is={clone:function(){return new Bn},divideAt:function(t){var n=new O(this.start,this.end).divideAt(t);return[n[1].isDifferentiable()?new yn(n[0]):this.clone(),new yn(n[1])]},divideAtLength:function(t){var n=new O(this.start,this.end).divideAtLength(t);return[n[1].isDifferentiable()?new yn(n[0]):this.clone(),new yn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Is,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(Is,"type",{configurable:!0,enumerable:!0,value:"Z"}),Bn.prototype=jr(Zr,O.prototype,Is);var ua=Ut.segmentTypes={L:yn,C:ir,M:li,Z:Bn,z:Bn};Ut.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(ua).join("")+",.]*$"),Ut.isDataSupported=function(t){return"string"==typeof t&&this.regexSupportedData.test(t)};const ni={curveThroughPoints:function(t){return console.warn("deprecated"),new Ut(be.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var s,e=[],n=[],r=t.length-1;if(1==r)return e[0]=new Y((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new Y(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var o=[];for(s=1;s<r-1;s++)o[s]=4*t[s].x+2*t[s+1].x;o[0]=t[0].x+2*t[1].x,o[r-1]=(8*t[r-1].x+t[r].x)/2;var l=this.getFirstControlPoints(o);for(s=1;s<r-1;++s)o[s]=4*t[s].y+2*t[s+1].y;o[0]=t[0].y+2*t[1].y,o[r-1]=(8*t[r-1].y+t[r].y)/2;var f=this.getFirstControlPoints(o);for(s=0;s<r;s++)e.push(new Y(l[s],f[s])),n.push(s<r-1?new Y(2*t[s+1].x-l[s+1],2*t[s+1].y-f[s+1]):new Y((t[r].x+l[r-1])/2,(t[r].y+f[r-1])/2));return[e,n]},getCurveDivider:function(t,e,n,r){console.warn("deprecated");var s=new be(t,e,n,r);return function(l){var f=s.divide(l);return[{p0:f[0].start,p1:f[0].controlPoint1,p2:f[0].controlPoint2,p3:f[0].end},{p0:f[1].start,p1:f[1].controlPoint1,p2:f[1].controlPoint2,p3:f[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],r=[],s=2;n[0]=t[0]/s;for(var o=1;o<e;o++)r[o]=1/s,n[o]=(t[o]-n[o-1])/(s=(o<e-1?4:3.5)-r[o]);for(o=1;o<e;o++)n[e-o-1]-=r[e-o]*n[e-o];return n},getInversionSolver:function(t,e,n,r){console.warn("deprecated");var s=new be(t,e,n,r);return function(l){return s.closestPointT(l)}}},Qn=function(t){return this instanceof Qn?"string"==typeof t?new Qn.parse(t):void(this.points=Array.isArray(t)?t.map(Y):[]):new Qn(t)};function As(t,e,n,r){switch(t.type){case ae.Line:if(e.type===ae.Line)return ri(t,e);break;case ae.Ellipse:switch(e.type){case ae.Line:return Bs(t,e);case ae.Ellipse:return la(t,e)}break;case ae.Rect:switch(e.type){case ae.Line:return yi(t,e);case ae.Ellipse:return ca(t,e);case ae.Rect:return Rs(t,e)}break;case ae.Polyline:switch(e.type){case ae.Line:return Cs(t,e);case ae.Ellipse:return Gs(t,e);case ae.Rect:return La(t,e);case ae.Polyline:return wi(t,e)}break;case ae.Polygon:switch(e.type){case ae.Line:return bi(t,e);case ae.Ellipse:return ci(t,e);case ae.Rect:return hr(t,e);case ae.Polyline:return fi(t,e);case ae.Polygon:return fa(t,e)}break;case ae.Path:switch(e.type){case ae.Line:return rs(t,e,n);case ae.Ellipse:return js(t,e,n);case ae.Rect:return Zn(t,e,n);case ae.Polyline:return hi(t,e,n);case ae.Polygon:return ji(t,e,n);case ae.Path:return ha(t,e,n,r)}}switch(e.type){case ae.Ellipse:case ae.Rect:case ae.Polyline:case ae.Polygon:case ae.Path:return As(e,t,r,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function ri(t,e){const n=t.start.x,r=t.start.y,l=e.start.x,f=e.start.y,A=t.end.x-n,p=t.end.y-r,L=e.end.x-l,R=e.end.y-f,j=n-l,tt=r-f,nt=A*R-L*p,ht=(A*tt-p*j)/nt,ft=(L*tt-R*j)/nt;return ht>=0&&ht<=1&&ft>=0&&ft<=1}function Bs(t,e){const n=t.a,r=t.b,s=t.x,o=t.y,l=e.start.x-s,g=e.start.y-o,A=n*n,p=r*r,L=e.end.x-s-l,R=e.end.y-o-g,j=L*L/A+R*R/p,tt=2*l*L/A+2*g*R/p,ht=tt*tt-4*j*(l*l/A+g*g/p-1);if(0===ht){const ft=-tt/2/j;return ft>=0&&ft<=1}if(ht>0){const ft=Math.sqrt(ht),y=(-tt+ft)/2/j,S=(-tt-ft)/2/j;return y>=0&&y<=1||S>=0&&S<=1}return!1}function la(t,e){return function Pa(t,e,n,r){const{cos:s,sin:o}=Math,l=o(e),f=s(e),g=o(r),m=s(r),A=l*l,p=f*f,R=g*g,j=m*m,nt=t.a*t.a,ht=t.b*t.b,ft=n.a*n.a,y=n.b*n.b,S=nt*A+ht*p,P=ft*R+y*j,Z=nt*p+ht*A,H=ft*j+y*R;let st=2*(ht-nt)*(l*f),ut=2*(y-ft)*(g*m),vt=-2*S*t.x-st*t.y,Dt=-2*P*n.x-ut*n.y,St=-st*t.x-2*Z*t.y,kt=-ut*n.x-2*H*n.y;const Rt=S*t.x*t.x+Z*t.y*t.y+st*t.x*t.y-nt*ht,zt=P*n.x*n.x+H*n.y*n.y+ut*n.x*n.y-ft*y;st/=2,ut/=2,vt/=2,Dt/=2,St/=2,kt/=2;const Qt=Wn([[S,st,vt],[st,Z,St],[vt,St,Rt]]),Fe=Wn([[P,ut,Dt],[ut,H,kt],[Dt,kt,zt]]),Ze=.33333333*(Wn([[P,st,vt],[ut,Z,St],[Dt,St,Rt]])+Wn([[S,ut,vt],[st,H,St],[vt,kt,Rt]])+Wn([[S,st,Dt],[st,Z,kt],[vt,St,zt]])),cn=.33333333*(Wn([[S,ut,Dt],[st,H,kt],[vt,kt,zt]])+Wn([[P,st,Dt],[ut,Z,kt],[Dt,St,zt]])+Wn([[P,ut,vt],[ut,H,St],[Dt,kt,Rt]])),$t=Rn([[Qt,Ze],[Ze,cn]]),ge=Rn([[Qt,cn],[Ze,Fe]]),ie=Rn([[Ze,cn],[cn,Fe]]);return!(Rn([[2*$t,ge],[ge,2*ie]])>0&&(cn>0||Ze>0))}(t,0,e,0)}function yi(t,e){const{start:n,end:r}=e,{x:s,y:o,width:l,height:f}=t;return!(n.x>s+l&&r.x>s+l||n.x<s&&r.x<s||n.y>o+f&&r.y>o+f||n.y<o&&r.y<o)&&(!(!t.containsPoint(e.start)&&!t.containsPoint(e.end))||ri(t.topLine(),e)||ri(t.rightLine(),e)||ri(t.bottomLine(),e)||ri(t.leftLine(),e))}function ca(t,e){return!!Rs(t,Pt.fromEllipse(e))&&ci(Qn.fromRect(t),e)}function Rs(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Cs(t,e){return ga(t,e,{interior:!1})}function Gs(t,e){return Zi(t,e,{interior:!1})}function La(t,e){return ys(t,e,{interior:!1})}function wi(t,e){return xi(t,e,{interior:!1})}function bi(t,e){return ga(t,e,{interior:!0})}function ci(t,e){return Zi(t,e,{interior:!0})}function hr(t,e){return ys(t,e,{interior:!0})}function fi(t,e){return xi(t,e,{interior:!0})}function fa(t,e){return Zs(t,e,{interior:!0})}function rs(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:o}=r.getSegment(-1);return"Z"===o?bi(s,e):Cs(s,e)})}function js(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:o}=r.getSegment(-1);return"Z"===o?ci(s,e):Gs(s,e)})}function Zn(t,e,n){return ji(t,Qn.fromRect(e),n)}function hi(t,e,n){return Wi(t,e,n,{interior:!1})}function ji(t,e,n){return Wi(t,e,n,{interior:!0})}function ha(t,e,n,r){return t.getSubpaths().some(s=>{const[o]=s.toPolylines(n),{type:l}=s.getSegment(-1);return"Z"===l?ji(e,o,r):hi(e,o,r)})}function ga(t,e,n={}){const{interior:r=!1}=n;let s;if(r){if(t.containsPoint(e.start))return!0;const{start:f,end:g,points:m}=t;s=g.equals(f)?m:[...m,f]}else s=t.points;const{length:o}=s,l=new O;for(let f=0;f<o-1;f++)if(l.start=s[f],l.end=s[f+1],ri(e,l))return!0;return!1}function Zi(t,e,n={}){const{start:r,end:s,points:o}=t;if(e.containsPoint(r))return!0;let l;const{interior:f=!1}=n;if(f){if(t.containsPoint(e.center()))return!0;l=s.equals(r)?o:[...o,r]}else l=o;const{length:g}=l,m=new O;for(let A=0;A<g-1;A++)if(m.start=l[A],m.end=l[A+1],Bs(e,m))return!0;return!1}function ys(t,e,n){return Zs(t,Qn.fromRect(e),n)}function Wi(t,e,n,r){return t.getSubpaths().some(s=>{const[o]=s.toPolylines(n),{type:l}=s.getSegment(-1);return"Z"===l?Zs(e,o,r):xi(e,o,r)})}function xi(t,e,n={}){const{interior:r=!1}=n;let s;if(r){const{start:g}=e;if(t.containsPoint(g))return!0;s=t.clone().close()}else s=t;const o=e.points,{length:l}=o,f=new O;for(let g=0;g<l-1;g++)if(f.start=o[g],f.end=o[g+1],Cs(s,f))return!0;return!1}function Zs(t,e,n){return e.containsPoint(t.start)||xi(t,e.clone().close(),n)}function Rn(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function Wn(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}Qn.parse=function(t){return new Qn(Pr(t))},Qn.fromRect=function(t){return new Qn([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])},Qn.prototype=jr(Ie.prototype,{type:ae.Polygon,clone:function(){return new Qn(Ai(this.points))},convexHull:function(){return new Qn(kr(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});const Wr=mr,pt=function(){if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r=Math,s=r.PI,o=r.atan2,l=r.sqrt,f=r.min,g=r.max,m=r.cos,A=r.sin,p=function(y,S,P){if(!(this instanceof p))return p.apply(Object.create(p.prototype),arguments);if(y){if(p.isV(y)&&(y=y.node),S=S||{},p.isString(y)){if("svg"===(y=y.trim()).toLowerCase())y=p.createSvgDocument();else if("<"===y[0]){var Z=p.createSvgDocument(y);if(Z.childNodes.length>1){var st,ut,H=[];for(st=0,ut=Z.childNodes.length;st<ut;st++){var vt=Z.childNodes[st];H.push(new p(document.importNode(vt,!0)))}return H}y=document.importNode(Z.firstChild,!0)}else y=document.createElementNS(e.svg,y);p.ensureId(y)}return this.node=y,this.setAttributes(S),P&&this.append(P),this}},L=p.prototype;function j(y,S,P){P||(P={});for(var Z=P.includeAnnotationIndices,H=P.eol,st=P.lineHeight,ut=P.baseSize,vt=0,Dt={},St=S.length-1,kt=0;kt<=St;kt++){var Rt=S[kt],zt=null;if(p.isObject(Rt)){var Qt=Rt.attrs,Fe=p("tspan",Qt),Ze=Fe.node,cn=Rt.t;H&&kt===St&&(cn+=H),Ze.textContent=cn;var $t=Qt.class;$t&&Fe.addClass($t),Z&&Fe.attr("annotations",Rt.annotations),zt=parseFloat(Qt["font-size"]),isFinite(zt)||(zt=ut),zt&&zt>vt&&(vt=zt)}else H&&kt===St&&(Rt+=H),Ze=document.createTextNode(Rt||" "),ut&&ut>vt&&(vt=ut);y.appendChild(Ze)}return vt&&(Dt.maxFontSize=vt),st?Dt.lineHeight=st:vt&&(Dt.lineHeight=1.2*vt),Dt}Object.defineProperty(L,"id",{enumerable:!0,get:function(){return this.node.id},set:function(y){this.node.id=y}}),L.getTransformToElement=function(y){var S=this.node;if(p.isSVGGraphicsElement(y)&&p.isSVGGraphicsElement(S)){var P=p.toNode(y).getScreenCTM(),Z=S.getScreenCTM();if(P&&Z)return P.inverse().multiply(Z)}return p.createSVGMatrix()},L.transform=function(y,S){var P=this.node;if(p.isUndefined(y))return p.transformStringToMatrix(this.attr("transform"));if(S&&S.absolute)return this.attr("transform",p.matrixToTransformString(y));var Z=p.createSVGTransform(y);return P.transform.baseVal.appendItem(Z),this},L.translate=function(y,S,P){P=P||{},S=S||0;var Z=this.attr("transform")||"",H=p.parseTransformString(Z);return Z=H.value,p.isUndefined(y)?H.translate:(Z=Z.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(P.absolute?y:H.translate.tx+y)+","+(P.absolute?S:H.translate.ty+S)+") "+Z).trim()),this)},L.rotate=function(y,S,P,Z){Z=Z||{};var H=this.attr("transform")||"",st=p.parseTransformString(H);return H=st.value,p.isUndefined(y)?st.rotate:(H=H.replace(/rotate\([^)]*\)/g,"").trim(),y%=360,this.attr("transform",(H+" rotate("+(Z.absolute?y:st.rotate.angle+y)+(void 0!==S&&void 0!==P?","+S+","+P:"")+")").trim()),this)},L.scale=function(y,S){S=p.isUndefined(S)?y:S;var P=this.attr("transform")||"",Z=p.parseTransformString(P);return P=Z.value,p.isUndefined(y)?Z.scale:(P=P.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(P+" scale("+y+","+S+")").trim()),this)},L.bbox=function(y,S){var P,Z=this.node,H=Z.ownerSVGElement;if(!H)return new Pt(0,0,0,0);try{P=Z.getBBox()}catch{P={x:Z.clientLeft,y:Z.clientTop,width:Z.clientWidth,height:Z.clientHeight}}if(y)return new Pt(P);var st=this.getTransformToElement(S||H);return p.transformRect(P,st)},L.getBBox=function(y){var P,S={},Z=this.node;if(!Z.ownerSVGElement||!p.isSVGGraphicsElement(Z))return new Pt(0,0,0,0);if(y&&(y.target&&(S.target=p.toNode(y.target)),y.recursive&&(S.recursive=y.recursive)),S.recursive){var ut=this.children(),vt=ut.length;if(0===vt)return this.getBBox({target:S.target,recursive:!1});S.target||(S.target=this);for(var Dt=0;Dt<vt;Dt++){var kt,St=ut[Dt];kt=0===St.children().length?St.getBBox({target:S.target,recursive:!1}):St.getBBox({target:S.target,recursive:!0}),P=P?P.union(kt):kt}return P}try{P=Z.getBBox()}catch{P={x:Z.clientLeft,y:Z.clientTop,width:Z.clientWidth,height:Z.clientHeight}}if(S.target){var st=this.getTransformToElement(S.target);return p.transformRect(P,st)}return new Pt(P)};var tt=/em$/;function nt(y,S){var P=parseFloat(y);return tt.test(y)?P*S:P}L.text=function(y,S){if(y&&"string"!=typeof y)throw new Error("Vectorizer: text() expects the first argument to be a string.");y=p.sanitizeText(y),S||(S={});var P=S.displayEmpty,Z=S.eol,H=S.textPath,st=S.textVerticalAnchor,ut="middle"===st||"bottom"===st||"top"===st,vt=S.x;void 0===vt&&(vt=this.attr("x")||0);var Dt=S.includeAnnotationIndices,St=S.annotations;St&&!p.isArray(St)&&(St=[St]);var kt=S.lineHeight,Rt="auto"===kt,zt=Rt?"1.5em":kt||"1em";this.empty(),this.attr({"xml:space":"preserve",display:y||P?null:"none"});var Qt=parseFloat(this.attr("font-size"));Qt||(Qt=16,(ut||St)&&this.attr("font-size",Qt));var Ze,Fe=document;H?("string"==typeof H&&(H={d:H}),Ze=function R(y,S){y||(y={});var P=p("textPath"),Z=y.d;if(Z&&void 0===y["xlink:href"]){var H=p("path").attr("d",Z).appendTo(S.defs());P.attr("xlink:href","#"+H.id)}return p.isObject(y)&&P.attr(y),P.node}(H,this)):Ze=Fe.createDocumentFragment();for(var ie,cn=0,$t=y.split("\n"),ge=[],se=0,Le=$t.length-1;se<=Le;se++){var Be,nn=zt,on="v-line",Se=Fe.createElementNS(e.svg,"tspan"),Pn=$t[se];if(Pn)if(St){var ke=(Be=j(Se,p.annotateString(Pn,St,{offset:-cn,includeAnnotationIndices:Dt}),{includeAnnotationIndices:Dt,eol:se!==Le&&Z,lineHeight:Rt?null:zt,baseSize:Qt})).lineHeight;ke&&Rt&&0!==se&&(nn=ke),0===se&&(ie=.8*Be.maxFontSize)}else Z&&se!==Le&&(Pn+=Z),Se.textContent=Pn;else{Se.textContent="-",on+=" v-empty-line";var ee=Se.style;ee.fillOpacity=0,ee.strokeOpacity=0,St&&(Be={})}Be&&ge.push(Be),se>0&&Se.setAttribute("dy",nn),(se>0||H)&&Se.setAttribute("x",vt),Se.className.baseVal=on,Ze.appendChild(Se),cn+=Pn.length+1}if(ut)if(St)nn=function ht(y,S,P,Z){if(!Array.isArray(S))return 0;var H=S.length;if(!H)return 0;for(var st=S[0],ut=nt(st.maxFontSize,P)||P,vt=0,Dt=nt(Z,P),St=1;St<H;St++)vt+=nt((st=S[St]).lineHeight,P)||Dt;var zt,Rt=nt(st.maxFontSize,P)||P;switch(y){case"middle":zt=ut/2-.15*Rt-vt/2;break;case"bottom":zt=-.25*Rt-vt;break;default:zt=.8*ut}return zt}(st,ge,Qt,zt);else if("top"===st)nn="0.8em";else{var jt;switch(Le>0?(jt=parseFloat(zt)||1,jt*=Le,tt.test(zt)||(jt/=Qt)):jt=0,st){case"middle":nn=.3-jt/2+"em";break;case"bottom":nn=-jt-.3+"em"}}else 0===st?nn="0em":st?nn=st:(nn=0,null===this.attr("y")&&this.attr("y",ie||"0.8em"));return Ze.firstChild.setAttribute("dy",nn),this.append(Ze),this},L.removeAttr=function(y){var S=p.qualifyAttr(y),P=this.node;return S.ns?P.hasAttributeNS(S.ns,S.local)&&P.removeAttributeNS(S.ns,S.local):P.hasAttribute(y)&&P.removeAttribute(y),this},L.attr=function(y,S){if(p.isUndefined(y)){for(var P=this.node.attributes,Z={},H=0;H<P.length;H++)Z[P[H].name]=P[H].value;return Z}if(p.isString(y)&&p.isUndefined(S))return this.node.getAttribute(y);if("object"==typeof y)for(var st in y)y.hasOwnProperty(st)&&this.setAttribute(st,y[st]);else this.setAttribute(y,S);return this},L.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",p.normalizePathData(this.attr("d"))),this},L.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},L.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},L.setAttributes=function(y){for(var S in y)y.hasOwnProperty(S)&&this.setAttribute(S,y[S]);return this},L.append=function(y){p.isArray(y)||(y=[y]);for(var S=0,P=y.length;S<P;S++)this.node.appendChild(p.toNode(y[S]));return this},L.prepend=function(y){var S=this.node.firstChild;return S?p(S).before(y):this.append(y)},L.before=function(y){var S=this.node,P=S.parentNode;if(P){p.isArray(y)||(y=[y]);for(var Z=0,H=y.length;Z<H;Z++)P.insertBefore(p.toNode(y[Z]),S)}return this},L.appendTo=function(y){return p.toNode(y).appendChild(this.node),this},L.svg=function(){return this.node instanceof window.SVGSVGElement?this:p(this.node.ownerSVGElement)},L.tagName=function(){return this.node.tagName.toUpperCase()},L.defs=function(){var y=this.svg()||this,S=y.node.getElementsByTagName("defs")[0];return S?p(S):p("defs").appendTo(y)},L.clone=function(){var y=p(this.node.cloneNode(!0));return y.node.id=p.uniqueId(),y},L.findOne=function(y){var S=this.node.querySelector(y);return S?p(S):void 0},L.find=function(y){var S=[],P=this.node.querySelectorAll(y);if(P)for(var Z=0;Z<P.length;Z++)S.push(p(P[Z]));return S},L.children=function(){for(var y=this.node.childNodes,S=[],P=0;P<y.length;P++)1===y[P].nodeType&&S.push(p(y[P]));return S},L.parent=function(){return p(this.node.parentNode)||null},L.index=function(){for(var y=0,S=this.node.previousSibling;S;)1===S.nodeType&&y++,S=S.previousSibling;return y},L.findParentByClass=function(y,S){for(var P=this.node.ownerSVGElement,Z=this.node.parentNode;Z&&Z!==S&&Z!==P;){var H=p(Z);if(H.hasClass(y))return H;Z=Z.parentNode}return null},L.contains=function(y){var S=this.node,P=p.toNode(y),Z=P&&P.parentNode;return S===Z||!!(Z&&1===Z.nodeType&&16&S.compareDocumentPosition(Z))},L.toLocalPoint=function(y,S){var P=this.svg().node,Z=P.createSVGPoint();Z.x=y,Z.y=S;try{var H=Z.matrixTransform(P.getScreenCTM().inverse()),st=this.getTransformToElement(P).inverse()}catch{return Z}return H.matrixTransform(st)},L.translateCenterToPoint=function(y){var P=this.getBBox({target:this.svg()}).center();return this.translate(y.x-P.x,y.y-P.y),this},L.translateAndAutoOrient=function(y,S,P){y=new Y(y),S=new Y(S),P||(P=this.svg());var Z=this.scale();this.attr("transform","");var H=this.getBBox({target:P}).scale(Z.sx,Z.sy),st=p.createSVGTransform();st.setTranslate(-H.x-H.width/2,-H.y-H.height/2);var ut=p.createSVGTransform(),vt=y.angleBetween(S,y.clone().offset(1,0));vt&&ut.setRotate(vt,0,0);var Dt=p.createSVGTransform(),St=y.clone().move(S,H.width/2);Dt.setTranslate(2*y.x-St.x,2*y.y-St.y);var kt=this.getTransformToElement(P),Rt=p.createSVGTransform();return Rt.setMatrix(Dt.matrix.multiply(ut.matrix.multiply(st.matrix.multiply(kt.scale(Z.sx,Z.sy))))),this.attr("transform",p.matrixToTransformString(Rt.matrix)),this},L.animateAlongPath=function(y,S){S=p.toNode(S);var P=p.ensureId(S),Z=p("animateMotion",y),H=p("mpath",{"xlink:href":"#"+P});Z.append(H),this.append(Z);try{Z.node.beginElement()}catch{if("fake"===document.documentElement.getAttribute("smiling")){var st=Z.node;st.animators=[];var ut=st.getAttribute("id");ut&&(id2anim[ut]=st);for(var vt=getTargets(st),Dt=0,St=vt.length;Dt<St;Dt++){var Rt=new Animator(st,vt[Dt],Dt);animators.push(Rt),st.animators[Dt]=Rt,Rt.register()}}}return this},L.hasClass=function(y){return new RegExp("(\\s|^)"+y+"(\\s|$)").test(this.node.getAttribute("class"))},L.addClass=function(y){if(y&&!this.hasClass(y)){var S=this.node.getAttribute("class")||"";this.node.setAttribute("class",(S+" "+y).trim())}return this},L.removeClass=function(y){if(y&&this.hasClass(y)){var S=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+y+"(\\s|$)","g"),"$2");this.node.setAttribute("class",S)}return this},L.toggleClass=function(y,S){return(p.isUndefined(S)?this.hasClass(y):!S)?this.removeClass(y):this.addClass(y),this},L.sample=function(y){y=y||1;for(var st,S=this.node,P=S.getTotalLength(),Z=[],H=0;H<P;)st=S.getPointAtLength(H),Z.push({x:st.x,y:st.y,distance:H}),H+=y;return Z},L.convertToPath=function(){var y=p("path");y.attr(this.attr());var S=this.convertToPathData();return S&&y.attr("d",S),y},L.convertToPathData=function(){var y=this.tagName();switch(y){case"PATH":return this.attr("d");case"LINE":return p.convertLineToPathData(this.node);case"POLYGON":return p.convertPolygonToPathData(this.node);case"POLYLINE":return p.convertPolylineToPathData(this.node);case"ELLIPSE":return p.convertEllipseToPathData(this.node);case"CIRCLE":return p.convertCircleToPathData(this.node);case"RECT":return p.convertRectToPathData(this.node)}throw new Error(y+" cannot be converted to PATH.")},p.prototype.toGeometryShape=function(){var y,S,P,Z,H,st,ut,vt,Dt,St,kt,Rt,zt,Qt,Fe;switch(this.tagName()){case"RECT":return y=parseFloat(this.attr("x"))||0,S=parseFloat(this.attr("y"))||0,P=parseFloat(this.attr("width"))||0,Z=parseFloat(this.attr("height"))||0,new Pt(y,S,P,Z);case"CIRCLE":return H=parseFloat(this.attr("cx"))||0,st=parseFloat(this.attr("cy"))||0,ut=parseFloat(this.attr("r"))||0,new Ht({x:H,y:st},ut,ut);case"ELLIPSE":return H=parseFloat(this.attr("cx"))||0,st=parseFloat(this.attr("cy"))||0,vt=parseFloat(this.attr("rx"))||0,Dt=parseFloat(this.attr("ry"))||0,new Ht({x:H,y:st},vt,Dt);case"POLYLINE":return St=p.getPointsFromSvgNode(this),new Ie(St);case"POLYGON":return(St=p.getPointsFromSvgNode(this)).length>1&&St.push(St[0]),new Ie(St);case"PATH":return kt=this.attr("d"),Ut.isDataSupported(kt)||(kt=p.normalizePathData(kt)),new Ut(kt);case"LINE":return Rt=parseFloat(this.attr("x1"))||0,Qt=parseFloat(this.attr("y1"))||0,zt=parseFloat(this.attr("x2"))||0,Fe=parseFloat(this.attr("y2"))||0,new O({x:Rt,y:Qt},{x:zt,y:Fe})}return this.getBBox()},L.findIntersection=function(y,S){var P=this.svg().node,Z=this.getBBox({target:S=S||P}),H=Z.center();if(Z.intersectionWithLineFromCenterToPoint(y)){var st,ut=this.tagName();if("RECT"===ut){var vt=new Pt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),Dt=this.getTransformToElement(S),St=p.decomposeMatrix(Dt),kt=P.createSVGTransform();kt.setRotate(-St.rotation,H.x,H.y);var Rt=p.transformRect(vt,kt.matrix.multiply(Dt));st=new Pt(Rt).intersectionWithLineFromCenterToPoint(y,St.rotation)}else if("PATH"===ut||"POLYGON"===ut||"POLYLINE"===ut||"CIRCLE"===ut||"ELLIPSE"===ut){var cn,$t,ge,se,Le,Qt=("PATH"===ut?this:this.convertToPath()).sample(),Fe=1/0,Ze=[];for(cn=0;cn<Qt.length;cn++)ge=(ge=p.createSVGPoint(($t=Qt[cn]).x,$t.y)).matrixTransform(this.getTransformToElement(S)),(Le=($t=new Y(ge)).distance(H)+(se=1.1*$t.distance(y)))<Fe?(Fe=Le,Ze=[{sample:$t,refDistance:se}]):Le<Fe+1&&Ze.push({sample:$t,refDistance:se});Ze.sort(function(nn,on){return nn.refDistance-on.refDistance}),Ze[0]&&(st=Ze[0].sample)}return st}},L.setAttribute=function(y,S){var P=this.node;if(null===S)return this.removeAttr(y),this;var Z=p.qualifyAttr(y);return Z.ns?P.setAttributeNS(Z.ns,y,S):"id"===y?P.id=S:P.setAttribute(y,S),this},p.createSvgDocument=function(y){if(y){const P=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="1.1">${y}</svg>`,{documentElement:Z}=p.parseXML(P,{async:!1});return Z}const S=document.createElementNS(e.svg,"svg");return S.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),S.setAttribute("version","1.1"),S},p.createSVGStyle=function(y){const{node:S}=p("style",{type:"text/css"},[p.createCDATASection(y)]);return S},p.createCDATASection=function(y=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(y)},p.idCounter=0,p.uniqueId=function(){return"v-"+ ++p.idCounter},p.toNode=function(y){return p.isV(y)?y.node:y.nodeName&&y||y[0]},p.ensureId=function(y){return(y=p.toNode(y)).id||(y.id=p.uniqueId())},p.sanitizeText=function(y){return(y||"").replace(/ /g,"\xa0")},p.isUndefined=function(y){return typeof y>"u"},p.isString=function(y){return"string"==typeof y},p.isObject=function(y){return y&&"object"==typeof y},p.isArray=Array.isArray,p.parseXML=function(y,S){var P;S=S||{};try{var Z=new DOMParser;p.isUndefined(S.async)||(Z.async=S.async),P=Z.parseFromString(y,"text/xml")}catch{P=void 0}if(!P||P.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+y);return P},p.qualifyAttr=function(y){if(-1!==y.indexOf(":")){var S=y.split(":");return{ns:e[S[0]],local:S[1]}}return{ns:null,local:y}},p.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,p.transformSeparatorRegex=/[ ,]+/,p.transformationListRegex=/^(\w+)\((.*)\)/,p.transformStringToMatrix=function(y){var S=p.createSVGMatrix(),P=y&&y.match(p.transformRegex);if(!P)return S;for(var Z=0,H=P.length;Z<H;Z++){var ut=P[Z].match(p.transformationListRegex);if(ut){var vt,Dt,St,kt,Rt,zt=p.createSVGMatrix(),Qt=ut[2].split(p.transformSeparatorRegex);switch(ut[1].toLowerCase()){case"scale":vt=parseFloat(Qt[0]),Dt=void 0===Qt[1]?vt:parseFloat(Qt[1]),zt=zt.scaleNonUniform(vt,Dt);break;case"translate":St=parseFloat(Qt[0]),kt=parseFloat(Qt[1]),zt=zt.translate(St,kt);break;case"rotate":Rt=parseFloat(Qt[0]),St=parseFloat(Qt[1])||0,kt=parseFloat(Qt[2])||0,zt=0!==St||0!==kt?zt.translate(St,kt).rotate(Rt).translate(-St,-kt):zt.rotate(Rt);break;case"skewx":Rt=parseFloat(Qt[0]),zt=zt.skewX(Rt);break;case"skewy":Rt=parseFloat(Qt[0]),zt=zt.skewY(Rt);break;case"matrix":zt.a=parseFloat(Qt[0]),zt.b=parseFloat(Qt[1]),zt.c=parseFloat(Qt[2]),zt.d=parseFloat(Qt[3]),zt.e=parseFloat(Qt[4]),zt.f=parseFloat(Qt[5]);break;default:continue}S=S.multiply(zt)}}return S},p.matrixToTransformString=function(y){return y||(y=!0),"matrix("+(void 0!==y.a?y.a:1)+","+(void 0!==y.b?y.b:0)+","+(void 0!==y.c?y.c:0)+","+(void 0!==y.d?y.d:1)+","+(void 0!==y.e?y.e:0)+","+(void 0!==y.f?y.f:0)+")"},p.parseTransformString=function(y){var S,P,Z;if(y){var H=p.transformSeparatorRegex;if(y.trim().indexOf("matrix")>=0){var st=p.transformStringToMatrix(y),ut=p.decomposeMatrix(st);Z=[ut.scaleX,ut.scaleY],P=[ut.rotation];var vt=[];(0!==(S=[ut.translateX,ut.translateY])[0]||0!==S[1])&&vt.push("translate("+S+")"),(1!==Z[0]||1!==Z[1])&&vt.push("scale("+Z+")"),0!==P[0]&&vt.push("rotate("+P+")"),y=vt.join(" ")}else{var Dt=y.match(/translate\((.*?)\)/);Dt&&(S=Dt[1].split(H));var St=y.match(/rotate\((.*?)\)/);St&&(P=St[1].split(H));var kt=y.match(/scale\((.*?)\)/);kt&&(Z=kt[1].split(H))}}var Rt=Z&&Z[0]?parseFloat(Z[0]):1;return{value:y,translate:{tx:S&&S[0]?parseInt(S[0],10):0,ty:S&&S[1]?parseInt(S[1],10):0},rotate:{angle:P&&P[0]?parseInt(P[0],10):0,cx:P&&P[1]?parseInt(P[1],10):void 0,cy:P&&P[2]?parseInt(P[2],10):void 0},scale:{sx:Rt,sy:Z&&Z[1]?parseFloat(Z[1]):Rt}}},p.deltaTransformPoint=function(y,S){return{x:S.x*y.a+S.y*y.c+0,y:S.x*y.b+S.y*y.d+0}},p.decomposeMatrix=function(y){var S=p.deltaTransformPoint(y,{x:0,y:1}),P=p.deltaTransformPoint(y,{x:1,y:0}),Z=180/s*o(S.y,S.x)-90,H=180/s*o(P.y,P.x);return{translateX:y.e,translateY:y.f,scaleX:l(y.a*y.a+y.b*y.b),scaleY:l(y.c*y.c+y.d*y.d),skewX:Z,skewY:H,rotation:Z}},p.matrixToScale=function(y){var S,P,Z,H;return y?(S=p.isUndefined(y.a)?1:y.a,H=p.isUndefined(y.d)?1:y.d,P=y.b,Z=y.c):S=H=1,{sx:P?l(S*S+P*P):S,sy:Z?l(Z*Z+H*H):H}},p.matrixToRotate=function(y){var S={x:0,y:1};return y&&(S=p.deltaTransformPoint(y,S)),{angle:cr($r(o(S.y,S.x))-90)}},p.matrixToTranslate=function(y){return{tx:y&&y.e||0,ty:y&&y.f||0}},p.isV=function(y){return y instanceof p},p.isVElement=p.isV,p.isSVGGraphicsElement=function(y){return!!y&&(y=p.toNode(y))instanceof SVGElement&&"function"==typeof y.getScreenCTM};var ft=p("svg").node;return p.createSVGMatrix=function(y){var S=ft.createSVGMatrix();for(var P in y)S[P]=y[P];return S},p.createSVGTransform=function(y){return p.isUndefined(y)?ft.createSVGTransform():(y instanceof SVGMatrix||(y=p.createSVGMatrix(y)),ft.createSVGTransformFromMatrix(y))},p.createSVGPoint=function(y,S){var P=ft.createSVGPoint();return P.x=y,P.y=S,P},p.transformRect=function(y,S){var P=ft.createSVGPoint();P.x=y.x,P.y=y.y;var Z=P.matrixTransform(S);P.x=y.x+y.width,P.y=y.y;var H=P.matrixTransform(S);P.x=y.x+y.width,P.y=y.y+y.height;var st=P.matrixTransform(S);P.x=y.x,P.y=y.y+y.height;var ut=P.matrixTransform(S),vt=f(Z.x,H.x,st.x,ut.x),Dt=g(Z.x,H.x,st.x,ut.x),St=f(Z.y,H.y,st.y,ut.y),kt=g(Z.y,H.y,st.y,ut.y);return new Pt(vt,St,Dt-vt,kt-St)},p.transformPoint=function(y,S){return new Y(p.createSVGPoint(y.x,y.y).matrixTransform(S))},p.transformLine=function(y,S){return new O(p.transformPoint(y.start,S),p.transformPoint(y.end,S))},p.transformPolyline=function(y,S){var P=y instanceof Ie?y.points:y;p.isArray(P)||(P=[]);for(var Z=[],H=0,st=P.length;H<st;H++)Z[H]=p.transformPoint(P[H],S);return new Ie(Z)},p.styleToObject=function(y){for(var S={},P=y.split(";"),Z=0;Z<P.length;Z++){var st=P[Z].split("=");S[st[0].trim()]=st[1].trim()}return S},p.createSlicePathData=function(y,S,P,Z){var H=2*s-1e-6,st=y,ut=S,vt=P,Dt=Z,St=(Dt<vt&&(St=vt,vt=Dt,Dt=St),Dt-vt),kt=St<s?"0":"1",Rt=m(vt),zt=A(vt),Qt=m(Dt),Fe=A(Dt);return St>=H?st?"M0,"+ut+"A"+ut+","+ut+" 0 1,1 0,"+-ut+"A"+ut+","+ut+" 0 1,1 0,"+ut+"M0,"+st+"A"+st+","+st+" 0 1,0 0,"+-st+"A"+st+","+st+" 0 1,0 0,"+st+"Z":"M0,"+ut+"A"+ut+","+ut+" 0 1,1 0,"+-ut+"A"+ut+","+ut+" 0 1,1 0,"+ut+"Z":st?"M"+ut*Rt+","+ut*zt+"A"+ut+","+ut+" 0 "+kt+",1 "+ut*Qt+","+ut*Fe+"L"+st*Qt+","+st*Fe+"A"+st+","+st+" 0 "+kt+",0 "+st*Rt+","+st*zt+"Z":"M"+ut*Rt+","+ut*zt+"A"+ut+","+ut+" 0 "+kt+",1 "+ut*Qt+","+ut*Fe+"L0,0Z"},p.mergeAttrs=function(y,S){for(var P in S)y[P]="class"===P?y[P]?y[P]+" "+S[P]:S[P]:"style"===P?p.isObject(y[P])&&p.isObject(S[P])?p.mergeAttrs(y[P],S[P]):p.isObject(y[P])?p.mergeAttrs(y[P],p.styleToObject(S[P])):p.isObject(S[P])?p.mergeAttrs(p.styleToObject(y[P]),S[P]):p.mergeAttrs(p.styleToObject(y[P]),p.styleToObject(S[P])):S[P];return y},p.annotateString=function(y,S,P){S=S||[];for(var st,vt,Dt,Z=(P=P||{}).offset||0,H=[],ut=[],St=0;St<y.length;St++){vt=ut[St]=y[St];for(var kt=0;kt<S.length;kt++){var Rt=S[kt];St>=Rt.start+Z&&St<Rt.end+Z&&(p.isObject(vt)?vt.attrs=p.mergeAttrs(p.mergeAttrs({},vt.attrs),Rt.attrs):vt=ut[St]={t:y[St],attrs:Rt.attrs},P.includeAnnotationIndices&&(vt.annotations||(vt.annotations=[])).push(kt))}(Dt=ut[St-1])?p.isObject(vt)&&p.isObject(Dt)?JSON.stringify(vt.attrs)===JSON.stringify(Dt.attrs)?st.t+=vt.t:(H.push(st),st=vt):p.isObject(vt)||p.isObject(Dt)?(H.push(st),st=vt):st=(st||"")+vt:st=vt}return st&&H.push(st),H},p.findAnnotationsAtIndex=function(y,S){var P=[];return y&&y.forEach(function(Z){Z.start<S&&S<=Z.end&&P.push(Z)}),P},p.findAnnotationsBetweenIndexes=function(y,S,P){var Z=[];return y&&y.forEach(function(H){(S>=H.start&&S<H.end||P>H.start&&P<=H.end||H.start>=S&&H.end<P)&&Z.push(H)}),Z},p.shiftAnnotations=function(y,S,P){return y&&y.forEach(function(Z){Z.start<S&&Z.end>=S?Z.end+=P:Z.start>=S&&(Z.start+=P,Z.end+=P)}),y},p.convertLineToPathData=function(y){return["M",(y=p(y)).attr("x1"),y.attr("y1"),"L",y.attr("x2"),y.attr("y2")].join(" ")},p.convertPolygonToPathData=function(y){var S=p.getPointsFromSvgNode(y);return 0===S.length?null:p.svgPointsToPath(S)+" Z"},p.convertPolylineToPathData=function(y){var S=p.getPointsFromSvgNode(y);return 0===S.length?null:p.svgPointsToPath(S)},p.svgPointsToPath=function(y){for(var S=0,P=y.length;S<P;S++)y[S]=y[S].x+" "+y[S].y;return"M "+y.join(" L")},p.getPointsFromSvgNode=function(y){var S=[],P=(y=p.toNode(y)).points;if(P)for(var Z=0,H=P.numberOfItems;Z<H;Z++)S.push(P.getItem(Z));return S},p.KAPPA=.551784,p.convertCircleToPathData=function(y){y=p(y);var S=parseFloat(y.attr("cx"))||0,P=parseFloat(y.attr("cy"))||0,Z=parseFloat(y.attr("r")),H=Z*p.KAPPA;return["M",S,P-Z,"C",S+H,P-Z,S+Z,P-H,S+Z,P,"C",S+Z,P+H,S+H,P+Z,S,P+Z,"C",S-H,P+Z,S-Z,P+H,S-Z,P,"C",S-Z,P-H,S-H,P-Z,S,P-Z,"Z"].join(" ")},p.convertEllipseToPathData=function(y){y=p(y);var S=parseFloat(y.attr("cx"))||0,P=parseFloat(y.attr("cy"))||0,Z=parseFloat(y.attr("rx")),H=parseFloat(y.attr("ry"))||Z,st=Z*p.KAPPA,ut=H*p.KAPPA;return["M",S,P-H,"C",S+st,P-H,S+Z,P-ut,S+Z,P,"C",S+Z,P+ut,S+st,P+H,S,P+H,"C",S-st,P+H,S-Z,P+ut,S-Z,P,"C",S-Z,P-ut,S-st,P-H,S,P-H,"Z"].join(" ")},p.convertRectToPathData=function(y){return y=p(y),p.rectToPath({x:parseFloat(y.attr("x"))||0,y:parseFloat(y.attr("y"))||0,width:parseFloat(y.attr("width"))||0,height:parseFloat(y.attr("height"))||0,rx:parseFloat(y.attr("rx"))||0,ry:parseFloat(y.attr("ry"))||0})},p.rectToPath=function(y){var P=y.x,Z=y.y,H=y.width,st=y.height,ut=f(y.rx||y["top-rx"]||0,H/2),vt=f(y.rx||y["bottom-rx"]||0,H/2),Dt=f(y.ry||y["top-ry"]||0,st/2),St=f(y.ry||y["bottom-ry"]||0,st/2);return(ut||vt||Dt||St?["M",P,Z+Dt,"v",st-Dt-St,"a",vt,St,0,0,0,vt,St,"h",H-2*vt,"a",vt,St,0,0,0,vt,-St,"v",-(st-St-Dt),"a",ut,Dt,0,0,0,-ut,-Dt,"h",-(H-2*ut),"a",ut,Dt,0,0,0,-ut,Dt,"Z"]:["M",P,Z,"H",P+H,"V",Z+st,"H",P,"V",Z,"Z"]).join(" ")},p.normalizePathData=function(){var y="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",S=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),Z=Math,H=Z.PI,st=Z.sin,ut=Z.cos,vt=Z.tan,Dt=Z.asin,St=Z.sqrt,kt=Z.abs;function Rt($t,ge,ie,se,Le,nn){var on=.3333333333333333,Se=2/3;return[on*$t+Se*ie,on*ge+Se*se,on*Le+Se*ie,on*nn+Se*se,Le,nn]}function zt($t,ge,ie){return{x:$t*ut(ie)-ge*st(ie),y:$t*st(ie)+ge*ut(ie)}}function Qt($t,ge,ie,se,Le,nn,on,Se,Pn,Be){var jt,Ce=120*H/180,ke=H/180*(+Le||0),ee=[];if(Be)Mr=Be[0],Fn=Be[1],ia=Be[2],wo=Be[3];else{ge=(jt=zt($t,ge,-ke)).y;var vr=(($t=jt.x)-(Se=(jt=zt(Se,Pn,-ke)).x))/2,Nr=(ge-(Pn=jt.y))/2,Es=vr*vr/(ie*ie)+Nr*Nr/(se*se);Es>1&&(ie*=Es=St(Es),se*=Es);var il=ie*ie,sl=se*se,cc=(nn==on?-1:1)*St(kt((il*sl-il*Nr*Nr-sl*vr*vr)/(il*Nr*Nr+sl*vr*vr))),ia=cc*ie*Nr/se+($t+Se)/2,wo=cc*-se*vr/ie+(ge+Pn)/2,Mr=Dt(((ge-wo)/se).toFixed(9)),Fn=Dt(((Pn-wo)/se).toFixed(9));(Mr=$t<ia?H-Mr:Mr)<0&&(Mr=2*H+Mr),(Fn=Se<ia?H-Fn:Fn)<0&&(Fn=2*H+Fn),on&&Mr>Fn&&(Mr-=2*H),!on&&Fn>Mr&&(Fn-=2*H)}var al=Fn-Mr;if(kt(al)>Ce){var _f=Fn,Yf=Se,Uf=Pn;ee=Qt(Se=ia+ie*ut(Fn=Mr+Ce*(on&&Fn>Mr?1:-1)),Pn=wo+se*st(Fn),ie,se,Le,0,on,Yf,Uf,[Fn,_f,ia,wo])}al=Fn-Mr;var Ff=ut(Mr),Vf=st(Mr),Xf=ut(Fn),Hf=st(Fn),bo=vt(al/4),fc=4/3*(ie*bo),ol=4/3*(se*bo),ul=[$t,ge],sa=[$t+fc*Vf,ge-ol*Ff],ll=[Se+fc*Hf,Pn-ol*Xf],cl=[Se,Pn];if(sa[0]=2*ul[0]-sa[0],sa[1]=2*ul[1]-sa[1],Be)return[sa,ll,cl].concat(ee);for(var fl=[],hc=(ee=[sa,ll,cl].concat(ee).join().split(",")).length,aa=0;aa<hc;aa++)fl[aa]=aa%2?zt(ee[aa-1],ee[aa],ke).y:zt(ee[aa],ee[aa+1],ke).x;return fl}function cn($t){var ge=function Ze($t){if((!Array.isArray($t)||!Array.isArray($t&&$t[0]))&&($t=function Fe($t){if(!$t)return null;var ge={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ie=[];return String($t).replace(S,function(se,Le,nn){var on=[],Se=Le.toLowerCase();for(nn.replace(P,function(Pn,Be){Be&&on.push(+Be)}),"m"===Se&&on.length>2&&(ie.push([Le].concat(on.splice(0,2))),Se="l",Le="m"===Le?"l":"L");on.length>=ge[Se]&&(ie.push([Le].concat(on.splice(0,ge[Se]))),ge[Se]););}),ie}($t)),!$t||!$t.length)return[["M",0,0]];for(var Se,ge=[],ie=0,se=0,Le=0,nn=0,Pn=$t.length,Be=0;Be<Pn;Be++){var Ce=[];ge.push(Ce);var ee,jt,ke=$t[Be];if((Se=ke[0])!=Se.toUpperCase())switch(Ce[0]=Se.toUpperCase(),Ce[0]){case"A":Ce[1]=ke[1],Ce[2]=ke[2],Ce[3]=ke[3],Ce[4]=ke[4],Ce[5]=ke[5],Ce[6]=+ke[6]+ie,Ce[7]=+ke[7]+se;break;case"V":Ce[1]=+ke[1]+se;break;case"H":Ce[1]=+ke[1]+ie;break;case"M":for(Le=+ke[1]+ie,nn=+ke[2]+se,ee=ke.length,jt=1;jt<ee;jt++)Ce[jt]=+ke[jt]+(jt%2?ie:se);break;default:for(ee=ke.length,jt=1;jt<ee;jt++)Ce[jt]=+ke[jt]+(jt%2?ie:se)}else for(var vr=ke.length,Nr=0;Nr<vr;Nr++)Ce[Nr]=ke[Nr];switch(Ce[0]){case"Z":ie=+Le,se=+nn;break;case"H":ie=Ce[1];break;case"V":se=Ce[1];break;case"M":Le=Ce[Ce.length-2],nn=Ce[Ce.length-1],ie=Ce[Ce.length-2],se=Ce[Ce.length-1];break;default:ie=Ce[Ce.length-2],se=Ce[Ce.length-1]}}return ge}($t),ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function se(ee,jt,vr){var Nr,Es;if(!ee)return["C",jt.x,jt.y,jt.x,jt.y,jt.x,jt.y];switch(ee[0]in{T:1,Q:1}||(jt.qx=null,jt.qy=null),ee[0]){case"M":jt.X=ee[1],jt.Y=ee[2];break;case"A":ee=0===parseFloat(ee[1])||0===parseFloat(ee[2])?["L",ee[6],ee[7]]:["C"].concat(Qt.apply(0,[jt.x,jt.y].concat(ee.slice(1))));break;case"S":"C"===vr||"S"===vr?(Nr=2*jt.x-jt.bx,Es=2*jt.y-jt.by):(Nr=jt.x,Es=jt.y),ee=["C",Nr,Es].concat(ee.slice(1));break;case"T":"Q"===vr||"T"===vr?(jt.qx=2*jt.x-jt.qx,jt.qy=2*jt.y-jt.qy):(jt.qx=jt.x,jt.qy=jt.y),ee=["C"].concat(Rt(jt.x,jt.y,jt.qx,jt.qy,ee[1],ee[2]));break;case"Q":jt.qx=ee[1],jt.qy=ee[2],ee=["C"].concat(Rt(jt.x,jt.y,ee[1],ee[2],ee[3],ee[4]));break;case"H":ee=["L"].concat(ee[1],jt.y);break;case"V":ee=["L"].concat(jt.x,ee[1])}return ee}function Le(ee,jt){if(ee[jt].length>7){ee[jt].shift();for(var vr=ee[jt];vr.length;)nn[jt]="A",ee.splice(jt++,0,["C"].concat(vr.splice(0,6)));ee.splice(jt,1),Pn=ge.length}}for(var nn=[],on="",Se="",Pn=ge.length,Be=0;Be<Pn;Be++){ge[Be]&&(on=ge[Be][0]),"C"!==on&&(nn[Be]=on,Be>0&&(Se=nn[Be-1])),ge[Be]=se(ge[Be],ie,Se),"A"!==nn[Be]&&"C"===on&&(nn[Be]="C"),Le(ge,Be);var Ce=ge[Be],ke=Ce.length;ie.x=Ce[ke-2],ie.y=Ce[ke-1],ie.bx=parseFloat(Ce[ke-4])||ie.x,ie.by=parseFloat(Ce[ke-3])||ie.y}return(!ge[0][0]||"M"!==ge[0][0])&&ge.unshift(["M",0,0]),ge}return function($t){return cn($t).join(",").split(",").join(" ")}}(),p.namespace=e,p.g=G,p}();var un=Vt(66),oe=Vt(489),Ne=Vt(259);const sr={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},wn=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,sr.classNamePrefix.length)!==sr.classNamePrefix&&(e=sr.classNamePrefix+e),e}).join(" ")},_i=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,sr.classNamePrefix.length)===sr.classNamePrefix&&(e=e.substr(sr.classNamePrefix.length)),e}).join(" ")},_r=function(t,e){for(var n={},r={},s=pt.namespace.svg,o=e||s,l=document.createDocumentFragment(),f=[t,l,o];f.length>0;){o=f.pop();for(var g=f.pop(),m=f.pop(),A=0,p=m.length;A<p;A++){var L=m[A];if(!L.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var R=L.tagName;L.hasOwnProperty("namespaceURI")&&(o=L.namespaceURI);var j=document.createElementNS(o,R),tt=o===s,nt=tt?pt:Ne,ht=L.attributes;ht&&nt(j).attr(ht);var ft=L.style;if(ft&&Ne(j).css(ft),L.hasOwnProperty("className")){var y=L.className;tt?j.className.baseVal=y:j.className=y}if(L.hasOwnProperty("textContent")&&(j.textContent=L.textContent),L.hasOwnProperty("selector")){var S=L.selector;if(n[S])throw new Error("json-dom-parser: selector must be unique");n[S]=j,nt(j).attr("joint-selector",S)}if(L.hasOwnProperty("groupSelector")){var P=L.groupSelector;Array.isArray(P)||(P=[P]);for(var Z=0,H=P.length;Z<H;Z++){var st=P[Z],ut=r[st];ut||(ut=r[st]=[]),ut.push(j)}}g.appendChild(j);var vt=L.children;Array.isArray(vt)&&f.push(vt,j,o)}}return{fragment:l,selectors:n,groupSelectors:r}},Yi=function(t){let e=0;if(0===t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e},Ui=function(t,e,n){for(var s,r=Array.isArray(e)?e:e.split(n||"/"),o=0,l=r.length;o<l;){if(s=r[o++],Object(t)!==t||!(s in t))return;t=t[s]}return t},Ws=function(t,e){return"string"!=typeof e&&"number"!=typeof e&&(e=String(e)),!("constructor"===e&&"function"==typeof t[e]||"__proto__"===e)},is=function(t,e,n,r){const s=Array.isArray(e)?e:e.split(r||"/"),o=s.length-1;let l=t,f=0;for(;f<o;f++){const g=s[f];if(!Ws(l,g))return t;l=l[g]||(l[g]={})}return l[s[o]]=n,t},ss=function(t,e,n){const r=Array.isArray(e)?e:e.split(n||"/"),s=r.length-1;let o=t,l=0;for(;l<s;l++){const f=r[l];if(!Ws(o,f))return t;const g=o[f];if(!g)return t;o=g}return delete o[r[s]],t},ws=function(t){return ws.id=ws.id||1,t.id=void 0===t.id?"j_"+ws.id++:t.id,t.id},Ka=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},sn=function(t){var e=t,n=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(n){for(var r in t)void 0===n[r]&&(n[r]=t[r]);e=n}var s=e.target;if(s){var o=s.correspondingUseElement;o&&(e.target=o)}return e},_s=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var r=(new Date).getTime(),s=Math.max(0,16-(r-e)),o=setTimeout(function(){n(r+s)},s);return e=r+s,o}}return function(n,r,...s){return t(void 0!==r?n.bind(r,...s):n)}}(),pa=((e=typeof window<"u")&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t),Yn=function(t){return vn(t)&&"%"===t.slice(-1)},Fi=function(t,e){var r=parseFloat(t);if(Number.isNaN(r))return null;var o,s={};if(s.value=r,null==e)o="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;o=e.join("|")}else vn(e)&&(o=e);var l=function n(f){var g=new RegExp("(?:\\d+(?:\\.\\d+)*)("+f+")$").exec(t);return g?g[1]:null}(o);return null===l?null:(s.unit=l,s)},bs=function(t,e,n={},r={}){var s=e.width,o=e.height,l=r.svgDocument||pt("svg").node,f=pt("tspan").node,g=pt("text").attr(n).append(f).node,m=document.createTextNode("");g.style.opacity=0,g.style.display="block",f.style.display="block",f.appendChild(m),l.appendChild(g),r.svgDocument||document.body.appendChild(l);var A=r.separator||" ",p=r.eol||"\n",L=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,R=r.maxLineCount;Ae(R)||(R=1/0);for(var ht,ft,y,j=t.split(A),tt=[],nt=[],S=0,P=0,Z=j.length;S<Z;S++){var H=j[S];if(H){var st=!1;if(p&&H.indexOf(p)>=0){if(H.length>1){for(var ut=H.split(p),vt=0,Dt=ut.length-1;vt<Dt;vt++)ut.splice(2*vt+1,0,p);j.splice(S,1,...ut.filter(ie=>""!==ie)),S--,Z=j.length;continue}nt[++P]="",st=!0}if(!st)if(m.data=nt[P]?nt[P]+" "+H:H,f.getComputedTextLength()<=s)nt[P]=m.data,(ht||ft)&&(tt[P++]=!0,ht=0,ft=0);else{if(!nt[P]||ht){var St=!!ht;if(ht=H.length-1,St||!ht){if(!ht){if(!nt[P]){nt=[];break}j.splice(S,2,H+j[S+1]),Z--,tt[P++]=!0,S--;continue}j[S]=H.substring(0,ht),j[S+1]=H.substring(ht)+(void 0===j[S+1]?"":j[S+1])}else{if(ft)j.splice(S,2,j[S]+j[S+1]),ft=0;else{var kt=H.search(L);kt>-1&&kt!==H.length-1&&0!==kt&&(ft=kt+1,ht=0),j.splice(S,1,H.substring(0,ft||ht),H.substring(ft||ht)),Z++}P&&!tt[P-1]&&P--}S--;continue}P++,S--}var Rt=null;if(nt.length>R)Rt=R-1;else if(void 0!==o){var zt;void 0===y&&(y=(zt="auto"===n.lineHeight?{value:1.5,unit:"em"}:Fi(n.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===zt.unit&&(y*=g.getBBox().height)),y*nt.length>o&&(Rt=Math.floor(o/y)-1)}if(null!==Rt){nt.splice(Rt+1);var Qt=r.ellipsis;if(!Qt||Rt<0)break;"string"!=typeof Qt&&(Qt="\u2026");var Fe=nt[Rt];if(!Fe&&!st)break;var cn,$t,Ze=Fe.length;do{if($t=Fe[Ze],cn=Fe.substring(0,Ze),$t?$t.match(A)&&(cn+=$t):cn+="string"==typeof A?A:" ",m.data=cn+=Qt,f.getComputedTextLength()<=s){nt[Rt]=cn;break}Ze--}while(Ze>=0);break}}}return r.svgDocument?l.removeChild(g):document.body.removeChild(l),nt.join(p)},za=function(t){var e=Ne(Ne.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var n=this;Ne.each(n.attributes,function(){var s=this.name,o=this.value;(s.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&Ne(n).removeAttr(s)})}),e.html()},x=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,r,s,o;return n=r=s=o=0,isFinite(t.vertical)&&(n=s=+t.vertical),isFinite(t.horizontal)&&(r=o=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(r=+t.right),isFinite(t.bottom)&&(s=+t.bottom),isFinite(t.left)&&(o=+t.left),{top:n,right:r,bottom:s,left:o}},k={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var r=(11-6*e-11*t)/4;return-r*r+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(r){var s=t(r);return s<e?e:s>n?n:s}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},_={number:function(t,e){var n=e-t;return function(r){return t+n*r}},object:function(t,e){var n=Object.keys(t);return function(r){var s,o,l={};for(s=n.length-1;-1!=s;s--)l[o=n[s]]=t[o]+(e[o]-t[o])*r;return l}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),s=255&n,o=(255&r)-s,l=65280&n,f=(65280&r)-l,g=16711680&n,m=(16711680&r)-g;return function(A){return"#"+(1<<24|s+o*A&255|l+f*A&65280|g+m*A&16711680).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),s=n.exec(e),o=s[1].indexOf("."),l=o>0?s[1].length-o-1:0,f=+s[1]-(t=+r[1]),g=r[2];return function(m){return(t+f*m).toFixed(l)+g}}},J={outline:function(t){var n=Number.isFinite(t.margin)?t.margin:2,r=Number.isFinite(t.width)?t.width:1;return q('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(t){return q('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return q('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return q(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return q('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return q('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return q('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return q('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return q('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return q('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return q('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},q=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(r){for(var s=Array.from(arguments),o=s.slice(1,4).find(function(g){return!!g}),l=o.split("."),f=n[l.shift()];void 0!==f&&l.length;)f=f[l.shift()];return void 0!==f?f:""})}},w=oe.assign,D=oe.defaults,U=oe.defaultsDeep,W=oe.invokeMap||oe.invoke,it=oe.sortedIndexBy||oe.sortedIndex,gt=oe.uniqBy||oe.uniq,xt=oe.clone,ot=oe.cloneDeep,mt=oe.isEmpty,Gt=oe.isEqual,Zt=oe.isFunction,Ot=oe.isPlainObject,Ft=oe.toArray,yr=oe.groupBy,ne=oe.flattenDeep,Kn=oe.without,ze=oe.difference,Ns=oe.union,Yr=oe.has,Ve=oe.result,wr=oe.omit,Ni=oe.pick,Un=oe.forIn,Ur=oe.camelCase,Vi=oe.uniqueId,Gn=function(){if(oe.mergeWith){var t=Array.from(arguments),e=t[t.length-1],n=Zt(e)?e:va;return t.push(function(r,s){var o=n(r,s);return void 0!==o?o:Array.isArray(r)&&!Array.isArray(s)?s:void 0}),oe.mergeWith.apply(this,t)}return oe.merge.apply(this,arguments)},ln=function(t){return!!t&&("object"==typeof t||"function"==typeof t)},Ae=function(t){return"number"==typeof t||!!t&&"object"==typeof t&&"[object Number]"===Object.prototype.toString.call(t)},vn=function(t){return"string"==typeof t||!!t&&"object"==typeof t&&"[object String]"===Object.prototype.toString.call(t)},va=function(){};var t,e;function Ra(t){t=gt(t);const e=Ft(t).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Ft(t).forEach(function(n){const r=e[n.id];if(r.isLink()){const l=r.source(),f=r.target();l.id&&e[l.id]&&r.prop("source/id",e[l.id].id),f.id&&e[f.id]&&r.prop("target/id",e[f.id].id)}const s=n.get("parent");s&&e[s]&&r.set("parent",e[s].id);const o=Ft(n.get("embeds")).reduce(function(l,f){return e[f]&&l.push(e[f].id),l},[]);mt(o)||r.set("embeds",o)}),e}const Mi={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},gr=Object.keys(Mi).map(t=>Mi[t]).join(""),Ga="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Us=/\s/g,to=new RegExp(`^(${Ga}\\*)?([${gr}])([-+]{1,2}${Ga})?$`,"g");function eo(t){throw new Error(`Invalid calc() expression: ${t}`)}function eu(t,e){const n=to.exec(t.replace(Us,""));n||eo(t),to.lastIndex=0;const[,r=1,s,o=0]=n,{x:l,y:f,width:g,height:m}=e;let A=0;switch(s){case Mi.width:A=g;break;case Mi.height:A=m;break;case Mi.x:A=l;break;case Mi.y:A=f;break;case Mi.minimum:A=Math.min(m,g);break;case Mi.maximum:A=Math.max(m,g);break;case Mi.diagonal:A=Math.sqrt(m*m+g*g)}return parseFloat(r)*A+function ja(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}(o)}function no(t){return"string"==typeof t&&t.includes("calc")}const Mo="calc(".length;function ii(t,e){let n=t,r=0;for(;;){let s=n.indexOf("calc(",r);if(-1===s)return n;let o=s+Mo,l=1;t:for(;;){switch(n[o]){case"(":l++;break;case")":if(l--,0===l)break t;break;case void 0:eo(n)}o++}let f=n.slice(s+Mo,o);no(f)&&(f=ii(f,e));const g=String(eu(f,e));n=n.slice(0,s)+g+n.slice(o+1),r=s+g.length}}function as(t,e){return function(n,r){var s=Yn(n);n=parseFloat(n),s&&(n/=100);var o={};if(isFinite(n)){var l=s||n>=0&&n<=1?n*r[e]:Math.max(n+r[e],0);o[t]=l}return o}}function Fs(t,e,n){return function(r,s){var l,o=Yn(r);if(r=parseFloat(r),o&&(r/=100),isFinite(r)){var f=s[n]();l=o||r>0&&r<1?f[t]+s[e]*r:f[t]+r}var g=Y();return g[t]=l||0,g}}function si(t,e,n){return function(r,s){var o;o="middle"===r?s[e]/2:r===n?s[e]:isFinite(r)?r>-1&&r<1?-s[e]*r:-r:Yn(r)?s[e]*parseFloat(r)/100:0;var l=Y();return l[t]=-(s[t]+o),l}}function gi(t,e){var n="joint-shape",r=e&&e.resetOffset;return function(s,o,l){var f=Ne(l),g=f.data(n);if(!g||g.value!==s){var m=t(s);g={value:s,shape:m,shapeBBox:m.bbox()},f.data(n,g)}var A=g.shape.clone(),p=g.shapeBBox.clone(),L=p.origin(),R=o.origin();p.x=R.x,p.y=R.y;var j=o.maxRectScaleToFit(p,R);return A.scale(0===p.width||0===o.width?1:j.sx,0===p.height||0===o.height?1:j.sy,L),r&&A.translate(-L.x,-L.y),A}}function Si(t){var n=gi(function e(r){return new Ut(pt.normalizePathData(r))},t);return function(r,s,o){return{d:n(r,s,o).serialize()}}}function Vs(t){var e=gi(Ie,t);return function(n,r,s){return{points:e(n,r,s).serialize()}}}function ma(t,e){var n=new Y(1,0);return function(r){var s,o,l=this[t](r);return l?(o=e.rotate?l.vector().vectorAngle(n):0,s=l.start):(s=this.path.start,o=0),0===o?{transform:"translate("+s.x+","+s.y+")"}:{transform:"translate("+s.x+","+s.y+") rotate("+o+")"}}}function So(t){return function(n,r,s){const o=pt(s);o.attr(t)!==n&&o.attr(t,n)}}function Ye(t,e,n){return void 0!==n.text}function Fr(){return this.model.isLink()}function Sn(t){var e={},n=t.stroke;"string"==typeof n&&(e.stroke=n,e.fill=n);var r=t.strokeOpacity;return void 0===r&&(r=t["stroke-opacity"]),void 0===r&&(r=t.opacity),void 0!==r&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),e}function Vr(t){const{paper:e}=this;return`url(#${"pattern"===t.type?e.definePattern(t):e.defineGradient(t)})`}const ye={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:So("href")},xlinkHref:{set:So("xlink:href")},filter:{qualify:Ot,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Ot,set:Vr},stroke:{qualify:Ot,set:Vr},sourceMarker:{qualify:Ot,set:function(t,e,n,r){return t=w(Sn(r),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Ot,set:function(t,e,n,r){return t=w(Sn(r),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Ot,set:function(t,e,n,r){return t=w(Sn(r),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!Ot(n.textWrap)},set:function(t,e,n,r){var s=Ne(n),o="joint-text",l=s.data(o),f=Ni(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:g}=f;no(g)&&(f.x=ii(g,e));var m=f.fontSize=r["font-size"]||r.fontSize,A=JSON.stringify([t,f]);if(void 0===l||l!==A){m&&n.setAttribute("font-size",m);var p=f.textPath;if(ln(p)){var L=p.selector;if("string"==typeof L){var R=this.findBySelector(L)[0];R instanceof SVGPathElement&&(f.textPath=w({"xlink:href":"#"+R.id},p))}}pt(n).text(""+t,f),s.data(o,A)}}},textWrap:{qualify:Ot,set:function(t,e,n,r){var s=t.width||0,o={};o.width=Yn(s)?e.width*parseFloat(s)/100:s<=0?e.width+s:s;var l=t.height||0;o.height=Yn(l)?e.height*parseFloat(l)/100:l<=0?e.height+l:l;var f,g=t.text;void 0===g&&(g=r.text),f=void 0!==g?bs(""+g,o,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,maxLineCount:t.maxLineCount}):"",ye.text.set.call(this,f,e,n,r)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var r=Ne(n),s="joint-title",o=r.data(s);if(void 0===o||o!==t){r.data(s,t);var l=n.firstChild;if(l&&"TITLE"===l.tagName.toUpperCase())l.textContent=t;else{var f=document.createElementNS(n.namespaceURI,"title");f.textContent=t,n.insertBefore(f,l)}}}},lineHeight:{qualify:Ye},textVerticalAnchor:{qualify:Ye},textPath:{qualify:Ye},annotations:{qualify:Ye},eol:{qualify:Ye},displayEmpty:{qualify:Ye},port:{set:function(t){return null===t||void 0===t.id?t:t.id}},style:{qualify:Ot,set:function(t,e,n){Ne(n).css(t)}},html:{set:function(t,e,n){Ne(n).html(t+"")}},ref:{},refX:{position:Fs("x","width","origin")},refY:{position:Fs("y","height","origin")},refDx:{position:Fs("x","width","corner")},refDy:{position:Fs("y","height","corner")},refWidth:{set:as("width","width")},refHeight:{set:as("height","height")},refRx:{set:as("rx","width")},refRy:{set:as("ry","height")},refRInscribed:{set:function(t){var e=as("r","width"),n=as("r","height");return function(r,s){return(s.height>s.width?e:n)(r,s)}}()},refRCircumscribed:{set:function(t,e){var n=Yn(t);t=parseFloat(t),n&&(t/=100);var s,r=Math.sqrt(e.height*e.height+e.width*e.width);return isFinite(t)&&(s=n||t>=0&&t<=1?t*r:Math.max(t+r,0)),{r:s}}},refCx:{set:as("cx","width")},refCy:{set:as("cy","height")},xAlignment:{offset:si("x","width","right")},yAlignment:{offset:si("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:Si({resetOffset:!0})},refDKeepOffset:{set:Si({resetOffset:!1})},refPointsResetOffset:{set:Vs({resetOffset:!0})},refPointsKeepOffset:{set:Vs({resetOffset:!1})},connection:{qualify:Fr,set:function({stubs:t=0}){let e;if(isFinite(t)&&0!==t){let n;n=t<0?(this.getConnectionLength()+t)/2:t;const r=this.getConnection(),s=r.divideAtLength(n),o=r.divideAtLength(-n);s&&o&&(e=`${s[0].serialize()} ${o[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Fr,set:ma("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Fr,set:ma("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Fr,set:ma("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Fr,set:ma("getTangentAtRatio",{rotate:!1})}};ye["xlink:href"]=ye.xlinkHref,["transform","d","points","width","height","cx","cy","r","rx","ry","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{ye[t]={qualify:no,set:function(n,r){return{[t]:ii(n,r)}}}}),ye.refR=ye.refRInscribed,ye.refD=ye.refDResetOffset,ye.refPoints=ye.refPointsResetOffset,ye.atConnectionLength=ye.atConnectionLengthKeepGradient,ye.atConnectionRatio=ye.atConnectionRatioKeepGradient,ye.refX2=ye.refX,ye.refY2=ye.refY,ye.refWidth2=ye.refWidth,ye.refHeight2=ye.refHeight,ye["ref-x"]=ye.refX,ye["ref-y"]=ye.refY,ye["ref-dy"]=ye.refDy,ye["ref-dx"]=ye.refDx,ye["ref-width"]=ye.refWidth,ye["ref-height"]=ye.refHeight,ye["x-alignment"]=ye.xAlignment,ye["y-alignment"]=ye.yAlignment;const ro=ye,Ti=un.Model.extend({constructor:function(t,e){var n,r=t||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=Vi("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=Ve(this,"defaults"))&&(r=Gn({},n,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=Ve(this.constructor.prototype,"defaults").attrs||{},r={};Un(this.attributes.attrs,function(o,l){const f=e[l];Un(o,function(g,m){ln(g)&&!Array.isArray(g)?Un(g,function(A,p){(!f||!f[m]||!Gt(f[m][p],A))&&(r[l]=r[l]||{},(r[l][m]||(r[l][m]={}))[p]=A)}):(!f||!Gt(f[m],g))&&(r[l]=r[l]||{},r[l][m]=g)})});const s=ot(wr(this.attributes,"attrs"));return s.attrs=r,s},initialize:function(t){const e=this.getIdAttribute();(!t||!(e in t))&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},processPorts:function(){var t=this.ports,e={};Un(this.get("attrs"),function(o,l){o&&o.port&&(void 0!==o.port.id?e[o.port.id]=o.port:e[o.port]={id:o.port})});var n={};Un(t,function(o,l){e[l]||(n[l]=!0)}),this.graph&&!mt(n)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(o){n[o.get("target").port]&&o.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(o){n[o.get("source").port]&&o.remove()})),this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,t);const s=this.getEmbeddedCells();for(let o=0,l=s.length;o<l;o++){const f=s[o];f&&f.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=t||{};var r,n=e.maxZIndex();t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==t.breadthFirst})).unshift(this):r=[this],n=n-r.length+1;var s=e.get("cells"),o=s.indexOf(this)!==s.length-r.length;o||(o=r.some(function(l,f){return l.get("z")!==n+f})),o&&(this.startBatch("to-front"),n+=r.length,r.forEach(function(l,f){l.set("z",n+f,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=t||{};var r,n=e.minZIndex();t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==t.breadthFirst})).unshift(this):r=[this];var o=0!==e.get("cells").indexOf(this);o||(o=r.some(function(l,f){return l.get("z")!==n+f})),o&&(this.startBatch("to-back"),n-=r.length,r.forEach(function(l,f){l.set("z",n+f,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return void 0===t?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const r=w([],this.get("embeds"));t.forEach(s=>{r[s.isLink()?"unshift":"push"](s.id),s.parent(this.id,e)}),this.set("embeds",gt(r),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(r=>r.unset("parent",e)),this.set("embeds",Kn(this.get("embeds"),...t.map(r=>r.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();e.push(r),n.push.apply(n,r.getEmbeddedCells())}}else(e=this.getEmbeddedCells()).forEach(function(s){e.push.apply(e,s.getEmbeddedCells(t))});else e=Ft(this.get("embeds")).map(this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var n=vn(t)?t:t.id,r=this.parent();if(e=D({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if((t=t||{}).deep)return Ft(Ra([this].concat(this.getEmbeddedCells({deep:!0}))));var e=un.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var r="/",s=vn(t);if(s||Array.isArray(t)){if(arguments.length>1){var o,l;s?l=(o=t).split("/"):(o=t.join(r),l=t.slice());var f=l[0],g=l.length;if((n=n||{}).propertyPath=o,n.propertyValue=e,n.propertyPathArray=l,1===g)return this.set(f,e,n);for(var m={},A=m,p=f,L=1;L<g;L++){var R=l[L],j=Number.isFinite(s?Number(R):R);A=A[p]=j?[]:{},p=R}m=is(m,l,e,"/");var tt=Gn({},this.attributes);n.rewrite&&ss(tt,o,"/");var nt=Gn(tt,m);return this.set(f,nt[f],n)}return Ui(this.attributes,t,r)}return this.set(Gn({},this.attributes,t),e)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),r=n[0];if("attrs"===r&&(e.dirty=!0),1===n.length)return this.unset(t,e);var s=n.slice(1),o=ot(this.get(r));return ss(o,s,"/"),this.set(r,o,e)},attr:function(t,e,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(r[0]=Array.isArray(t)?["attrs"].concat(t):vn(t)?"attrs/"+t:{attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/",n=w({duration:100,delay:10,timingFunction:k.linear,valueFunction:_.number},n);var l,o=0,f=function(p){var L,R,j;(R=(p-=o=o||p)/n.duration)<1?this._transitionIds[t]=L=_s(f):(R=1,delete this._transitionIds[t]),j=l(n.timingFunction(R)),n.transitionId=L,this.prop(t,j,n),L||this.trigger("transition:end",this,t)}.bind(this);const{_scheduledTransitionIds:g}=this;let m;return m=setTimeout(p=>{g[t]&&(g[t]=Kn(g[t],m),0===g[t].length&&delete g[t]),this.stopPendingTransitions(t,r),l=n.valueFunction(Ui(this.attributes,t,r),e),this._transitionIds[t]=_s(p),this.trigger("transition:start",this,t)},n.delay,f),g[t]||(g[t]=[]),g[t].push(m),m},getTransitions:function(){return Ns(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(o=>Gt(s,o.split(e).slice(0,s.length)))}return r.forEach(s=>{n[s].forEach(l=>clearTimeout(l)),delete n[s]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(o=>Gt(s,o.split(e).slice(0,s.length)))}r.forEach(s=>{pa(n[s]),delete n[s],this.trigger("transition:end",this,s)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,w({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,w({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new Y(0,0)},getPointFromConnectedLink:function(){return new Y},getBBox:function(){return new Pt(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const r=new Y(e,n);return t&&r.rotate(this.getBBox().center(),t),r},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes;return e&&e[t]||ro[t]},define:function(t,e,n,r){n=w({defaults:U({type:t},e,this.prototype.defaults)},n);var s=this.extend(n,r);return typeof joint<"u"&&Yr(joint,"shapes")&&is(joint.shapes,t,s,"."),s}});function To(t,e,n){var r=t.toJSON();return r.angle=e||0,D({},n,r)}function Xs(t,e,n){return t.map(function(r,s,o){var l=this.pointAt((s+.5)/o.length);return(r.dx||r.dy)&&l.offset(r.dx||0,r.dy||0),To(l.round(),0,r)},Q(e,n))}function di(t,e,n,r){var s=e.center(),o=e.width/e.height,l=e.topMiddle(),f=Ht.fromRect(e);return t.map(function(g,m,A){var p=n+r(m,A.length),L=l.clone().rotate(s,-p).scale(o,1,s),R=g.compensateRotation?-f.tangentTheta(L):0;return(g.dx||g.dy)&&L.offset(g.dx||0,g.dy||0),g.dr&&L.move(s,g.dr),To(L.round(),R,g)})}function rt(t,e){var n=e.x;vn(n)&&(n=parseFloat(n)/100*t.width);var r=e.y;return vn(r)&&(r=parseFloat(r)/100*t.height),Re(n||0,r||0)}const Ct=function(t,e,n){return t.map(rt.bind(null,e))},dt=function(t,e,n){return n.fn(t,e,n)},_t=function(t,e,n){return Xs(t,rt(e,n.start||e.origin()),rt(e,n.end||e.corner()))},he=function(t,e,n){return Xs(t,e.origin(),e.bottomLeft())},Xe=function(t,e,n){return Xs(t,e.topRight(),e.corner())},Dn=function(t,e,n){return Xs(t,e.origin(),e.topRight())},tn=function(t,e,n){return Xs(t,e.bottomLeft(),e.corner())},Ia=function(t,e,n){var s=n.step||360/t.length;return di(t,e,n.startAngle||0,function(o){return o*s})},nu=function(t,e,n){var s=n.step||20;return di(t,e,n.startAngle||0,function(o,l){return(o+.5-l/2)*s})};function E(t,e){return U({},t,e,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function F(t,e,n,r){r=D({},r,{offset:15});var l,f,g,m,s=e.center().theta(t),o=et(e),A=r.offset,p=0;s<o[1]||s>o[2]?(g=".3em",l=A,f=0,m="start"):s<o[0]?(g="0",l=0,f=-A,n?(p=-90,m="start"):m="middle"):s<o[3]?(g=".3em",l=-A,f=0,m="end"):(g=".6em",l=0,f=A,n?(p=90,m="start"):m="middle");var L=Math.round;return E({x:L(l),y:L(f),angle:p,attrs:{".":{y:g,"text-anchor":m}}})}function et(t){var e=t.center(),n=e.theta(t.origin()),r=e.theta(t.bottomLeft()),s=e.theta(t.corner());return[n,e.theta(t.topRight()),s,r]}function At(t,e,n,r){var o,l,f,g,s=e.center().theta(t),m=(r=D({},r,{offset:15})).offset,A=0,p=et(e);s<p[1]||s>p[2]?(f=".3em",o=-m,l=0,g="end"):s<p[0]?(f=".6em",o=0,l=m,n?(A=90,g="start"):g="middle"):s<p[3]?(f=".3em",o=m,l=0,g="start"):(f="0em",o=0,l=-m,n?(A=-90,g="start"):g="middle");var L=Math.round;return E({x:L(o),y:L(l),angle:A,attrs:{".":{y:f,"text-anchor":g}}})}function at(t,e,n){n=D({},n,{offset:20});var g,r=Re(0,0),s=-t.theta(r),o=s,l=t.clone().move(r,n.offset).difference(t).round(),f=".3em";(s+90)%180==0?(g=e?"end":"middle",!e&&-270===s&&(f="0em")):s>-270&&s<-90?(g="start",o=s-180):g="end";var m=Math.round;return E({x:m(l.x),y:m(l.y),angle:e?o:0,attrs:{".":{y:f,"text-anchor":g}}})}const bt=function(t,e,n){return E(n,e)},It=function(t,e,n){return E(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},Et=function(t,e,n){return E(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},Bt=function(t,e,n){return E(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},qt=function(t,e,n){return E(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},te=function(t,e,n){return F(t,e,!0,n)},ce=function(t,e,n){return F(t,e,!1,n)},Me=function(t,e,n){return At(t,e,!0,n)},Ke=function(t,e,n){return At(t,e,!1,n)},Jt=function(t,e,n){return at(t.difference(e.center()),!1,n)},Ln=function(t,e,n){return at(t.difference(e.center()),!0,n)};var $n=function(t){var e=ot(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Ir,this.portLabelLayoutNamespace=ue,this._init(e)};$n.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),r=this.getPortsByGroup(t),s=n.position||{},o=s.name,l=this.portLayoutNamespace;l[o]||(o="left");var f=s.args||{},g=r.map(function(p){return p&&p.position&&p.position.args}),m=l[o](g,e,f),A={ports:r,result:[]};return Ft(m).reduce(function(p,L,R){var j=p.ports[R];return p.result.push({portId:j.id,portTransformation:L,labelTransformation:this._getPortLabelLayout(j,Y(L),e),portAttrs:j.attrs,portSize:j.size,labelSize:j.label.size}),p}.bind(this),A),A.result},_getPortLabelLayout:function(t,e,n){var r=this.portLabelLayoutNamespace,s=t.label.position.name||"left";return r[s]?r[s](e,n,t.label.position.args):null},_init:function(t){if(ln(t.groups))for(var e=Object.keys(t.groups),n=0,r=e.length;n<r;n++){var s=e[n];this.groups[s]=this._evaluateGroup(t.groups[s])}for(var o=Ft(t.items),l=0,f=o.length;l<f;l++)this.ports.push(this._evaluatePort(o[l]))},_evaluateGroup:function(t){return Gn(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=w({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=Gn({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=Gn({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=w({},n.size,e.size),e},_getZIndex:function(t,e){return Ae(e.z)?e.z:Ae(t.z)||"auto"===t.z?t.z:"auto"},_createPositionNode:function(t,e){return Gn({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var r,n={};Zt(t)?(r="fn",n.fn=t):vn(t)?r=t:void 0===t?r=e?"left":null:Array.isArray(t)?(r="absolute",n.x=t[0],n.y=t[1]):ln(t)&&(r=t.name,w(n,t.args));var s={args:n};return r&&(s.name=r),s},_getLabel:function(t,e){var n=t.label||{},r=n;return r.position=this._getPosition(n.position,e),r}};const dr={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};Ft(t.items).forEach(function(f){e[f.id]=!0});var n=this.previous("ports")||{},r={};Ft(n.items).forEach(function(f){e[f.id]||(r[f.id]=!0)});var s=this.graph;s&&!mt(r)&&(s.getConnectedLinks(this,{inbound:!0}).forEach(function(f){r[f.get("target").port]&&f.remove()}),s.getConnectedLinks(this,{outbound:!0}).forEach(function(f){r[f.get("source").port]&&f.remove()}))},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return-1!==this.getPortIndex(t)},getPorts:function(){return ot(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=Ft(this.prop(["ports","items"])).filter(n=>n.group===t);return ot(e)},getPort:function(t){return ot(Ft(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){return this._portSettingsData.getGroupPortsMetrics(t,Pt(this.size())).reduce(function(n,r){var s=r.portTransformation;return n[r.portId]={x:s.x,y:s.y,angle:s.angle},n},{})},getPortIndex:function(t){var e=ln(t)?t.id:t;return this._isValidPortId(e)?Ft(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!ln(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=w([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const r="number"==typeof t?t:this.getPortIndex(t);if(!ln(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const s=w([],this.prop("ports/items"));return s.splice(r,0,e),this.prop("ports/items",s,n),this},portProp:function(t,e,n,r){var s=this.getPortIndex(t);if(-1===s)throw new Error("Element: unable to find port with id "+t);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?o[0]=["ports","items",s].concat(e):vn(e)?o[0]=["ports/items/",s,"/",e].join(""):(o=["ports/items/"+s],Ot(e)&&(o.push(e),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var t=this.get("ports")||{},e=[],n=Ft((t=t||{}).items);return n.forEach(function(r){"object"!=typeof r&&e.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),gt(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return null!=t&&!ln(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",w([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},r=this.getPortIndex(t);if(-1!==r){const s=w([],this.prop(["ports","items"]));s.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],s,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,r;if(Array.isArray(t)){if(n=e||{},0===t.length)return this.this;r=w([],this.prop(["ports","items"])).filter(function(o){return!t.some(function(l){const f=ln(l)?l.id:l;return o.id===f})})}else n=t||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e,t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new $n(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(o){if(!e.find(function(l){return l.id===o.id}))return o}),s=e.filter(function(o){if(!n.find(function(l){return l.id===o.id}))return o});s.length>0&&this.trigger("ports:remove",this,s),r.length>0&&this.trigger("ports:add",this,r)}}},mn={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,r=e.node.childNodes.length;n<r;n++)t.push(e.node.childNodes[n]);var s=yr(this.model._portSettingsData.getPorts(),"z"),o="auto";Ft(s[o]).forEach(function(A){var p=this._getPortElement(A);e.append(p),t.push(p)},this);for(var l=Object.keys(s),f=0;f<l.length;f++){var g=l[f];if(g!==o){var m=parseInt(g,10);this._appendPorts(s[g],m,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var r=this._getContainerElement(),s=Ft(t).map(this._getPortElement,this);n[e]||e<0?pt(n[Math.max(e,0)]).before(s):r.append(s)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const n=this._portElementsCache[t];if(!n)return null;const r=n.portContentElement.node,s=n.portContentSelectors,[o=null]=this.findBySelector(e,r,s);return o},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){W(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,r,s;var o=pt(this.portContainerMarkup).addClass("joint-port"),l=this._getPortMarkup(t);if(Array.isArray(l)){var f=this.parseDOMJSON(l,o.node),g=f.fragment;e=g.childNodes.length>1?pt("g").append(g):pt(g.firstChild),s=f.selectors}else e=pt(l),Array.isArray(e)&&(e=pt("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const m=this._getPortLabelMarkup(t.label);if(Array.isArray(m)){const{fragment:L,selectors:R}=this.parseDOMJSON(m,o.node),j=L.childNodes.length;j>0&&(r=R,n=1===j?pt(L.firstChild):pt("g").append(L))}else n=pt(m),Array.isArray(n)&&(n=pt("g").append(n));var A;if(s&&r){for(var p in r)if(s[p]&&p!==this.selector)throw new Error("ElementView: selectors within port must be unique.");A=w({},s,r)}else A=s||r;return o.append(e.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:o,portLabelElement:n,portSelectors:A,portLabelSelectors:r,portContentElement:e,portContentSelectors:s},o},_updatePortGroup:function(t){for(var e=Pt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),r=0,s=n.length;r<s;r++){var o=n[r],f=this._portElementsCache[o.portId]||{},g=o.portTransformation;this.applyPortTransform(f.portElement,g),this.updateDOMSubtreeAttributes(f.portElement.node,o.portAttrs,{rootBBox:new Pt(o.portSize),selectors:f.portSelectors});var m=o.labelTransformation;m&&f.portLabelElement&&(this.applyPortTransform(f.portLabelElement,m,-g.angle||0),this.updateDOMSubtreeAttributes(f.portLabelElement.node,m.attrs,{rootBBox:new Pt(o.labelSize),selectors:f.portLabelSelectors}))}},applyPortTransform:function(t,e,n){var r=pt.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(r,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},en=Ti.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Ti.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const r=Ae(e);n=(r?n:t)||{};const{parentRelative:s,deep:o,restrictedArea:l}=n;let f;if(s){if(!this.graph)throw new Error("Element must be part of a graph.");const g=this.getParentCell();g&&!g.isLink()&&(f=g.get("position"))}if(r){if(f&&(t+=f.x,e+=f.y),o||l){const{x:g,y:m}=this.get("position");this.translate(t-g,e-m,n)}else this.set("position",{x:t,y:e},n);return this}{const g=Y(this.get("position"));return s?g.difference(f):g}},translate:function(t,e,n){if(e=e||0,0===(t=t||0)&&0===e)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},s=n.restrictedArea;if(s&&n.translateBy===this.id)if("function"==typeof s){var o=s.call(this,r.x+t,r.y+e,n);t=o.x-r.x,e=o.y-r.y}else{var l=this.getBBox({deep:!0}),f=r.x-l.x,g=r.y-l.y,m=Math.max(s.x+f,Math.min(s.x+s.width+f-l.width,r.x+t)),A=Math.max(s.y+g,Math.min(s.y+s.height+g-l.height,r.y+e));t=m-r.x,e=A-r.y}var p={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(ln(n.transition)||(n.transition={}),this.transition("position",p,w({},n.transition,{valueFunction:_.object})),W(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",p,n),W(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var r=this.get("size");return void 0===t?{width:r.width,height:r.height}:(ln(t)&&(n=e,e=Ae(t.height)?t.height:r.height,t=Ae(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,n){if(this.startBatch("resize",n=n||{}),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width}var l,s=cr(this.get("angle")||0),o=this.getBBox();if(s){var f={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(f+=Math.floor((s+45)/90),f%=4);var g=o[["bottomLeft","corner","topRight","origin"][f]](),m=Y(g).rotate(o.center(),-s),A=Math.sqrt(t*t+e*e)/2,p=f*Math.PI/2;p+=Math.atan(f%2==0?e/t:t/e),p-=kn(s);var L=Y.fromPolar(A,p,m);l=Y(L).offset(t/-2,e/-2)}else switch(l=o.topLeft(),n.direction){case"top":case"top-right":l.offset(0,o.height-e);break;case"left":case"bottom-left":l.offset(o.width-t,0);break;case"top-left":l.offset(o.width-t,o.height-e)}this.set("size",{width:t,height:e},n),this.position(l.x,l.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,r){var s=this.getBBox().scale(t,e,n);return this.startBatch("scale",r),this.position(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this},fitEmbeds:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(p=>p.isElement());if(0===n.length)return this;this.startBatch("fit-embeds",t),t.deep&&W(n,"fitEmbeds",t);const{left:r,right:s,top:o,bottom:l}=x(t.padding);let{x:f,y:g,width:m,height:A}=e.getCellsBBox(n);return f-=r,g-=o,m+=r+s,A+=l+o,this.set({position:{x:f,y:g},size:{width:m,height:A}},t),this.stopBatch("fit-embeds"),this},rotate:function(t,e,n,r){if(n){var s=this.getBBox().center(),o=this.get("size"),l=this.get("position");s.rotate(n,this.get("angle")-t);var f=s.x-o.width/2-l.x,g=s.y-o.height/2-l.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(l.x+f,l.y+g,r),this.rotate(t,e,null,r),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,r);return this},angle:function(){return cr(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:r,rotate:s}=t;if(r&&e){const p=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return p.push(this),e.getCellsBBox(p,t)}const{angle:o=0,position:{x:l,y:f},size:{width:g,height:m}}=n,A=new Pt(l,f,g,m);return s&&A.rotateAroundCenter(o),A},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),r=n.center(),s=t.get(e);if(!s)return r;var o=s.port;if(!o||!this.hasPort(o))return r;var l=this.portProp(o,["group"]),f=this.getPortsPositions(l),g=new Y(f[o]).offset(n.origin()),m=this.angle();return m&&g.rotate(r,-m),g}});w(en.prototype,dr);const In=Ti.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){return void 0===t?xt(this.get("source")):t instanceof Ti?((r=xt(e)||{}).id=t.id,this.set("source",r,n)):Ot(t)?this.set("source",r=t,e):((r=xt(e)||{}).x=t.x,r.y=t.y,this.set("source",r,n));var r},target:function(t,e,n){return void 0===t?xt(this.get("target")):t instanceof Ti?((r=xt(e)||{}).id=t.id,this.set("target",r,n)):Ot(t)?this.set("target",r=t,e):((r=xt(e)||{}).x=t.x,r.y=t.y,this.set("target",r,n));var r},router:function(t,e,n){if(void 0===t){var r=this.get("router");return r?"object"==typeof r?xt(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var s="object"==typeof t||"function"==typeof t;return this.set("router",s?t:{name:t,args:e},s?e:n)},connector:function(t,e,n){if(void 0===t){var r=this.get("connector");return r?"object"==typeof r?xt(r):r:this.get("smooth")?{name:"smooth"}:null}var s="object"==typeof t||"function"==typeof t;return this.set("connector",s?t:{name:t,args:e},s?e:n)},label:function(t,e,n){var r=this.labels();return(t=isFinite(t)&&null!==t?0|t:0)<0&&(t=r.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return 0===arguments.length?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var r=this.labels(),s=r.length;return(t=isFinite(t)&&null!==t?0|t:s)<0&&(t=s+t+1),r.splice(t,0,e),this.labels(r,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&null!==t?0|t:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var r=this.vertices();if((t=isFinite(t)&&null!==t?0|t:0)<0&&(t=r.length+t),arguments.length<=1)return this.prop(["vertices",t]);var s=this._normalizeVertex(e);return this.prop(["vertices",t],s,n)},vertices:function(t,e){if(0===arguments.length)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],r=0;r<t.length;r++){var s=t[r],o=this._normalizeVertex(s);n.push(o)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),s=r.length;(t=isFinite(t)&&null!==t?0|t:s)<0&&(t=s+t+1);var o=this._normalizeVertex(e);return r.splice(t,0,o),this.vertices(r,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&null!==t?0|t:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){return Ot(t)?t:{x:t.x,y:t.y}},translate:function(t,e,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(r){return{x:(r.x||0)+t,y:(r.y||0)+e}},n)},scale:function(t,e,n,r){return this.applyToPoints(function(s){return Y(s).scale(t,e,n).toJSON()},r)},applyToPoints:function(t,e){if(!Zt(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:s}=this.attributes;r.id||(n.source=t(r)),s.id||(n.target=t(s));var o=this.vertices();return o.length>0&&(n.vertices=o.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new Y(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new Y(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(Y),this.getTargetPoint()];return new Ie(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),s=this.getParentCell();n&&r&&(e=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),s&&(!e||e.id!==s.id)&&s.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,r=e.id,s=n.id;if(!r||!s)return!1;var o=r===s;if(!o&&t.deep&&this.graph){var l=this.getSourceCell(),f=this.getTargetCell();o=l.isEmbeddedIn(f)||f.isEmbeddedIn(l)}return o},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=vn(t)||Ae(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){return t.id===e.id&&(t.port===e.port||!t.port&&!e.port)}}),br={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},Aa=en.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),Ca=en.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Do=en.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),Ic=en.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),Ac=en.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),Cc=en.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),Lo=en.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Po=en.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),ru=en.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),yc=en.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),gl=en.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),wc=en.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(void 0===t)return this.attr("body/lateralArea");var n=Yn(t);return this.attr({body:{lateralArea:t},top:n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t}},e)}},{attributes:{lateralArea:{set:function(t,e){var n=Yn(t);n&&(t=parseFloat(t)/100);var r=e.x,s=e.y,o=e.width,l=e.height,g=n?l*t:t,m=pt.KAPPA,A=m*(o/2),p=m*(n?l*t:t),R=r+o/2,j=r+o,tt=s+g,nt=tt-g,ht=s+l-g,ft=s+l;return{d:["M",r,tt,"L",r,ht,"C",r,ht+p,R-A,ft,R,ft,"C",R+A,ft,j,ht+p,j,ht,"L",j,tt,"C",j,tt-p,R+A,nt,R,nt,"C",R-A,nt,r,tt-p,r,tt,"Z"].join(" ")}}}}});var bc=br.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};const xc=en.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},bc]},{attributes:{text:{set:function(t,e,n,r){if(!(n instanceof HTMLElement)){var s=r.style||{},o={text:t,width:-5,height:"100%"},l=w({textVerticalAnchor:"middle"},s);return ro.textWrap.set.call(this,o,e,n,l),{fill:s.color||null}}n.textContent=t},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),su=In.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),Nc=In.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),au=In.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),so={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,r=n>0&&e[0]||[],s=n>1&&e[n-1]||{};return Array.isArray(r)||(s instanceof Ti?r=e:r instanceof Ti&&(e.length>1&&e.pop(),r=e)),s instanceof Ti&&(s={}),t.call(this,r,s)}}},Za=un.Collection.extend({initialize:function(t,e){this.cellNamespace=e.cellNamespace?e.cellNamespace:typeof joint<"u"&&Yr(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,o=new("link"===t.type?In:Ui(n.cellNamespace,t.type,".")||en)(t,e);return e.dry||(o.graph=n.graph),o},comparator:function(t){return t.get("z")||0}}),Ms=un.Model.extend({initialize:function(t,e){var n=new Za([],{model:(e=e||{}).cellModel,cellNamespace:e.cellNamespace,graph:this});un.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=un.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return"object"==typeof t?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=wr(r,"cells")),un.Model.prototype.set.call(this,r,n)},clear:function(t){t=w({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.startBatch("clear",t);var n=e.sortBy(function(r){return r.isLink()?1:2});do{n.shift().remove(t)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof un.Model?(n=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):n=t,!vn(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof un.Model?t.has("z")||t.set("z",this.maxZIndex()+1):void 0===t.z&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return 0===t.length||(t=ne(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e)),this},resetCells:function(t,e){var n=Ft(t).map(function(r){return this._prepareCell(r,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),W(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){var n=(e=e||{}).indirect,r=e.inbound,s=e.outbound;void 0===r&&void 0===s&&(r=s=!0);var o=[],l={};function f(p,L){if(Un(p.getOutboundEdges(L.id),function(j,tt){if(!l[tt]){var nt=p.getCell(tt);o.push(nt),l[tt]=!0,n&&(r&&g(p,nt),s&&f(p,nt))}}.bind(p)),n&&L.isLink()){var R=L.getTargetCell();R&&R.isLink()&&(l[R.id]||(o.push(R),f(p,R)))}}function g(p,L){if(Un(p.getInboundEdges(L.id),function(j,tt){if(!l[tt]){var nt=p.getCell(tt);o.push(nt),l[tt]=!0,n&&(r&&g(p,nt),s&&f(p,nt))}}.bind(p)),n&&L.isLink()){var R=L.getSourceCell();R&&R.isLink()&&(l[R.id]||(o.push(R),g(p,R)))}}if(s&&f(this,t),r&&g(this,t),e.deep){var m=t.getEmbeddedCells({deep:!0}),A={};m.forEach(function(p){p.isElement()&&(A[p.id]=!0)}),m.forEach(function(p){p.isLink()||(s&&Un(this.getOutboundEdges(p.id),function(L,R){if(!l[R]){var j=this.getCell(R),{source:tt,target:nt}=j.attributes,ht=tt.id,ft=nt.id;if(!e.includeEnclosed&&ht&&A[ht]&&ft&&A[ft])return;o.push(this.getCell(R)),l[R]=!0}}.bind(this)),r&&Un(this.getInboundEdges(p.id),function(L,R){if(!l[R]){var j=this.getCell(R),{source:tt,target:nt}=j.attributes,ht=tt.id,ft=nt.id;if(!e.includeEnclosed&&ht&&A[ht]&&ft&&A[ft])return;o.push(this.getCell(R)),l[R]=!0}}.bind(this)))},this)}return o},getNeighbors:function(t,e){e||(e={});var n=e.inbound,r=e.outbound;void 0===n&&void 0===r&&(n=r=!0);var s=this.getConnectedLinks(t,e).reduce(function(f,g){var{source:m,target:A}=g.attributes,p=g.hasLoop(e);if(n&&Yr(m,"id")&&!f[m.id]){var L=this.getCell(m.id);L.isElement()&&(p||L&&L!==t&&(!e.deep||!L.isEmbeddedIn(t)))&&(f[m.id]=L)}if(r&&Yr(A,"id")&&!f[A.id]){var R=this.getCell(A.id);R.isElement()&&(p||R&&R!==t&&(!e.deep||!R.isEmbeddedIn(t)))&&(f[A.id]=R)}return f}.bind(this),{});if(t.isLink()){if(n){var o=t.getSourceCell();o&&o.isElement()&&!s[o.id]&&(s[o.id]=o)}if(r){var l=t.getTargetCell();l&&l.isElement()&&!s[l.id]&&(s[l.id]=l)}}return Ft(s)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var r=[],s=n.get("parent");s;)r.push(s),s=this.getCell(s).get("parent");return r},this);t=t.sort(function(n,r){return n.length-r.length});var e=Ft(t.shift()).find(function(n){return t.every(function(r){return r.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){var n=[];return this.search(t,function(r){r!==t&&n.push(r)},w({},e=e||{},{outbound:!0})),n},cloneCells:Ra,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],r={},s=[],o=[];return Ft(t).forEach(function(l){r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?o.push(l):s.push(l)),e.deep&&l.getEmbeddedCells({deep:!0}).forEach(function(g){r[g.id]||(n.push(g),r[g.id]=g,g.isLink()?o.push(g):s.push(g))})}),o.forEach(function(l){var{source:f,target:g}=l.attributes;if(f.id&&!r[f.id]){var m=this.getCell(f.id);n.push(m),r[m.id]=m,s.push(m)}if(g.id&&!r[g.id]){var A=this.getCell(g.id);n.push(this.getCell(g.id)),r[A.id]=A,s.push(A)}},this),s.forEach(function(l){this.getConnectedLinks(l,e).forEach(function(g){var{source:m,target:A}=g.attributes;!r[g.id]&&m.id&&r[m.id]&&A.id&&r[A.id]&&(n.push(g),r[g.id]=g)})},this),n},getPredecessors:function(t,e){var n=[];return this.search(t,function(r){r!==t&&n.push(r)},w({},e=e||{},{inbound:!0})),n},search:function(t,e,n){(n=n||{}).breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const r={},s={},o=[];for(o.push(t),s[t.id]=0;o.length>0;){var l=o.shift();if(r[l.id]||(r[l.id]=!0,!1===e.call(this,l,s[l.id])))continue;const f=this.getNeighbors(l,n);for(let g=0,m=f.length;g<m;g++){const A=f[g];s[A.id]=s[l.id]+1,o.push(A)}}},dfs:function(t,e,n={}){const r={},s={},o=[];for(o.push(t),s[t.id]=0;o.length>0;){const l=o.pop();if(r[l.id]||(r[l.id]=!0,!1===e.call(this,l,s[l.id])))continue;const f=this.getNeighbors(l,n),g=o.length;for(let m=0,A=f.length;m<A;m++){const p=f[m];s[p.id]=s[l.id]+1,o.splice(g,0,p)}}},getSources:function(){var t=[];return Un(this._nodes,function(e,n){(!this._in[n]||mt(this._in[n]))&&t.push(this.getCell(n))}.bind(this)),t},getSinks:function(){var t=[];return Un(this._nodes,function(e,n){(!this._out[n]||mt(this._out[n]))&&t.push(this.getCell(n))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||mt(this._in[t.id])},isSink:function(t){return!this._out[t.id]||mt(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){var r=(n=n||{}).inbound,s=n.outbound;void 0===r&&void 0===s&&(r=s=!0);var o=!1;return this.getConnectedLinks(t,n).forEach(function(l){var{source:f,target:g}=l.attributes;if(r&&Yr(f,"id")&&f.id===e.id||s&&Yr(g,"id")&&g.id===e.id)return o=!0,!1}),o},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){W(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){const n=new Pt(t),{strict:r=!1}=e,s=r?"containsRect":"intersect";return this.getElements().filter(o=>n[s](o.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){const{searchBy:n="bbox"}=e,r=t.getBBox().rotateAroundCenter(t.angle());return("bbox"===n?this.findModelsInArea(r):this.findModelsFromPoint(r[n]())).filter(o=>t.id!==o.id&&!o.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return Ft(t).reduce(function(r,s){const o=s.getBBox({rotate:n});return o?r?r.union(o):o:r},null)},translate:function(t,e,n){var r=this.getCells().filter(function(s){return!s.isEmbedded()});return W(r,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,r){var s=this.getCellsBBox(n);if(s){var o=Math.max(t/s.width,0),l=Math.max(e/s.height,0);W(n,"scale",o,l,s.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",w({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",w({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return n=0===arguments.length?Object.keys(e):Array.isArray(t)?t:[t],n.some(r=>e[r]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:r}=e.attributes;if(n.id&&r.id){var s=e.getSourceCell();if(s&&t.getConnectedLinks(s,{outbound:!0}).filter(function(f){var{source:g,target:m}=f.attributes;return g&&g.id===n.id&&(!g.port||g.port===n.port)&&m&&m.id===r.id&&(!m.port||m.port===r.port)}).length>1)return!1}return!0},linkPinning:function(t,e){var{source:n,target:r}=e.attributes;return n.id&&r.id}}});!function(t,e,n){if(vn(n)){if(!so[n])throw new Error('Unknown wrapper: "'+n+'"');n=so[n]}if(!Zt(n))throw new Error("Wrapper must be a function.");Ft(["resetCells","addCells","removeCells"]).forEach(function(r){t[r]=n(t[r])})}(Ms.prototype,0,so.cells);const Hi={},pi=un.View.extend({options:{},theme:null,themeClassNamePrefix:wn("theme-"),requireSetThemeOverride:!1,defaultTheme:sr.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=w({},this.options,t),un.View.call(this,t)},initialize:function(){Hi[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},renderChildren:function(t){if(t||(t=Ve(this,"children")),t){var e=this.svgElement,r=_r(t,pt.namespace[e?"svg":"xhtml"]);(e?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(t,e){for(var n=e;n&&1===n.nodeType;){var r=n.getAttribute(t);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Ve(this,"el"));else{var t=Ve(this,"tagName"),e=w({},Ve(this,"attributes")),n=w({},Ve(this,"style"));this.id&&(e.id=Ve(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(pt.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof un.$?t:un.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=pt(this.el))},_ensureElClassName:function(){var t=Ve(this,"className");if(t){var e=wn(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override||(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t),this},addThemeClassName:function(t){if(!(t=t||this.theme))return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){var e=this.themeClassNamePrefix+(t=t||this.theme);return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Hi[this.cid]=null,un.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var r=this.getEventNamespace();for(var s in e){var o=e[s];"function"!=typeof o&&(o=this[o]),o&&Ne(t).on(s+r,n,o.bind(this))}return this},undelegateElementEvents:function(t){return Ne(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=Ve(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,r="__"+this.cid+"__";return void 0===e?n&&n[r]||{}:(n||(n=t.data={}),n[r]||(n[r]={}),w(n[r],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&w({},t[0])||{},n=t[1]&&w({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return"function"==typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},e.render.__render__=r,un.View.extend.call(this,e,n)}});if(Ne.event&&!("dbltap"in Ne.event.special)){const t=sr.doubleTapInterval,e=30;Ne.event.special.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:s,target:o}=n,l=Ne.data(o),f=(new Date).getTime(),g="lastTouch"in l?f-l.lastTouch:0;g<t&&g>e?(l.lastTouch=null,n.type=s.origType,s.handler.call(this,n,...r)):l.lastTouch=f}}}function ou(t){return t?Array.isArray(t)?t:[t]:[]}const Hs=pi.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,transformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return this.update(t,e),this.mount(),this.transform(),0},findNode(t,e=null){let n;if("string"==typeof e)[n]=t.findBySelector(e);else if(Ot(e)){const r=t.model.isLink(),{label:s=null,port:o,selector:l}=e;r&&null!==s?n=t.findLabelNode(s,l):!r&&o?n=t.findPortNode(o,l):[n]=t.findBySelector(l)}else e&&(n=pt.toNode(e),n instanceof SVGElement||(n=null));return n||null},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:r,transformGroup:s}=this;if(!t||s)return;const{vel:o,paper:l}=e,{layer:f}=r;if(f){const g=this.transformGroup=pt("g").addClass("highlight-transform").append(n);l.getLayerView(f).insertSortedNode(g.node,r.z)}else(!n.parentNode||n.nextSibling)&&o.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;!t||(e?(this.transformGroup=null,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const r=e.getRootTranslateMatrix(),s=e.getRootRotateMatrix(),o=r.multiply(s);t.attr("transform",pt.matrixToTransformString(o))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:r,id:s}=this;if(r)return;const o=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),o?(this.highlight(e,o),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",s,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:r}=this;t&&this.unhighlight(e,t),this.unmount(),r._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){}},{_views:{},highlight:function(t,e,n){const r=this.uniqueId(e,n);this.add(t,e,r,n)},unhighlight:function(t,e,n){const r=this.uniqueId(e,n);this.remove(t,r)},get(t,e=null){const{cid:n}=t,{_views:r}=this,s=r[n];if(null===e){const o=[];if(!s)return o;for(let l in s){const f=s[l];f instanceof this&&o.push(f)}return o}if(!s)return null;if(e in s){const o=s[e];if(o instanceof this)return o}return null},add(t,e,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const s=Hs.get(t,n);s&&s.remove();const o=new this(r);return o.id=n,this._addRef(t,n,o),o.requestUpdate(t,e),o},_addRef(t,e,n){const{cid:r}=t,{_views:s}=this;let o=s[r];o||(o=s[r]={}),o[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:r}=this,s=r[n];if(s){e&&delete s[e];for(let o in s)return;delete r[n]}},remove(t,e=null){ou(this.get(t,e)).forEach(n=>{n.remove()})},update(t,e=null,n=!1){ou(this.get(t,e)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(t,e=null){ou(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},uniqueId:(t,e="")=>pt.ensureId(t)+JSON.stringify(e)}),Wa={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Oe=pi.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,r,s){t.push("type-"+s.slice(0,r+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var r,s,o,t={},e={},n=0,l=Ve(this,"presentationAttributes");for(var f in l)if(l.hasOwnProperty(f)){var g=l[f];for(Array.isArray(g)||(g=[g]),r=0,s=g.length;r<s;r++){var m=t[o=g[r]];m||(m=t[o]=1<<n++),e[f]|=m}}var A=Ve(this,"initFlag");for(Array.isArray(A)||(A=[A]),r=0,s=A.length;r<s;r++)t[o=A[r]]||(t[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)n|=e[t[r]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||ws(this),pi.call(this,t)},initialize:function(){this.setFlags(),pi.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},onMount(){},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=_r(t),r=n.selectors,s=n.groupSelectors;for(var o in s){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=s[o]}if(e){var l=this.selector;if(r[l])throw new Error("dia.CellView: ambiguous root selector.");r[l]=e}return{fragment:n.fragment,selectors:r}},can:function(t){var e=Zt(this.options.interactive)?this.options.interactive(this):this.options.interactive;return ln(e)&&!1!==e[t]||function(t){return!0===t||!1===t||!!t&&"object"==typeof t&&"[object Boolean]"===Object.prototype.toString.call(t)}(e)&&!1!==e},findBySelector:function(t,e,n){if(e||(e=this.el),n||(n=this.selectors),!t||"."===t)return[e];if(n){var r=n[t];if(r)return Array.isArray(r)?r:[r]}return sr.useCSSSelectors?Ne(e).find(t).toArray():[]},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix(),s=this.getRootRotateMatrix();return pt.transformRect(e,r.multiply(s).multiply(n))},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix();return pt.transformRect(e,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model.position();return pt.createSVGMatrix().translate(e.x,e.y)},getRootRotateMatrix:function(){var t=pt.createSVGMatrix(),e=this.model,n=e.angle();if(n){var r=e.getBBox(),s=r.width/2,o=r.height/2;t=t.translate(s,o).rotate(n).translate(-s,-o)}return t},_notifyHighlight:function(t,e,n={}){const{el:r}=this;let s;if([s=r]="string"==typeof e?this.findBySelector(e):this.$(e),n.partial=s!==r,void 0===n.type){let o;switch(!0){case n.embedding:o=Wa.EMBEDDING;break;case n.connecting:o=Wa.CONNECTING;break;case n.magnetAvailability:o=Wa.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=Wa.ELEMENT_AVAILABILITY;break;default:o=Wa.DEFAULT}n.type=o}return this.notify(t,s,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const r=n.getAttribute("magnet"),s=n===e;if((r||s)&&"false"!==r)return n;if(s)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return t},getSelector:function(t,e){var n;if(t===this.el)return"string"==typeof e&&(n="> "+e),n;if(t){var r=pt(t).index()+1;n=t.tagName+":nth-child("+r+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var r=this.paper,s=r.model,o=r.getDefaultLink(this,t);return o.set({source:this.getLinkEnd(t,e,n,o,"source"),target:{x:e,y:n}}).addTo(s,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(t,...e){var n=this.model,r=n.id,s=this.findAttribute("port",t),o=t.getAttribute("joint-selector"),l={id:r};return null!=o&&(l.magnet=o),null!=s?(l.port=s,!n.hasPort(s)&&!o&&(l.selector=this.getSelector(t))):null==o&&this.el!==t&&(l.selector=this.getSelector(t)),this.customizeLinkEnd(l,t,...e)},customizeLinkEnd:function(t,e,n,r,s,o){const{paper:l}=this,{connectionStrategy:f}=l.options;if("function"==typeof f){var g=f.call(l,t,this,e,new Y(n,r),s,o,l);if(g)return g}return t},getMagnetFromLinkEnd:function(t){var o,e=this.el,n=t.port,r=t.magnet,s=this.model;return null!=n&&s.isElement()&&s.hasPort(n)?o=this.findPortNode(n,r)||e:(r||(r=t.selector),!r&&null!=n&&(r='[port="'+n+'"]'),o=this.findBySelector(r,e,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(t,e,n,r){this.model.startBatch("add-link");const s=this.addLinkFromMagnet(e,n,r);s.notifyPointerdown(t,n,r),s.eventData(t,s.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:s})},dragLink:function(t,e,n){var r=this.eventData(t),s=r.linkView;if(s)s.pointermove(t,e,n);else{var o=this.paper,l=o.options.magnetThreshold,f=this.getEventTarget(t),g=r.targetMagnet;if("onleave"===l){if(g===f||pt(g).contains(f))return}else if(o.eventData(t).mousemoved<=l)return;this.dragLinkStart(t,g,e,n)}},dragLinkEnd:function(t,e,n){var s=this.eventData(t).linkView;!s||(s.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){mt(e)||(t instanceof SVGElement?pt(t).attr(e):Ne(t).attr(e))},processNodeAttributes:function(t,e){var n,r,s,o,l,f,g,m,A,p=[];for(n in e)!e.hasOwnProperty(n)||(r=e[n],!(s=this.getAttributeDefinition(n))||Zt(s.qualify)&&!s.qualify.call(this,r,t,e)?(f||(f={}),f[Ka(n)]=r):(vn(s.set)&&(f||(f={}),f[s.set]=r),null!==r&&p.push(n,s)));for(o=0,l=p.length;o<l;o+=2)r=e[n=p[o]],Zt((s=p[o+1]).set)&&(g||(g={}),g[n]=r),Zt(s.position)&&(m||(m={}),m[n]=r),Zt(s.offset)&&(A||(A={}),A[n]=r);return{raw:e,normal:f,set:g,position:m,offset:A}},updateRelativeAttributes:function(t,e,n,r){r||(r={});var s,o,f=e.raw||{},g=e.normal||{},m=e.set,A=e.position,p=e.offset;for(s in m){o=m[s];var L=this.getAttributeDefinition(s).set.call(this,o,n.clone(),t,f);ln(L)?w(g,L):void 0!==L&&(g[s]=L)}if(t instanceof HTMLElement)this.setNodeAttributes(t,g);else{var nt,ht,ft,R=g.transform,j=pt.transformStringToMatrix(R),tt=Y(j.e,j.f);if(R&&(g=wr(g,"transform"),j.e=j.f=0),A||p){var y=this.getNodeScale(t,r.scalableNode);nt=y.sx,ht=y.sy}var S=!1;for(s in A)o=A[s],(ft=this.getAttributeDefinition(s).position.call(this,o,n.clone(),t,f))&&(tt.offset(Y(ft).scale(nt,ht)),S||(S=!0));this.setNodeAttributes(t,g);var P=!1;if(p){var Z=this.getNodeBoundingRect(t);if(Z.width>0&&Z.height>0){var H=pt.transformRect(Z,j).scale(1/nt,1/ht);for(s in p)o=p[s],(ft=this.getAttributeDefinition(s).offset.call(this,o,H,t,f))&&(tt.offset(Y(ft).scale(nt,ht)),P||(P=!0))}}(void 0!==R||S||P)&&(tt.round(1),j.e=tt.x,j.f=tt.y,t.setAttribute("transform",pt.matrixToTransformString(j)))}},getNodeScale:function(t,e){var n,r;if(e&&e.contains(t)){var s=e.scale();n=1/s.sx,r=1/s.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=pt.ensureId(t),r=e[n];return r||(r=e[n]={}),r},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return void 0===e.boundingRect&&(e.boundingRect=pt(t).getBBox()),new Pt(e.boundingRect)},getNodeMatrix:function(t){var e=this.nodeCache(t);if(void 0===e.magnetMatrix){var n=this.rotatableNode||this.el;e.magnetMatrix=pt(t).getTransformToElement(n)}return pt.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return void 0===e.geometryShape&&(e.geometryShape=pt(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,r){var s,o,l,f,g={},m=[];for(var A in t)if(t.hasOwnProperty(A)&&Ot(l=t[A])){var p=n[A]=this.findBySelector(A,e,r);for(s=0,o=p.length;s<o;s++){var L=p[s];f=pt.ensureId(L);var R=r&&r[A]===L,j=g[f];if(j){j.array||(m.push(f),j.array=!0,j.attributes=[j.attributes],j.selectedLength=[j.selectedLength]);var tt=j.attributes,nt=j.selectedLength;if(R)tt.unshift(l),nt.unshift(-1);else{var ht=it(nt,o);tt.splice(ht,0,l),nt.splice(ht,0,o)}}else g[f]={attributes:l,selectedLength:R?-1:o,node:L,array:!1}}}for(s=0,o=m.length;s<o;s++)(l=g[f=m[s]]).attributes=Gn({},...l.attributes.reverse());return g},getEventTarget:function(t,e={}){const{target:n,type:r,clientX:s=0,clientY:o=0}=t;return e.fromPoint||"touchmove"===r||"touchend"===r?document.elementFromPoint(s,o):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=Pt()),n.selectors||(n.selectors=this.selectors);var f,g,m,A,p,r={},s={},o=[],l=[],L=n.roAttributes,R=this.findNodesAttributes(L||e,t,r,n.selectors),j=L?this.findNodesAttributes(e,t,r,n.selectors):R;for(var tt in R)if((p=this.processNodeAttributes(g=(A=R[tt]).node,m=A.attributes)).set||p.position||p.offset){var ft,nt=j[tt]&&j[tt].attributes,ht=nt&&void 0===m.ref?nt.ref:m.ref;if(ht){if(!(ft=(r[ht]||this.findBySelector(ht,t,n.selectors))[0]))throw new Error('dia.CellView: "'+ht+'" reference does not exist.')}else ft=null;if(f={node:g,refNode:ft,processedAttributes:p,allAttributes:nt},ft){var y=l.findIndex(function(kt){return kt.refNode===g});y>-1?l.splice(y,0,f):l.push(f)}else o.push(f)}else this.setNodeAttributes(g,p.normal);o.push(...l);for(var S,P=0,Z=o.length;P<Z;P++){g=(f=o[P]).node,ft=f.refNode;var H=pt(n.rotatableNode),st=ft?pt.ensureId(ft):"",ut=!!H&&!!ft&&H.contains(ft),vt=s[st];if(!vt){var Dt=ut?H:t;vt=s[st]=ft?pt(ft).getBBox({target:Dt}):n.rootBBox}L?(p=this.processNodeAttributes(g,f.allAttributes),this.mergeProcessedAttributes(p,f.processedAttributes)):p=f.processedAttributes;var St=vt;ut&&!H.contains(g)&&(S||(S=pt.transformStringToMatrix(H.attr("transform"))),St=pt.transformRect(vt,S)),this.updateRelativeAttributes(g,p,St,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),w(t.set,e.set),w(t.position,e.position),w(t.offset,e.offset);var n=t.normal&&t.normal.transform;void 0!==n&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return!(!e||t&&e.getName()!==t)},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){Hs.remove(this)},updateHighlighters:function(t=!1){Hs.update(this,null,t)},transformHighlighters:function(){Hs.transform(this)},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:r}=this,{graph:s}=r;s&&(r.startBatch("pointer"),this.eventData(t,{graph:s})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:r}=this.eventData(t);this.notify("cell:pointerup",t,e,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,r){this.notify("cell:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){this.notify(e,t,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e}=this;e.isAsync()&&e.dumpView(this);const n=this.getEventTarget(t,{fromPoint:!0}),r=e.findView(n);r!==this&&(this.mouseleave(t),r&&r.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Highlighting:Wa,addPresentationAttributes:function(t){return Gn({},Ve(this.prototype,"presentationAttributes"),t,function(e,n){if(e&&n&&("string"==typeof e&&(e=[e]),"string"==typeof n&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return gt(e.concat(n))})}}),je={UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",TOOLS:"TOOLS",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},jn=Oe.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=Oe.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){Oe.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[je.UPDATE],position:[je.TRANSLATE,je.TOOLS],size:[je.RESIZE,je.PORTS,je.TOOLS],angle:[je.ROTATE,je.TOOLS],markup:[je.RENDER],ports:[je.PORTS]},initFlag:[je.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=sr;this.hasFlag(t,je.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(t,je.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),r=!0,t=this.removeFlag(t,[je.RENDER,je.UPDATE,je.RESIZE,je.TRANSLATE,je.ROTATE,je.PORTS,je.TOOLS]);else{let s=!1;this.hasFlag(t,je.RESIZE)&&(this.resize(e),s=!0,t=this.removeFlag(t,[je.RESIZE,je.UPDATE])),this.hasFlag(t,je.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,je.UPDATE),s=!0,n&&(t=this.removeFlag(t,je.PORTS))),this.hasFlag(t,je.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,je.TRANSLATE),r=!0),this.hasFlag(t,je.ROTATE)&&(this.rotate(),t=this.removeFlag(t,je.ROTATE),r=!0),this.hasFlag(t,je.PORTS)&&(this._renderPorts(),s=!0,t=this.removeFlag(t,je.PORTS)),s&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(t,je.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,je.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=sr;n&&this._removePorts();var r=this.model,s=r.attr();this.updateDOMSubtreeAttributes(this.el,s,{rootBBox:new Pt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===s?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=pt(n[this.rotatableSelector])||null,this.scalableNode=pt(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(pt(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),sr.useCSSSelectors||this._renderPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var n=t.size;return"rotate("+e+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),r=e.size(),s=this.scalableNode,o=!1;s.node.getElementsByTagName("path").length>0&&(o=!0);var l=s.getBBox({recursive:o});s.attr("transform","scale("+r.width/(l.width||1)+","+r.height/(l.height||1)+")");var m=this.rotatableNode,A=m&&m.attr("transform");if(A){m.attr("transform",A+" rotate("+-n+","+r.width/2+","+r.height/2+")");var p=s.getBBox({target:this.paper.cells});e.set("position",{x:p.x,y:p.y},w({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,r=(t.paper||this.paper).model,s=t.initialZIndices={},o=e.getEmbeddedCells({deep:!0}),l=r.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...o,...l].forEach(m=>s[m.id]=m.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const f=r.getElements().reduce((m,A)=>Math.max(m,A.attributes.z||0),0);l.forEach(m=>{m.attributes.z<=f&&m.set("z",f+1,{ui:!0})}),e.stopBatch("to-front");const g=e.parent();g?(r.getCell(g).unembed(e,{ui:!0}),t.initialParentId=g):t.initialParentId=null},processEmbedding:function(t={},e,n,r){const s=t.model||this.model,o=t.paper||this.paper,l=o.model,{findParentBy:f,frontParentOnly:g,validateEmbedding:m}=o.options;let A;A=Zt(f)?Ft(f.call(l,this,e,n,r)):"pointer"===f?Ft(l.findModelsFromPoint({x:n,y:r})):l.findModelsUnderElement(s,{searchBy:f}),A=A.filter(R=>R instanceof Ti&&s.id!==R.id&&!R.isEmbeddedIn(s)),g&&(A=A.slice(-1));let p=null;const L=t.candidateEmbedView;for(let R=A.length-1;R>=0;R--){const j=A[R];if(L&&L.model.id==j.id){p=L;break}{const tt=j.findView(o);if(!Zt(m)||m.call(o,this,tt)){p=tt;break}}}p&&p!=L&&(this.clearEmbedding(t),t.candidateEmbedView=p.highlight(p.findProxyNode(null,"container"),{embedding:!0})),!p&&L&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:s}=r.options,{initialParentId:o}=t;if(o&&"function"==typeof s&&!s.call(r,this))return void this._disallowUnembed(t)}r.model.getConnectedLinks(n,{deep:!0}).forEach(s=>{s.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,r=e||this.model,o=(t.paper||this.paper).model;switch(n){case"remove":r.remove({ui:!0});break;case"revert":{const{initialParentId:l,initialPosition:f,initialZIndices:g}=t;if(f){const{x:A,y:p}=f;r.position(A,p,{deep:!0,ui:!0})}g&&Object.keys(g).forEach(A=>{const p=o.getCell(A);p&&p.set("z",g[A],{ui:!0})});const m=o.getCell(l);m&&m.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findAttribute("port",t);if(r){const s=this.findPortNode(r,n);if(s)return s}else{const[s]=this.findBySelector(n);if(s)return s}}return t},notifyPointerdown(t,e,n){Oe.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){Oe.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),Oe.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){Oe.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){Oe.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){Oe.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.isPropagationStopped(t)||(this.notifyPointerdown(t,e,n),this.dragStart(t,e,n))},pointermove:function(t,e,n){var r=this.eventData(t);switch(r.action){case"magnet":this.dragMagnet(t,e,n);break;case"move":(r.delegatedView||this).drag(t,e,n);default:this.notifyPointermove(t,e,n)}this.eventData(t,r)},pointerup:function(t,e,n){var r=this.eventData(t);switch(r.action){case"magnet":this.dragMagnetEnd(t,e,n);break;case"move":(r.delegatedView||this).dragEnd(t,e,n);default:this.notifyPointerup(t,e,n)}var s=r.targetMagnet;s&&this.magnetpointerclick(t,s,e,n),this.checkMouseleave(t)},mouseover:function(t){Oe.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){Oe.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){Oe.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){Oe.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,r){Oe.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,r)},onmagnet:function(t,e,n){this.dragMagnetStart(t,e,n)},magnetpointerdblclick:function(t,e,n,r){this.notify("element:magnet:pointerdblclick",t,e,n,r)},magnetcontextmenu:function(t,e,n,r){this.notify("element:magnet:contextmenu",t,e,n,r)},dragStart:function(t,e,n){var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(t,{action:"move",delegatedView:r});const s=r.model.position();r.eventData(t,{initialPosition:s,pointerOffset:s.difference(e,n),restrictedArea:this.paper.getRestrictedArea(r,e,n)})},dragMagnetStart:function(t,e,n){if(this.can("addLinkFromMagnet")){var r=t.currentTarget,s=this.paper;this.eventData(t,{targetMagnet:r}),t.stopPropagation(),s.options.validateMagnet(this,r,t)?(s.options.magnetThreshold<=0&&this.dragLinkStart(t,r,e,n),this.eventData(t,{action:"magnet"}),this.stopPropagation(t)):this.pointerdown(t,e,n),s.delegateDragEvents(this,t.data)}},drag:function(t,e,n){var r=this.paper,s=r.options.gridSize,o=this.model,l=this.eventData(t),{pointerOffset:f,restrictedArea:g,embedding:m}=l,A=Nn(e+f.x,s),p=Nn(n+f.y,s);o.position(A,p,{restrictedArea:g,deep:!0,ui:!0}),r.options.embeddingMode&&(m||(this.prepareEmbedding(l),m=!0),this.processEmbedding(l,t,e,n)),this.eventData(t,{embedding:m})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var r=this.eventData(t);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,r){var s=this.paper;s.eventData(t).mousemoved>s.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,r)}},{Flags:je});w(jn.prototype,mn);const ao=function(t,e,n){return t},dl=function(t,e,n){var m,A,p,r=e.side||"bottom",s=x(e.padding||40),o=n.sourceBBox,l=n.targetBBox,f=o.center(),g=l.center();switch(r){case"bottom":p=1,m="y",A="height";break;case"top":p=-1,m="y",A="height";break;case"left":p=-1,m="x",A="width";break;case"right":p=1,m="x",A="width";break;default:throw new Error("Router: invalid side")}return f[m]+=p*(o[A]/2+s[r]),g[m]+=p*(l[A]/2+s[r]),p*(f[m]-g[m])>0?g[m]=f[m]:f[m]=g[m],[f].concat(t,g)};var z={N:"S",S:"N",E:"W",W:"E"},_a={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function wa(t,e,n){var r=new Y(t.x,e.y);return n.containsPoint(r)&&(r=new Y(e.x,t.y)),r}function ai(t,e){return t["W"===e||"E"===e?"width":"height"]}function fe(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function ko(t){return new Pt(t.x,t.y,0,0)}function Eo(t){var e=x(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function pl(t,e){return t.sourceBBox.clone().moveAndExpand(Eo(e))}function Js(t,e){return t.targetBBox.clone().moveAndExpand(Eo(e))}function vl(t,e,n){var r=new Y(t.x,e.y),s=new Y(e.x,t.y),o=fe(t,r),l=fe(t,s),f=z[n],g=o===n||o!==f&&(l===f||l!==n)?r:s;return{points:[g],direction:fe(g,e)}}function zo(t,e,n){var r=wa(t,e,n);return{points:[r],direction:fe(r,e)}}function Tc(t,e,n,r){var g,s={},o=[new Y(t.x,e.y),new Y(e.x,t.y)],l=o.filter(function(p){return!n.containsPoint(p)}),f=l.filter(function(p){return fe(p,t)!==r});if(f.length>0)g=f.filter(function(p){return fe(t,p)===r}).pop(),s.points=[g=g||f[0]],s.direction=fe(g,e);else{g=ze(o,l)[0];var m=new Y(e).move(g,-ai(n,r)/2),A=wa(m,t,n);s.points=[A,m],s.direction=fe(m,e)}return s}function Ss(t,e,n,r){var s=zo(e,t,r),o=s.points[0];if(n.containsPoint(o)){var l=(s=zo(t,e,n)).points[0];if(r.containsPoint(l)){var f=new Y(t).move(l,-ai(n,fe(t,l))/2),g=new Y(e).move(o,-ai(r,fe(e,o))/2),m=new O(f,g).midpoint(),A=zo(t,m,n),p=vl(m,e,A.direction);s.points=[A.points[0],p.points[0]],s.direction=p.direction}}return s}function uu(t,e,n,r,s){var A,p,L,o={},l=n.union(r).inflate(1),f=l.center().distance(e)>l.center().distance(t),g=f?e:t,m=f?t:e;return s?(A=Y.fromPolar(l.width+l.height,_a[s],g),A=l.pointNearestToPoint(A).move(A,-1)):A=l.pointNearestToPoint(g).move(g,1),p=wa(A,m,l),A.round().equals(p.round())?(p=Y.fromPolar(l.width+l.height,kn(A.theta(g))+Math.PI/2,m),L=wa(A,p=l.pointNearestToPoint(p).move(m,1).round(),l),o.points=f?[p,L,A]:[A,L,p]):o.points=f?[p,A]:[A,p],o.direction=fe(f?A:p,e),o}function lu(t,e,n){var r=pl(n,e),s=Js(n,e),o=function Mc(t,e){return t.sourceAnchor?t.sourceAnchor:pl(t,e).center()}(n,e),l=function Sc(t,e){return t.targetAnchor?t.targetAnchor:Js(t,e).center()}(n,e);r=r.union(ko(o)),s=s.union(ko(l)),(t=Ft(t).map(Y)).unshift(o),t.push(l);for(var f,g=[],m=0,A=t.length-1;m<A;m++){var p=null,L=t[m],R=t[m+1],j=!!fe(L,R);if(0===m)m+1===A?r.intersect(s.clone().inflate(1))?p=uu(L,R,r,s):j||(p=Ss(L,R,r,s)):r.containsPoint(R)?p=uu(L,R,r,ko(R).moveAndExpand(Eo(e))):j||(p=zo(L,R,r));else if(m+1===A){var tt=j&&fe(R,L)===f;s.containsPoint(L)||tt?p=uu(L,R,ko(L).moveAndExpand(Eo(e)),s,f):j||(p=Tc(L,R,s,f))}else j||(p=vl(L,R,f));p?(Array.prototype.push.apply(g,p.points),f=p.direction):f=fe(L,R),m+1<A&&g.push(R)}return g}var ml={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!Zt(lu))throw new Error("Manhattan requires the orthogonal router as default fallback.");return lu(t,w({},ml,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function cu(t){this.map={},this.options=t,this.mapGridSize=100}function ba(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function os(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Il(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function Al(t,e){return t.sourceAnchor?t.sourceAnchor:os(t,e).center()}function fu(t,e,n,r,s){var o=360/n,l=t.theta(function Lc(t,e,n,r){var s=r.step;return new Y(t.x+(e.x-t.x)/n.x*s,t.y+(e.y-t.y)/n.y*s)}(t,e,r,s)),f=cr(l+o/2);return o*Math.floor(f/o)}function Qs(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function Di(t,e){if(!t)return e;var n=Math.abs(t),r=Math.round(n/e);return r?e+(n-r*e)/r:n}function oo(t,e){return t.round(e)}function Oo(t,e,n){return oo(function Ec(t,e){var n=e.source,r=Nn(t.x-n.x,e.x)+n.x,s=Nn(t.y-n.y,e.y)+n.y;return new Y(r,s)}(t.clone(),e),n)}function uo(t){return t.clone().toString()}function hu(t){return new Y(0===t.x?0:Math.abs(t.x)/t.x,0===t.y?0:Math.abs(t.y)/t.y)}function Cl(t,e,n,r,s,o,l){for(var p,f=[],g=hu(s.difference(n)),m=uo(n),A=t[m];A;){var L=hu((p=e[m]).difference(A));L.equals(g)||(f.unshift(p),g=L),A=t[m=uo(A)]}var R=e[m];return hu(R.difference(r)).equals(g)||f.unshift(R),f}function gu(t,e){for(var n=1/0,r=0,s=e.length;r<s;r++){var o=t.manhattanDistance(e[r]);o<n&&(n=o)}return n}function yl(t,e,n,r,s){var o=s.precision,l=s.directionMap,f=t.difference(e.center()),g=ln(l)?Object.keys(l):[],m=Ft(n),A=g.reduce(function(p,L){if(m.includes(L)){for(var ft,R=l[L],j=new Y(t.x+R.x*(Math.abs(f.x)+e.width),t.y+R.y*(Math.abs(f.y)+e.height)),nt=new O(t,j).intersect(e)||[],ht=nt.length,y=null,S=0;S<ht;S++){var P=nt[S],Z=t.squaredDistance(P);(void 0===ft||Z>ft)&&(ft=Z,y=P)}if(y){var H=Oo(y,r,o);e.containsPoint(H)&&(H=Oo(H.offset(R.x*r.x,R.y*r.y),r,o)),p.push(H)}}return p},[]);return e.containsPoint(t)||A.push(Oo(t,r,o)),A}function zc(t,e,n,r){var o,l,s=r.precision;o=oo(t instanceof Pt?Al(this,r).clone():t.clone(),s),l=oo(e instanceof Pt?function Dc(t,e){return t.targetAnchor?t.targetAnchor:Il(t,e).center()}(this,r).clone():e.clone(),s);var g,m,A,p,f=function kc(t,e,n){return{source:e.clone(),x:Di(n.x-e.x,t),y:Di(n.y-e.y,t)}}(r.step,o,l);if(A=t instanceof Pt?yl(g=o,t,r.startDirections,f,r):[g=o],e instanceof Pt?(m=l,p=yl(l,e,r.endDirections,f,r)):p=[m=l],A=A.filter(ke=>!n(ke)),p=p.filter(ke=>!n(ke)),A.length>0&&p.length>0){for(var L=new ba,R={},j={},tt={},nt=0,ht=A.length;nt<ht;nt++){var ft=A[nt],y=uo(ft);L.add(y,gu(ft,p)),R[y]=ft,tt[y]=0}var Z,H,S=r.previousDirectionAngle,P=void 0===S,st=r.directions;!function Pc(t,e,n){var r=n.step;Ft(n.directions).forEach(function(s){s.gridOffsetX=s.offsetX/r*e.x,s.gridOffsetY=s.offsetY/r*e.y})}(0,f,r);for(var ut=st.length,vt=Ft(p).reduce(function(ke,ee){var jt=uo(ee);return ke.push(jt),ke},[]),Dt=r.maximumLoops;!L.isEmpty()&&Dt>0;){var Ze,St=L.pop(),kt=R[St],Rt=j[St],zt=tt[St],Qt=void 0===Rt,Fe=kt.equals(g);Ze=Qt?P?Fe?null:fu(g,kt,ut,f,r):S:fu(Rt,kt,ut,f,r);var cn=A.length===p.length;if(cn)for(var $t=0;$t<A.length;$t++)if(!A[$t].equals(p[$t])){cn=!1;break}if((!Qt||!cn)&&vt.indexOf(St)>=0)return r.previousDirectionAngle=Ze,Cl(j,R,kt,g,m);for(nt=0;nt<ut;nt++){var ie=(Z=st[nt]).angle;if(H=Qs(Ze,ie),P&&Fe||!(H>r.maxAllowedDirectionChange)){var se=Oo(kt.clone().offset(Z.gridOffsetX,Z.gridOffsetY),f,s),Le=uo(se);if(!L.isClose(Le)&&!n(se)){if(vt.indexOf(Le)>=0&&!se.equals(m)&&Qs(ie,fu(se,m,ut,f,r))>r.maxAllowedDirectionChange)continue;var Ce=zt+Z.cost+(Fe?0:r.penalties[H]);(!L.isOpen(Le)||Ce<tt[Le])&&(R[Le]=se,j[Le]=kt,tt[Le]=Ce,L.add(Le,Ce+gu(se,p)))}}}Dt--}}return r.fallbackRoute.call(this,g,m,r)}cu.prototype.build=function(t,e){var n=this.options,r=Ft(n.excludeEnds).reduce(function(g,m){var A=e.get(m);if(A){var p=t.getCell(A.id);p&&g.push(p)}return g},[]),s=[],o=t.getCell(e.get("source").id);o&&(s=Ns(s,o.getAncestors().map(function(g){return g.id})));var l=t.getCell(e.get("target").id);l&&(s=Ns(s,l.getAncestors().map(function(g){return g.id})));var f=this.mapGridSize;return t.getElements().reduce(function(g,m){var A=Ft(n.excludeTypes).includes(m.get("type")),p=r.find(function(S){return S.id===m.id}),L=s.includes(m.id);if(!(A||p||L))for(var j=m.getBBox().moveAndExpand(n.paddingBox),tt=j.origin().snapToGrid(f),nt=j.corner().snapToGrid(f),ht=tt.x;ht<=nt.x;ht+=f)for(var ft=tt.y;ft<=nt.y;ft+=f){var y=ht+"@"+ft;g[y]=g[y]||[],g[y].push(j)}return g},this.map),this},cu.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return Ft(this.map[e]).every(function(n){return!n.containsPoint(t)})},ba.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=it(this.items,t,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,t)},ba.prototype.remove=function(t){this.hash[t]=this.CLOSE},ba.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},ba.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},ba.prototype.isEmpty=function(){return 0===this.items.length},ba.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};const Ya=function(t,e,n){return function lo(t,e,n){(function du(t){if(t.directions=Ve(t,"directions"),t.penalties=Ve(t,"penalties"),t.paddingBox=Ve(t,"paddingBox"),t.padding=Ve(t,"padding"),t.padding){var e=x(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}Ft(t.directions).forEach(function(n){var r=new Y(0,0),s=new Y(n.offsetX,n.offsetY);n.angle=cr(r.theta(s))})})(e),n.options.perpendicular=!!e.perpendicular;var r=os(n,e),s=Il(n,e),o=Al(n,e);let l;if("function"==typeof e.isPointObstacle)l=e.isPointObstacle;else{const y=new cu(e);y.build(n.paper.model,n.model),l=S=>!y.isPointAccessible(S)}for(var A,p,f=Ft(t).map(Y),g=[],m=o,L=0,R=f.length;L<=R;L++){var j=null;if(p=A||r,!(A=f[L])&&(A=s,(!n.model.get("source").id||!n.model.get("target").id)&&Zt(e.draggingRoute))){var nt=p===r?o:p,ht=A.origin();j=e.draggingRoute.call(n,nt,ht,e)}if(null===(j=j||zc.call(n,p,A,l,e)))return e.fallbackRouter(t,e,n);var ft=j[0];ft&&ft.equals(m)&&j.shift(),m=j[j.length-1]||m,Array.prototype.push.apply(g,j)}return g}(t,w({},ml,e),n)};var Oc={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var r=t.theta(e),s=[],o={x:e.x,y:t.y},l={x:t.x,y:e.y};if(r%180>90){var f=o;o=l,l=f}var g=r%90<45?o:l,m=new O(t,g),A=90*Math.ceil(r/90),p=Y.fromPolar(m.squaredLength(),kn(A+135),g),L=new O(e,p),R=m.intersection(L),j=R||e,nt=360/n.directions.length,ht=(R?j:t).theta(e),ft=cr(ht+nt/2),y=nt*Math.floor(ft/nt);return n.previousDirectionAngle=y,j&&s.push(j.round()),s.push(e),s}};const wl=function(t,e,n){if(!Zt(Ya))throw new Error("Metro requires the manhattan router.");return Ya(t,w({},Oc,e),n)};var us=["arc","gap","cubic"],Li=["smooth"],Bo=1/3,co=2/3;function Ro(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(s,o,l){var f=r[l+1];return null!=f&&(s[l]=Q(o,f)),s},[])}function xl(t,e){return Q(t,e).squaredLength()}function Nl(t,e,n,r){var o,s=new Ut;return o=Ut.createSegment("M",t[0].start),s.appendSegment(o),Ft(t).forEach(function(l,f){if(l.isJump){var g,m,A,p;if("arc"===n){g=-90,m=l.start.difference(l.end);var L=Number(m.x<0||0===m.x&&m.y<0);L&&(g+=180);var tt,R=l.midpoint(),j=new O(R,l.end).rotate(R,g);A=(tt=new O(l.start,R)).pointAt(2/3).rotate(l.start,g),p=j.pointAt(1/3).rotate(j.end,-g),o=Ut.createSegment("C",A,p,j.end),s.appendSegment(o),tt=new O(R,l.end),A=j.pointAt(1/3).rotate(j.end,g),p=tt.pointAt(1/3).rotate(l.end,-g),o=Ut.createSegment("C",A,p,l.end),s.appendSegment(o)}else if("gap"===n)o=Ut.createSegment("M",l.end),s.appendSegment(o);else if("cubic"===n){g=l.start.theta(l.end);var nt=.6*e,ht=1.35*e;m=l.start.difference(l.end),(L=Number(m.x<0||0===m.x&&m.y<0))&&(ht*=-1),A=Y(l.start.x+nt,l.start.y+ht).rotate(l.start,g),p=Y(l.end.x-nt,l.end.y+ht).rotate(l.end,g),o=Ut.createSegment("C",A,p,l.end),s.appendSegment(o)}}else{var ft=t[f+1];0==r||!ft||ft.isJump?(o=Ut.createSegment("L",l.end),s.appendSegment(o)):function Ml(t,e,n,r,s){var R,o=n.distance(r)/2,l=n.distance(s)/2,f=-Math.min(t,o),g=-Math.min(t,l),m=n.clone().move(r,f).round(),A=n.clone().move(s,g).round(),p=new Y(Bo*m.x+co*n.x,co*n.y+Bo*m.y),L=new Y(Bo*A.x+co*n.x,co*n.y+Bo*A.y);R=Ut.createSegment("L",m),e.appendSegment(R),R=Ut.createSegment("C",p,L,A),e.appendSegment(R)}(r,s,l.end,l.start,ft.end)}}),s}const xr=function(t,e,n,r){!function fo(t){var e=t.paper,n=e._jumpOverUpdateList;if(null==n){n=e._jumpOverUpdateList=[];var r=e.model;r.on("batch:stop",function(){this.hasActiveBatch()||function qs(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const r=e[n],s=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(s)}}(e)}),r.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}(this);var s=r.raw,o=r.size||5,l=r.jump&&(""+r.jump).toLowerCase(),f=r.radius||0,g=r.ignoreConnectors||Li;-1===us.indexOf(l)&&(l=us[0]);var m=this.paper,p=m.model.getLinks();if(1===p.length)return Nl(Ro(t,e,n),o,l,f);var L=this.model,R=p.indexOf(L),j=m.options.defaultConnector||{},tt=p.filter(function(P,Z){var H=P.get("connector")||j;return!(Ft(g).includes(H.name)||Z>R&&"jumpover"===H.name)}),nt=tt.map(function(P){return m.findViewByModel(P)}),ht=Ro(t,e,n),ft=nt.map(function(P){return null==P?[]:P===this?ht:Ro(P.sourcePoint,P.targetPoint,P.route)},this),y=ht.reduce(function(P,Z){var H=tt.reduce(function(st,ut,vt){if(ut!==L){var Dt=function bl(t,e){return Ft(e).reduce(function(n,r){var s=t.intersection(r);return s&&n.push(s),n},[])}(Z,ft[vt]);st.push.apply(st,Dt)}return st},[]).sort(function(st,ut){return xl(Z.start,st)-xl(Z.start,ut)});return H.length>0?P.push.apply(P,function Go(t,e,n){return e.reduce(function(r,s,o){if(!0===s.skip)return r;var l=r.pop()||t,f=Re(s).move(l.start,-n),g=Re(s).move(l.start,+n),m=e[o+1];if(null!=m){var A=g.distance(m);A<=n&&(g=m.move(l.start,A),m.skip=!0)}else if(f.distance(l.end)<2*n+1)return r.push(l),r;if(g.distance(l.start)<2*n+1)return r.push(l),r;var R=Q(f,g);return R.isJump=!0,r.push(Q(l.start,f),R,Q(g,l.end)),r},[])}(Z,H,o)):P.push(Z),P},[]),S=Nl(y,o,l,f);return s?S:S.serialize()},vu=function(t,e,n,r){var s=r&&r.raw,o=[t].concat(n).concat([e]),l=new Ie(o),f=new Ut(l);return s?f:f.serialize()},Sl=function(t,e,n,r){r||(r={});var f,s=r.radius||10,o=r.raw,l=new Ut;f=Ut.createSegment("M",t),l.appendSegment(f);for(var A,p,L,R,j,tt,nt,ht,ft,y,S,g=1/3,m=2/3,P=0,Z=n.length;P<Z;P++)A=new Y(n[P]),p=n[P-1]||t,L=n[P+1]||e,R=j||A.distance(p)/2,j=A.distance(L)/2,tt=-Math.min(s,R),nt=-Math.min(s,j),ht=A.clone().move(p,tt).round(),ft=A.clone().move(L,nt).round(),y=new Y(g*ht.x+m*A.x,m*A.y+g*ht.y),S=new Y(g*ft.x+m*A.x,m*A.y+g*ft.y),f=Ut.createSegment("L",ht),l.appendSegment(f),f=Ut.createSegment("C",y,S,ft),l.appendSegment(f);return f=Ut.createSegment("L",e),l.appendSegment(f),o?l:l.serialize()},ls=function(t,e,n,r){var o,s=r&&r.raw;if(n&&0!==n.length){var l=[t].concat(n).concat([e]),f=be.throughPoints(l);o=new Ut(f)}else{var g;if(o=new Ut,g=Ut.createSegment("M",t),o.appendSegment(g),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var m=(t.x+e.x)/2;g=Ut.createSegment("C",m,t.y,m,e.y,e.x,e.y),o.appendSegment(g)}else{var A=(t.y+e.y)/2;g=Ut.createSegment("C",t.x,A,e.x,A,e.x,e.y),o.appendSegment(g)}}return s?o:o.serialize()},oi={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},pr={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Ts=function(t,e,n=[],r={},s){const o=Boolean(r.raw),{direction:l=oi.AUTO,precision:f=3}=r,g={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new Y(r.sourceTangent):null,targetTangent:r.targetTangent?new Y(r.targetTangent):null};g.sourceDirection="string"==typeof r.sourceDirection?r.sourceDirection:"number"==typeof r.sourceDirection?new Y(1,0).rotate(null,r.sourceDirection):r.sourceDirection?new Y(r.sourceDirection).normalize():null,g.targetDirection="string"==typeof r.targetDirection?r.targetDirection:"number"==typeof r.targetDirection?new Y(1,0).rotate(null,r.targetDirection):r.targetDirection?new Y(r.targetDirection).normalize():null;const m=[t,...n.map(tt=>new Y(tt)),e];let A,p;if(g.sourceTangent)A=g.sourceTangent;else{const tt=function Gc(t,e,n,r){if(r.sourceDirection)switch(r.sourceDirection){case pr.UP:return new Y(0,-1);case pr.DOWN:return new Y(0,1);case pr.LEFT:return new Y(-1,0);case pr.RIGHT:return new Y(1,0);case pr.AUTO:return Dl(t,e);case pr.CLOSEST_POINT:return jo(0,e);case pr.OUTWARDS:return Ua(t,e);default:return r.sourceDirection}switch(n){case oi.HORIZONTAL:return function Tl(t,e,n){const{sourceBBox:r}=t;let s;return"left"===(s=r.width&&r.height?r.sideNearestToPoint(e[0]):r.x>e[1].x?"right":"left",s)?new Y(-1,0):new Y(1,0)}(t,e);case oi.VERTICAL:return function mu(t,e,n){const{sourceBBox:r}=t;let s;return"top"===(s=r.width&&r.height?r.sideNearestToPoint(e[0]):r.y>e[1].y?"bottom":"top",s)?new Y(0,-1):new Y(0,1)}(t,e);case oi.CLOSEST_POINT:return jo(0,e);case oi.OUTWARDS:return Ua(t,e);default:return Dl(t,e)}}(s,m,l,g),nt=m[0].distance(m[1])*g.coeff,ft=Au(tt,m[1].difference(m[0]).normalize());if(ft>Math.PI/4){const y=nt+(ft-Math.PI/4)*g.angleTangentCoefficient;A=tt.clone().scale(y,y)}else A=tt.clone().scale(nt,nt)}if(g.targetTangent)p=g.targetTangent;else{const tt=function jc(t,e,n,r){if(r.targetDirection)switch(r.targetDirection){case pr.UP:return new Y(0,-1);case pr.DOWN:return new Y(0,1);case pr.LEFT:return new Y(-1,0);case pr.RIGHT:return new Y(0,1);case pr.AUTO:return Ll(t,e);case pr.CLOSEST_POINT:return Pl(0,e);case pr.OUTWARDS:return Iu(t,e);default:return r.targetDirection}switch(n){case oi.HORIZONTAL:return function Xr(t,e,n){const{targetBBox:r}=t;let s;return"left"===(s=r.width&&r.height?r.sideNearestToPoint(e[e.length-1]):r.x>e[e.length-2].x?"left":"right",s)?new Y(-1,0):new Y(1,0)}(t,e);case oi.VERTICAL:return function Rc(t,e,n){const{targetBBox:r}=t;let s;return"top"===(s=r.width&&r.height?r.sideNearestToPoint(e[e.length-1]):r.y>e[e.length-2].y?"top":"bottom",s)?new Y(0,-1):new Y(0,1)}(t,e);case oi.CLOSEST_POINT:return Pl(0,e);case oi.OUTWARDS:return Iu(t,e);default:return Ll(t,e)}}(s,m,l,g),nt=m.length-1,ht=m[nt-1].distance(m[nt])*g.coeff,y=Au(tt,m[nt-1].difference(m[nt]).normalize());if(y>Math.PI/4){const S=ht+(y-Math.PI/4)*g.angleTangentCoefficient;p=tt.clone().scale(S,S)}else p=tt.clone().scale(ht,ht)}const R=function Cu(t,e,n,r){const{tau:s,coeff:o}=r,l=[],f=[],g=[],m=t.length-1;for(let A=0;A<m;A++)l[A]=t[A].distance(t[A+1]);f[0]=e,f[m]=n;for(let A=1;A<m;A++){let p,L;p=1===A?t[A-1].clone().offset(f[A-1].x,f[A-1].y):t[A-1].clone(),L=A===m-1?t[A+1].clone().offset(f[A+1].x,f[A+1].y):t[A+1].clone();const R=p.difference(t[A]).normalize(),j=L.difference(t[A]).normalize(),tt=Au(R,j);let ht,nt=(Math.PI-tt)/2;const ft=kl(R,j);let y;y=kl(t[A].difference(t[A+1]),t[A].difference(t[A-1])),ft<0&&(nt=-nt),tt<Math.PI/2&&(nt<0&&y<0||nt>0&&y>0)&&(nt-=Math.PI),ht=j.clone(),ho(ht,nt);const S=ht.clone(),P=ht.clone(),Z=l[A-1]*o,H=l[A]*o;S.scale(Z,Z),P.scale(H,H),f[A]=[S,P]}for(let A=0;A<m;A++){let p,L;p=0===A?t[A+1].difference(f[A].x/s,f[A].y/s):t[A+1].difference(f[A][1].x/s,f[A][1].y/s),L=A===m-1?t[A].clone().offset(f[A+1].x/s,f[A+1].y/s):t[A].difference(f[A+1][0].x/s,f[A+1][0].y/s),g[A]=[p,t[A],t[A+1],L]}return g}(m,A,p,g).map(tt=>function El(t,e){const{tau:n}=e,r=new Y;r.x=t[1].x+(t[2].x-t[0].x)/(6*n),r.y=t[1].y+(t[2].y-t[0].y)/(6*n);const s=new Y;return s.x=t[2].x+(t[3].x-t[1].x)/(6*n),s.y=t[2].y+(t[3].y-t[1].y)/(6*n),new be(t[1],r,s,t[2])}(tt,g)),j=new Ut(R).round(f);return o?j:j.serialize()};function Dl(t,e,n){const{sourceBBox:r}=t;let s;switch(s=r.sideNearestToPoint(r.width&&r.height?e[0]:e[1]),s){case"top":return new Y(0,-1);case"bottom":return new Y(0,1);case"right":return new Y(1,0);case"left":return new Y(-1,0)}}function Ll(t,e,n){const{targetBBox:r}=t;let s;switch(s=r.sideNearestToPoint(r.width&&r.height?e[e.length-1]:e[e.length-2]),s){case"top":return new Y(0,-1);case"bottom":return new Y(0,1);case"right":return new Y(1,0);case"left":return new Y(-1,0)}}function jo(t,e,n){return e[1].difference(e[0]).normalize()}function Pl(t,e,n){const r=e.length-1;return e[r-1].difference(e[r]).normalize()}function Ua(t,e,n){const{sourceBBox:r}=t,s=r.center();return e[0].difference(s).normalize()}function Iu(t,e,n){const{targetBBox:r}=t,s=r.center();return e[e.length-1].difference(s).normalize()}function ho(t,e){const n=Math.cos(e),r=Math.sin(e),o=r*t.x+n*t.y;t.x=n*t.x-r*t.y,t.y=o}function Au(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function kl(t,e){return t.x*e.y-t.y*e.x}Ts.Directions=oi,Ts.TangentDirections=pr;const ve={RENDER:"RENDER",UPDATE:"UPDATE",TOOLS:"TOOLS",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},go=Oe.extend({className:function(){var t=Oe.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Oe.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[ve.RENDER],attrs:[ve.UPDATE],router:[ve.UPDATE],connector:[ve.CONNECTOR],smooth:[ve.UPDATE],manhattan:[ve.UPDATE],toolMarkup:[ve.LEGACY_TOOLS],labels:[ve.LABELS],labelMarkup:[ve.LABELS],vertices:[ve.VERTICES,ve.UPDATE],vertexMarkup:[ve.VERTICES],source:[ve.SOURCE,ve.UPDATE],target:[ve.TARGET,ve.UPDATE]},initFlag:[ve.RENDER,ve.SOURCE,ve.TARGET,ve.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,ve.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,ve.SOURCE)}if(this.hasFlag(t,ve.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,ve.TARGET)}const{paper:n,sourceView:r,targetView:s}=this;if(n&&(r&&!n.isViewMounted(r)||s&&!n.isViewMounted(s)))return t;if(this.hasFlag(t,ve.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),this.removeFlag(t,[ve.RENDER,ve.UPDATE,ve.VERTICES,ve.LABELS,ve.TOOLS,ve.LEGACY_TOOLS,ve.CONNECTOR]);let o=!1;this.hasFlag(t,ve.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,ve.VERTICES));const{model:l}=this,{attributes:f}=l;let g=this.hasFlag(t,ve.LABELS),m=this.hasFlag(t,ve.LEGACY_TOOLS);g&&(this.onLabelsChange(l,f.labels,e),t=this.removeFlag(t,ve.LABELS),o=!0),m&&(this.renderTools(),t=this.removeFlag(t,ve.LEGACY_TOOLS));const A=this.hasFlag(t,ve.UPDATE),p=this.hasFlag(t,ve.CONNECTOR);return(A||p)&&(A?e.translateBy&&l.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[ve.UPDATE,ve.TOOLS,ve.CONNECTOR]),g=!1,m=!1,o=!0),g&&this.updateLabelPositions(),m&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(t,ve.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,ve.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(ve.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],r=n.length;if(r>1&&e[n[1]]){if(2===r)return"markup"in Object(t.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=pt(t);Array.isArray(e)||(e=[e]);for(var n=this._V,r=0,s=e.length;r<s;r++){var o=e[r],l=o.attr("class");l&&(l=_i(l),n[Ne.camelCase(l)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if("string"==typeof t)return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=pt(t),n=document.createDocumentFragment();if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++)n.appendChild(e[r].node);else n.appendChild(e.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment&&t.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n,r=e.childNodes;return(n=r.length>1||"G"!==r[0].nodeName.toUpperCase()?pt("g").append(e):pt(r[0])).addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},r=this._labelSelectors={},s=this.model,o=s.attributes.labels||[],l=o.length;if(0===l)return e&&e.remove(),this;e?e.empty():(e=t.labels=pt("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(wn(Ve(this,"className"))),e.attr("model-id",s.id)));for(var f=0;f<l;f++){var A,p,m=this._normalizeLabelMarkup(this._getLabelMarkup(o[f].markup));if(m)A=m.node,p=m.selectors;else{var R=this._normalizeLabelMarkup(this._getLabelMarkup(s._builtins.defaultLabel.markup)),j=s._getDefaultLabel(),nt=this._normalizeLabelMarkup(this._getLabelMarkup(j.markup))||R;A=nt.node,p=nt.selectors}A.setAttribute("label-idx",f),e.append(A),n[f]=A;var ht=this.selector;if(p[ht])throw new Error("dia.LinkView: ambiguous label root selector.");p[ht]=A,r[f]=p}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:r,options:s}=this,{labels:o}=r;if(!o||!n.hasLabels())return;const{node:l}=o;s.labelsLayer?e.getLayerView(s.labelsLayer).insertSortedNode(l,n.get("z")):l.parentNode!==t&&t.appendChild(l)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},onMount:function(){this.mountLabels()},unmount:function(){Oe.prototype.unmount.apply(this,arguments),this.unmountLabels()},findLabelNode:function(t,e){const n=this._labelCache[t];if(!n)return null;const r=this._labelSelectors[t],[s=null]=this.findBySelector(e,n,r);return s},_mergeLabelAttrs:function(t,e,n,r){return null===e?null:void 0===e?null===n?null:void 0===n?t?void 0:r:t?n:Gn({},r,n):t?Gn({},n,e):Gn({},r,n,e)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),s=t._builtins.defaultLabel.attrs,o=t._getDefaultLabel(),l=o.markup,f=o.attrs,g=0,m=e.length;g<m;g++){var A=this._labelCache[g];A.setAttribute("cursor",n?"move":"default");var p=this._labelSelectors[g],L=e[g],tt=this._mergeLabelAttrs(L.markup||l,L.attrs,f,s);this.updateDOMSubtreeAttributes(A,tt,{rootBBox:new Pt(L.size),selectors:p})}return this},renderTools:function(){if(!this._V.linkTools)return this;var r,t=Ne(this._V.linkTools.node).empty(),e=q(this.model.get("toolMarkup")||this.model.toolMarkup),n=pt(e());return t.append(n.node),this._toolCache=n,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=q(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=pt(e())):r=n.clone(),t.append(r.node),this._tool2Cache=r),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=Ne(this._V.markerVertices.node).empty(),e=q(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){t.append(pt(e(w({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=Ne(this._V.markerArrowheads.node);t.empty();var e=q(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=pt(e({end:"source"})),this._V.targetArrowhead=pt(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const n=this.model,r=n.vertices(),s=[this.sourceAnchor,...r,this.targetAnchor],o=s.length,l=new Ie(s);l.simplify({threshold:.001});const f=l.points.map(m=>m.toJSON()),g=f.length;return o===g?0:(n.vertices(f.slice(1,g-1),t),o-g)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new Y(this.sourceAnchor);case"target":return new Y(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new Y(this.sourcePoint);case"target":return new Y(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:r}=this;if(!n||!r)return;const s=new Ie(n);s.translate(t,e),this.route=s.points,this._translateConnectionPoints(t,e),r.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),r=this.sourceAnchor=n.source,s=this.targetAnchor=n.target,o=this.findRoute(e);this.route=o;var l=this.findConnectionPoints(o,r,s);this.sourcePoint=l.source,this.targetPoint=l.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,r=this.findMarkerPoints(t,e,n),s=this.findPath(t,r.source||e,r.target||n);this.path=s},findMarkerPoints:function(t,e,n){var l,f,r=t[0],s=t[t.length-1],o=this._markerCache;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),l=Y(e).move(r||n,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),f=Y(n).move(s||e,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=l||e.clone(),o.targetPoint=f||n.clone(),{source:l,target:f}},findAnchorsOrdered:function(t,e,n,r){var s,o,l,f,g=this.model,m=g.get(t),A=g.get(n),p=this.getEndView(t),L=this.getEndView(n),R=this.getEndMagnet(t),j=this.getEndMagnet(n);p?(l=e?new Y(e):L?j:new Y(A),s=this.getAnchor(m.anchor,p,R,l,t)):s=new Y(m),L?(f=new Y(r||s),o=this.getAnchor(A.anchor,L,j,f,n)):o=new Y(A);var tt={};return tt[t]=s,tt[n]=o,tt},findAnchors:function(t){var e=this.model,n=t[0],r=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(t,e,n){var p,L,R,ht,r=t[0],s=t[t.length-1],o=this.model,l=o.get("source"),f=o.get("target"),g=this.sourceView,m=this.targetView,A=this.paper.options;if(g&&!g.isNodeConnection(this.sourceMagnet)){p=this.sourceMagnet||g.el;var j=l.connectionPoint||A.defaultConnectionPoint,nt=new O(r||n,e);R=this.getConnectionPoint(j,g,p,nt,"source")}else R=e;if(m&&!m.isNodeConnection(this.targetMagnet)){L=this.targetMagnet||m.el;var ft=f.connectionPoint||A.defaultConnectionPoint,S=new O(s||e,n);ht=this.getConnectionPoint(ft,m,L,S,"target")}else ht=n;return{source:R,target:ht}},getAnchor:function(t,e,n,r,s){var f,o=e.isNodeConnection(n),l=this.paper.options;if(t||(t=o?l.defaultLinkAnchor:l.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:l.defaultAnchor),!t)throw new Error("Anchor required.");if("function"==typeof t)f=t;else{var g=t.name;if("function"!=typeof(f=l[o?"linkAnchorNamespace":"anchorNamespace"][g]))throw new Error("Unknown anchor: "+g)}var A=f.call(this,e,n,r,t.args||{},s,this);return A?A.round(this.decimalsRounding):new Y},getConnectionPoint:function(t,e,n,r,s){var o,m,l=r.end,f=this.paper.options;if("function"==typeof f.linkConnectionPoint&&(o=f.linkConnectionPoint(this,e,n===e.el?void 0:n,r.start,s)))return o;if(!t)return l;if("function"==typeof t)m=t;else{var A=t.name;if("function"!=typeof(m=f.connectionPointNamespace[A]))throw new Error("Unknown connection point: "+A)}return(o=m.call(this,r,e,n,t.args||{},s,this))?o.round(this.decimalsRounding):l},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_normalizeLabelPosition:function(t){return"number"==typeof t?{distance:t,offset:null,angle:0,args:null}:t},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var s=e._builtins.defaultLabel.position,o=e._getDefaultLabel(),l=this._normalizeLabelPosition(o.position),f=Gn({},s,l),g=0,m=n.length;g<m;g++){var A=this._labelCache[g];if(A){var L=this._normalizeLabelPosition(n[g].position),R=Gn({},f,L),j=this._getLabelTransformationMatrix(R);A.setAttribute("transform",pt.matrixToTransformString(j)),this._cleanLabelMatrices(g)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,r=n[t];if(r)for(let s in r){const{id:o}=r[s];o&&o in e&&delete e[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength?(r=this.getPointAtLength(n-(this.options.doubleLinkToolsOffset||e)),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")):this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===Ne.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:n}=this,r=`${t}View`,s=e.get(t),o=s&&s.id;if(!o)return this[r]=null,this.updateEndMagnet(t),!0;const l=n.getModelById(o);if(!l)throw new Error("LinkView: invalid "+t+" cell.");const f=l.findView(n);return!!f&&(this[r]=f,this.updateEndMagnet(t),!0)},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(t));r===n.el&&(r=null),this[e]=r}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var n=Ft(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(t){return(this.model.label(t).position||{}).angle||0},_getLabelPositionArgs:function(t){return(this.model.label(t).position||{}).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(t,e){return null===t?null:void 0===t?null===e?null:e:Gn({},e,t)},addLabel:function(t,e,n,r){var s,o,f,l=0;"number"!=typeof t?(s=t.x,o=t.y,"number"==typeof e?(l=e,f=n):f=e):(s=t,o=e,"number"==typeof n?(l=n,f=r):f=n);var g=this._getDefaultLabelPositionArgs(),A=this._mergeLabelPositionArgs(f,g),p={position:this.getLabelPosition(s,o,l,A)};return this.model.insertLabel(-1,p,f),-1},addVertex:function(t,e,n){var r="number"!=typeof t,s=r?t.x:t,o=r?t.y:e,l=r?e:n,f={x:s,y:o},g=this.getVertexIndex(s,o);return this.model.insertVertex(g,f,l),g},sendToken:function(t,e,n){var s,o,l;ln(e)?(s=e.duration,o="reverse"===e.direction,l=e.connection):(s=e,o=!1,l=null);var f={dur:(s=s||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(f.keyPoints="1;0",f.keyTimes="0;1");var m,g=pt(t);if("string"==typeof l)m=this.findBySelector(l,this.el,this.selectors)[0];else{var A=this._V;m=A.connection?A.connection.node:this.el.querySelector("path")}if(!(m instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");g.appendTo(this.paper.cells).animateAlongPath(f,m),setTimeout(function r(p,L){return function(){p.remove(),"function"==typeof L&&L()}}(g,n),s)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||Je,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return t.map(Y);n=r}var s=Zt(n)?n:e[n.name];if(!Zt(s))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');return s.call(this,t,n.args||{},this)||t.map(Y)},findPath:function(t,e,n){var r=this.paper.options.connectorNamespace||Ii,s=this.model.connector();s||(s=this.paper.options.defaultConnector||{});var l=Zt(s)?s:r[s.name];if(!Zt(l))throw new Error('dia.LinkView: unknown connector: "'+s.name+'".');var f=xt(s.args||{});f.raw=!0;var g=l.call(this,e,n,t,f,this);return"string"==typeof g&&(g=new Ut(pt.normalizePathData(g))),g},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(Yn(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,r){var l,s={},o=0;"number"==typeof n?(o=n,l=r):l=n,l&&(s.args=l);var tt,nt,f=!(l&&l.absoluteDistance),g=l&&l.absoluteDistance&&l.reverseDistance,m=l&&l.absoluteOffset,A=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},L=new Y(t,e),R=A.closestPointT(L,p),j=A.lengthAtT(R,p);if(f&&(j=j/this.getConnectionLength()||0),g&&(j=-1*(this.getConnectionLength()-j)||1),s.distance=j,m||(tt=A.tangentAtT(R)),tt)nt=tt.pointOffset(L);else{var ht=A.pointAtT(R),ft=L.difference(ht);nt={x:ft.x,y:ft.y}}return s.offset=nt,s.angle=o,s},_getLabelTransformationMatrix:function(t){var e,n=0,r={};if("number"==typeof t)e=t;else{if("number"!=typeof t.distance)throw new Error("dia.LinkView: invalid label position distance.");r=t.args||{},e=t.distance,n=t.angle||0}var s=e>0&&e<=1,o=0,l={x:0,y:0};if(t.offset){var f=t.offset;"number"==typeof f&&(o=f),f.x&&(l.x=f.x),f.y&&(l.y=f.y)}var tt,g=0!==l.x||0!==l.y||0===o,m=r.keepGradient,A=r.ensureLegibility,p=this.path,L={segmentSubdivisions:this.getConnectionSubdivisions()},R=s?e*this.getConnectionLength():e,j=p.tangentAtLength(R,L),nt=n;if(j){if(g)(tt=j.start).offset(l);else{var ht=j.clone();ht.rotate(j.start,-90),ht.setLength(o),tt=ht.end}m&&(nt=j.angle()+n,A&&(nt=cr((nt+90)%180-90)))}else tt=p.start,g&&tt.offset(l);return pt.createSVGMatrix().translate(tt.x,tt.y).rotate(nt)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new Y(e.e,e.f)},getVertexIndex:function(t,e){for(var r=this.model.vertices(),s=this.getClosestPointLength(new Y(t,e)),o=0,l=r.length;o<l&&!(s<this.getClosestPointLength(r[o]));o++);return o},notifyPointerdown(t,e,n){Oe.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){Oe.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),Oe.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){Oe.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){Oe.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){Oe.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){switch(this.notifyPointerdown(t,e,n),t.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(t,e,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(t,e,n);case"marker-arrowhead":return void this.dragArrowheadStart(t,e,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(t,e,n);case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var r=this._dragData;switch(r&&this.eventData(t,r),this.eventData(t).action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n)}r&&w(r,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var r=this._dragData;switch(r&&(this.eventData(t,r),this._dragData=null),this.eventData(t).action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){Oe.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){Oe.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){Oe.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){Oe.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,r){Oe.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){var s=pt(t.target).findParentByClass("link-tool",this.el);if(s){if(t.stopPropagation(),this.can("useLinkTools")){if("remove"===e)return void this.model.remove({ui:!0});this.notify(e,t,n,r)}this.notifyPointerdown(t,n,r),this.paper.delegateDragEvents(this,t.data)}else Oe.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n),this.eventData(t).stopPropagation&&t.stopPropagation()},dragConnectionStart:function(t,e,n){if(this.can("vertexAdd")){var r=this.addVertex({x:e,y:n},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(t,e,n){if(this.can("labelMove")){var s=parseInt(t.currentTarget.getAttribute("label-idx"),10),o=this._getLabelPositionAngle(s),l=this._getLabelPositionArgs(s),f=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(l,f);this.eventData(t,{action:"label-move",labelIdx:s,positionAngle:o,positionArgs:g,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,n){if(this.can("vertexMove")){var s=parseInt(t.target.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:s})}},dragVertexRemoveStart:function(t,e,n){if(this.can("vertexRemove")){var s=parseInt(t.target.getAttribute("idx"),10);this.model.removeVertex(s)}},dragArrowheadStart:function(t,e,n){if(this.can("arrowheadMove")){var s=t.target.getAttribute("end"),o=this.startArrowheadMove(s,{ignoreBackwardsCompatibility:!0});this.eventData(t,o)}},dragStart:function(t,e,n){!this.can("linkMove")||this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var r=this.eventData(t),s={position:this.getLabelPosition(e,n,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete s.position.offset,this.model.label(r.labelIdx,s)},dragVertex:function(t,e,n){var r=this.eventData(t);this.model.vertex(r.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?this._snapArrowhead(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var r=this.eventData(t);this.model.translate(e-r.dx,n-r.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var r=this.eventData(t),s=this.paper;s.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,e,n),s.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,t)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(t){"remove"===t.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(t.arrowhead,t.initialEnd,{ui:!0})},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,r=t.initialEnd,s=this.model.prop(n);if(s&&!In.endsEqual(r,s)){var l=this.paper;r.id&&this.notify("link:disconnect",e,l.findViewByModel(r.id),t.initialMagnet,n),s.id&&this.notify("link:connect",e,l.findViewByModel(s.id),t.magnetUnderPointer,n)}},_snapArrowhead:function(t,e,n){const{paper:r}=this,{snapLinks:s,connectionStrategy:o}=r.options,l=this.eventData(t);var f=s.radius||50,g=r.findViewsInArea({x:e-f,y:n-f,width:2*f,height:2*f}),m=l.closestView||null,A=l.closestMagnet||null,p=l.magnetProxy||null;l.closestView=l.closestMagnet=l.magnetProxy=null;var L=Number.MAX_VALUE,R=new Y(e,n);g.forEach(function(S){const P=[];"false"!==S.el.getAttribute("magnet")&&P.push({bbox:S.model.getBBox(),magnet:S.el}),S.$("[magnet]").toArray().forEach(Z=>{P.push({bbox:S.getNodeBBox(Z),magnet:Z})}),P.forEach(Z=>{const{magnet:H,bbox:st}=Z,ut=st.center().squaredDistance(R);ut<L&&(A===H||r.options.validateConnection.apply(r,l.validateConnectionArgs(S,S.el===H?null:H)))&&(L=ut,l.closestView=S,l.closestMagnet=H)})},this);var j,tt=null,nt=l.closestView,ht=l.closestMagnet;ht&&(tt=l.magnetProxy=nt.findProxyNode(ht,"highlighter"));var ft=l.arrowhead,y=A!==ht;if(m&&y&&m.unhighlight(p,{connecting:!0,snapping:!0}),nt){const{prevEnd:S,prevX:P,prevY:Z}=l;if(l.prevX=e,l.prevY=n,!y&&("function"!=typeof o||P===e&&Z===n)||(j=nt.getLinkEnd(ht,e,n,this.model,ft),!y&&Gt(S,j)))return;l.prevEnd=j,y&&nt.highlight(tt,{connecting:!0,snapping:!0})}else j={x:e,y:n};this.model.set(ft,j||{x:e,y:n},{ui:!0}),m&&this.notify("link:snap:disconnect",t,m,A,ft),nt&&this.notify("link:snap:connect",t,nt,ht,ft)},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,r){const{paper:s,model:o}=this;if(r.eventTarget!==t){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const l=r.viewUnderPointer=s.findView(t);if(l){const f=r.magnetUnderPointer=l.findMagnet(t),g=r.magnetProxy=l.findProxyNode(f,"highlighter");f&&this.paper.options.validateConnection.apply(s,r.validateConnectionArgs(l,f))?g&&l.highlight(g,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=t,o.set(r.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:r}=this,{viewUnderPointer:s,magnetUnderPointer:o,magnetProxy:l,arrowhead:f}=t;if(!o||!l||!s)return;s.unhighlight(l,{connecting:!0});const g=s.getLinkEnd(o,e,n,r,f);r.set(f,g,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){null!==t.z&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,r=0,s=0;"source"===t?(r=2,n="target"):(s=2,n="source");var o=this.model.get(n);if(o.id){var l=e[r]=this.paper.findViewByModel(o.id),f=l.getMagnetFromLinkEnd(o);f===l.el&&(f=void 0),e[r+1]=f}return function g(m,A){return e[s]=m,e[s+1]=m.el===A?void 0:A,e}},_markAvailableMagnets:function(t){function e(p,L){var R=p.paper;return R.options.validateConnection.apply(R,this.validateConnectionArgs(p,L))}var n=this.paper,r=n.model.getCells();t.marked={};for(var s=0,o=r.length;s<o;s++){var l=r[s].findView(n);if(l){var f=Array.prototype.slice.call(l.el.querySelectorAll("[magnet]"));"false"!==l.el.getAttribute("magnet")&&f.push(l.el);var g=f.filter(e.bind(t,l));if(g.length>0){for(var m=0,A=g.length;m<A;m++)l.highlight(g[m],{magnetAvailability:!0});l.highlight(null,{elementAvailability:!0}),t.marked[l.model.id]=g}}}},_unmarkAvailableMagnets:function(t){for(var n,r,e=Object.keys(t.marked),s=0,o=e.length;s<o;s++){r=t.marked[n=e[s]];var l=this.paper.findViewByModel(n);if(l){for(var f=0,g=r.length;f<g;f++)l.unhighlight(r[f],{magnetAvailability:!0});l.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:xt(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),!0!==e.ignoreBackwardsCompatibility&&(this._dragData=n),n},onRemove:function(){Oe.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:ve});Object.defineProperty(go.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new Pt(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new Pt(this.sourceAnchor):t.getNodeBBox(n||t.el)}}),Object.defineProperty(go.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new Pt(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new Pt(this.targetAnchor):t.getNodeBBox(n||t.el)}});const Pi={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},zl=pi.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return wn(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;(t=+t)||(t=0);let r=n[t];if(r)return r;r=n[t]=document.createComment("z-index:"+(t+1));let s=-1/0;for(let o in n)o=+o,o<t&&o>s&&(s=o);return e.insertBefore(r,s!==-1/0?n[s].nextSibling:e.firstChild),r},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}}),yu=Hs.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:r}=n;let s;try{const o=pt(e);if(s=o.convertToPathData().trim(),"PATH"===o.tagName()&&r){const l=s.search(/.M/i)+1;l>0&&(s=s.substr(0,l))}}catch{const l=t.getNodeBoundingRect(e);s=pt.rectToPath(w({},n,l.toJSON()))}return s},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:r}=this,{padding:s,layer:o}=r;let l=t.getNodeMatrix(e);if(s){!o&&e===t.el&&n.remove();let f=t.getNodeBoundingRect(e);const g=f.x+f.width/2,m=f.y+f.height/2;f=pt.transformRect(f,l);const A=Math.max(f.width,1),p=Math.max(f.height,1),L=(A+s)/A,R=(p+s)/p,j=pt.createSVGMatrix({a:L,b:0,c:0,d:R,e:g-L*g,f:m-R*m});l=l.multiply(j)}n.attr({d:this.getPathData(t,e),transform:pt.matrixToTransformString(l)})},highlight(t,e){const{vel:n,options:r}=this;n.attr(r.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),Ol=20,Bl=Hs.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:Ol,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:s}=this,o=e.tagName();if(!pt.isSVGGraphicsElement(e)||s.includes(o))return e.remove(),!1;if(r.includes(o)){const l=t.vel.findOne(`#${e.id}`);if(l){const{node:f}=l;let g=t.getNodeBoundingRect(f);t.model.isElement()&&(g=pt.transformRect(g,t.getNodeMatrix(f)));const m=pt("rect",g.toJSON()),{x:A,y:p}=g.center(),{angle:L,cx:R=A,cy:j=p}=l.rotate();L&&m.rotate(L,R,j),e.parent().append(m)}return e.remove(),!1}return n.forEach(l=>{"fill"===l&&"none"===e.attr("fill")||e.removeAttr(l)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{e.removeAttr(r)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:s}=n,o=e.tagName();let l;if("G"===o){if(!s)return null;l=e.clone(),function wu(t,e){const n=t.children();for(;n.length>0;){const r=n.shift();e(r)&&n.push(...r.children())}}(l,f=>this.transformMaskChild(t,f))}else{if(r.includes(o))return null;l=e.clone()}return this.transformMaskRoot(t,l),l},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:r,options:s}=this,{padding:o,attrs:l}=s,f="stroke-width"in l?l["stroke-width"]:1,g="none"!==e.attr("fill");let m=parseFloat(e.attr("stroke-width"));isNaN(m)&&(m=1);const A=m+2*o,p=A+2*f;let L=this.getMaskShape(t,e);if(!L){const R=t.getNodeBoundingRect(e.node);R.inflate(R.width?0:.5,R.height?0:.5),L=pt("rect",R.toJSON())}return L.attr(l),pt("mask",{id:this.getMaskId()}).append([L.clone().attr({fill:g?n:"none",stroke:n,"stroke-width":p}),L.clone().attr({fill:g?r:"none",stroke:r,"stroke-width":A})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:r}=this,{padding:s,attrs:o,maskClip:l=Ol,layer:f}=n,g="stroke"in o?o.stroke:"#000000";!f&&e===t.el&&r.remove();const m=t.getNodeBoundingRect(e).inflate(s+l),A=this.getMask(t,pt(e));this.addMask(t.paper,A),r.attr(m.toJSON()),r.attr({transform:pt.matrixToTransformString(t.getNodeMatrix(e)),mask:`url(#${A.id})`,fill:g})},unhighlight(t){this.removeMask(t.paper)}}),Rl=Hs.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:wn("highlight-opacity"),highlight:function(t,e){pt(e).addClass(this.opacityClassName)},unhighlight:function(t,e){pt(e).removeClass(this.opacityClassName)}}),bu=wn("highlighted"),Zo=Hs.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:bu},highlight:function(t,e){pt(e).addClass(this.options.className)},unhighlight:function(t,e){pt(e).removeClass(this.options.className)}},{className:bu});function Zc(t,e,n,r){return t.getPointAtRatio("ratio"in r?r.ratio:.5)}function Gl(t,e,n,r){return t.getPointAtLength("length"in r?r.length:20)}function Fa(t){return function(e,n,r,s){if(r instanceof Element){var l,o=this.paper.findView(r);if(o)if(o.isNodeConnection(r)){var f="fixedAt"in s?s.fixedAt:"50%";l=Zl(o,f)}else l=o.getNodeBBox(r).center();else l=new Y;return t.call(this,e,n,l,s)}return t.apply(this,arguments)}}function Zl(t,e){var n=parseFloat(e);return Yn(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const xu=Fa(function jl(t,e,n,r){var s=1e6,o=t.getConnection(),l=t.getConnectionSubdivisions(),f=new O(n.clone().offset(0,s),n.clone().offset(0,-s)),g=new O(n.clone().offset(s,0),n.clone().offset(-s,0)),m=f.intersect(o,{segmentSubdivisions:l}),A=g.intersect(o,{segmentSubdivisions:l}),p=[];return m&&Array.prototype.push.apply(p,m),A&&Array.prototype.push.apply(p,A),p.length>0?n.chooseClosest(p):"fallbackAt"in r?Zl(t,r.fallbackAt):Nu(t,e,n,r)}),Nu=Fa(function Wc(t,e,n,r){return t.getClosestPoint(n)||new Y});function Va(t,e,n){if(Ot(n)){const{x:s,y:o}=n;if(isFinite(o)){const l=new O(e,t),{start:f,end:g}=l.parallel(o);e=f,t=g}n=s}if(!isFinite(n))return t;var r=t.distance(e);return 0===n&&r>0?t:t.move(e,-Math.min(n,r-1))}function Mu(t){var e=t.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}function Wl(t,e,n,r){var s=e.getNodeBBox(n);r.stroke&&s.inflate(Mu(n)/2);var o=t.intersect(s);return Va(o?t.start.chooseClosest(o):t.end,t.start,r.offset)}var Wo="segmentSubdivisons",Tu="shapeBBox";const ki=function De(t,e,n,r){let{offset:s,alignOffset:o,align:l}=r;return l&&function Su(t,e,n=0){let r,s,o,l;const{start:f,end:g}=t;switch(e){case"left":r="x",s=g,o=f,l=-1;break;case"right":r="x",s=f,o=g,l=1;break;case"top":r="y",s=g,o=f,l=-1;break;case"bottom":r="y",s=f,o=g,l=1;break;default:return}f[r]<g[r]?s[r]=o[r]:o[r]=s[r],isFinite(n)&&(s[r]+=l*n,o[r]+=l*n)}(t,l,o),Va(t.end,t.start,s)},Uc=Wl,_o=function _c(t,e,n,r){var s=e.model.angle();if(0===s)return Wl(t,e,n,r);var o=e.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(Mu(n)/2);var l=o.center(),f=t.clone().rotate(l,s),g=f.setLength(1e6).intersect(o);return Va(g?f.start.chooseClosest(g).rotate(l,-s):t.end,t.start,r.offset)},Du=function Yc(t,e,n,r){var s,o,l=r.selector,f=t.end;if(s="string"==typeof l?e.findBySelector(l)[0]:Array.isArray(l)?Ui(n,l):function po(t){if(!t)return null;var e=t;do{var n=e.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))e=e.firstElementChild;else{if("TITLE"!==n)break;e=e.nextElementSibling}}while(e);return e}(n),!pt.isSVGGraphicsElement(s)){if(s===n||!pt.isSVGGraphicsElement(n))return f;s=n}var ft,g=e.getNodeShape(s),m=e.getNodeMatrix(s),A=e.getRootTranslateMatrix(),p=e.getRootRotateMatrix(),L=A.multiply(p).multiply(m),R=L.inverse(),j=pt.transformLine(t,R),tt=j.start.clone(),nt=e.getNodeData(s);if(!1===r.insideout&&(nt[Tu]||(nt[Tu]=g.bbox()),nt[Tu].containsPoint(tt)))return f;if(g instanceof Ut){var y=r.precision||2;nt[Wo]||(nt[Wo]=g.getSegmentSubdivisions({precision:y})),ft={precision:y,segmentSubdivisions:nt[Wo]}}!0===r.extrapolate&&j.setLength(1e6),(o=j.intersect(g,ft))?pt.isArray(o)&&(o=tt.chooseClosest(o)):!0===r.sticky&&(o=g instanceof Pt?g.pointNearestToPoint(tt):g instanceof Ht?g.intersectionWithLineFromCenterToPoint(tt):g.closestPoint(tt,ft));var S=o?pt.transformPoint(o,L):f,P=r.offset||0;return r.stroke&&(P+=Mu(s)/2),Va(S,t.start,P)};function cs(t){return function(e,n,r,s){var o=!!s.rotate,l=o?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),f=l[t](),g=s.dx;if(g){var m=Yn(g);g=parseFloat(g),isFinite(g)&&(m&&(g/=100,g*=l.width),f.x+=g)}var A=s.dy;if(A){var p=Yn(A);A=parseFloat(A),isFinite(A)&&(p&&(A/=100,A*=l.height),f.y+=A)}return o?f.rotate(e.model.getBBox().center(),-e.model.angle()):f}}const Lu=cs("center"),Yl=cs("topMiddle"),Yo=cs("bottomMiddle"),Ul=cs("leftMiddle"),Pu=cs("rightMiddle"),Fl=cs("origin"),ku=cs("topRight"),Eu=cs("bottomLeft"),ta=cs("corner"),Fc=Fa(function _l(t,e,n,r){var s=t.model.angle(),o=t.getNodeBBox(e),l=o.center(),f=o.origin(),g=o.corner(),m=r.padding;if(isFinite(m)||(m=0),f.y+m<=n.y&&n.y<=g.y-m){var A=n.y-l.y;l.x+=0===s||180===s?0:1*A/Math.tan(kn(s)),l.y+=A}else if(f.x+m<=n.x&&n.x<=g.x-m){var p=n.x-l.x;l.y+=90===s||270===s?0:p*Math.tan(kn(s)),l.x+=p}return l}),ea=Fa(function vi(t,e,n,r){var o,l,f,s=!!r.rotate;s?(o=t.getNodeUnrotatedBBox(e),f=t.model.getBBox().center(),l=t.model.angle()):o=t.getNodeBBox(e);var A,g=r.padding;switch(isFinite(g)&&o.inflate(g),s&&n.rotate(f,l),o.sideNearestToPoint(n)){case"left":A=o.leftMiddle();break;case"right":A=o.rightMiddle();break;case"top":A=o.topMiddle();break;case"bottom":A=o.bottomMiddle()}return s?A.rotate(f,-l):A}),Vl=function $s(t,e,n,r,s){return t.model.getPointFromConnectedLink(this.model,s).offset(r.dx,r.dy)},xa={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Fo=9007199254740991,zu=Oe.Highlighting,Ou={[zu.DEFAULT]:{name:"stroke",options:{padding:3}},[zu.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[zu.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},Xl=[{name:Pi.BACK},{name:Pi.CELLS},{name:Pi.LABELS},{name:Pi.FRONT},{name:Pi.TOOLS}],Bu=pi.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:jn,linkView:go,snapLabels:!1,snapLinks:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:Ou,preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new In,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,n){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,n,r,s,o){return("target"===s?n:t)instanceof jn},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:xa.EXACT,frozen:!1,onViewUpdate:function(t,e,n,r,s){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||r.mounting||r.isolate||s.requestConnectedLinksUpdate(t,n,r)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Ar,anchorNamespace:xn,linkAnchorNamespace:qe,connectionPointNamespace:Sr},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&Yr(joint,"shapes")?joint.shapes:null);const n=this.model=t.model||new Ms;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this.$document=Ne(e.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var r=n.position;this.isAsync()||!Ae(r)?this.renderView(t,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(t,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const r=this.findViewByModel(t);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===xa.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.updateViews(t)}var s=this.SORT_DELAYING_BATCHES;s.includes(e)&&!n.hasActiveBatch(s)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:s,defaultLinkAnchor:o,origin:l,highlighting:f,cellViewNamespace:g,interactive:m}=t;!g&&typeof joint<"u"&&Yr(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),Zt(e)||(t.defaultConnector=ot(e)),Zt(n)||(t.defaultRouter=ot(n)),Zt(r)||(t.defaultConnectionPoint=ot(r)),Zt(s)||(t.defaultAnchor=ot(s)),Zt(o)||(t.defaultLinkAnchor=ot(o)),Ot(m)&&(t.interactive=w({},m)),Ot(f)&&(t.highlighting=U({},f,Ou)),t.origin=w({},l)},children:function(){var t=pt.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:wn("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:wn("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:wn("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:n,defs:r,layers:s,background:o,grid:l}=t;return this.svg=n,this.defs=r,this.layers=s,this.$background=Ne(o),this.$grid=Ne(l),this.renderLayers(),pt.ensureId(n),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=Xl){this.removeLayers(),t.forEach(({name:s})=>{const l=new zl({name:s});this.layers.appendChild(l.el),this._layers[s]=l});const e=this.getLayerView(Pi.CELLS),n=this.getLayerView(Pi.TOOLS),r=this.getLayerView(Pi.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(wn("viewport")),r.vel.addClass(wn("viewport"))},removeLayers:function(){const{_layers:t}=this;Object.keys(t,e=>{t[e].remove(),delete t[e]})},resetLayers:function(){const{_layers:t}=this;Object.keys(t,e=>{t[e].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(void 0===t){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),pt.createSVGMatrix(t)}t=pt.createSVGMatrix(t);var r=pt.matrixToTransformString(t);return e.setAttribute("transform",r),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return pt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof Oe)for(var r=t.model,s=this.model.getConnectedLinks(r),o=0,l=s.length;o<l;o++){var f=s[o],g=this.findViewByModel(f);if(g){var m=["UPDATE"];f.getTargetCell()===r&&m.push("TARGET"),f.getSourceCell()===r&&m.push("SOURCE");var A=Math.max(e+1,g.UPDATE_PRIORITY);this.scheduleViewUpdate(g,g.getFlag(m),A,n)}}},forcePostponedViewUpdate:function(t,e){if(!(t&&t instanceof Oe))return!1;var n=t.model;if(n.isElement())return!1;if(0==(e&t.getFlag(["SOURCE","TARGET"]))){var r=0,s=this.findViewByModel(n.getSourceCell());s&&!this.isViewMounted(s)&&(r=this.dumpView(s),t.updateEndMagnet("source"));var o=0,l=this.findViewByModel(n.getTargetCell());if(l&&!this.isViewMounted(l)&&(o=this.dumpView(l),t.updateEndMagnet("target")),0===r&&0===o)return!this.dumpView(t)}return!1},requestViewUpdate:function(t,e,n,r){r||(r={}),this.scheduleViewUpdate(t,e,n,r);var s=this.isAsync();if(!(this.isFrozen()||s&&!1!==r.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var o=this.updateViews(r);s&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(t,e,n,r){const{_updates:s,options:o}=this,{FLAG_REMOVE:l,FLAG_INSERT:f,UPDATE_PRIORITY:g,cid:m}=t;let A=s.priorities[n];if(A||(A=s.priorities[n]={}),n>g)for(let R=n-1;R>=g;R--){const j=s.priorities[R];!j||!(m in j)||(A[m]|=j[m],delete j[m])}let p=A[m]||0;if((p&e)===e)return;p||s.count++,e&l&&p&f?A[m]^=f:e&f&&p&l&&(A[m]^=l),A[m]|=e;const L=o.onViewUpdate;"function"==typeof L&&L.call(this,t,e,n,r||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var n=t.cid,r=this._updates.priorities[t.UPDATE_PRIORITY],s=this.registerMountedView(t)|r[n];return delete r[n],s},dumpView:function(t,e){var n=this.dumpViewUpdate(t);return n?this.updateView(t,n,e):0},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:s,model:o}=t;if(t instanceof Oe){if(e&r)return this.removeView(o),0;e&s&&(this.insertView(t),e^=s)}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var r=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],r},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var r=n.unmounted[e]||0;return delete n.unmounted[e],r},isViewMounted:function(t){return!!t&&t.cid in this._updates.mounted},dumpViews:function(t){var e=D({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,r=0,s=Fo;do{r++,e=this.updateViewsBatch(t),n+=e.updated,s=Math.min(e.priority,s)}while(!e.empty);const o={updated:n,batches:r,priority:s};return this.notifyAfterRender(o,t),o},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let r in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:Fo});var n=this._updates,r=n.id;if(r){pa(r),0===e.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);var s=this.updateViewsBatch(t),o=D({},t,{mountBatchSize:1e3-s.mounted,unmountBatchSize:1e3-s.unmounted}),l=this.checkViewport(o),f=l.unmounted,g=l.mounted,m=e.processed,A=n.count;s.updated>0&&(s.processed=m+=s.updated+s.unmounted,e.priority=Math.min(s.priority,e.priority),s.empty&&0===g?(s.unmounted+=f,s.mounted+=g,s.priority=e.priority,this.notifyAfterRender(s,t),e.processed=0,e.priority=Fo,n.count=0):e.processed=m);var p=t.progress;if(A&&"function"==typeof p&&p.call(this,s.empty,m,A,s,this),n.id!==r)return}n.id=_s(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;"function"!=typeof e&&(e=this.options.beforeRender,"function"!=typeof e)||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;"function"!=typeof n&&(n=this.options.afterRender),"function"==typeof n&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||1/0,n=this._updates,r=0,s=0,o=0,l=0,f=Fo,g=!0,m=this.options,A=n.priorities,p="viewport"in t?t.viewport:m.viewport;"function"!=typeof p&&(p=null);var L=m.onViewPostponed;"function"!=typeof L&&(L=null);var R=Object.keys(A);t:for(var j=0,tt=R.length;j<tt;j++){var nt=+R[j],ht=A[nt];for(var ft in ht){if(r>=e){g=!1;break t}var y=Hi[ft];if(y){var S=ht[ft];if(0==(S&y.FLAG_REMOVE)){var P=ft in n.unmounted;if(y.DETACHABLE&&p&&!p.call(this,y,!P,this)){P||(this.registerUnmountedView(y),y.unmount()),n.unmounted[ft]|=S,delete ht[ft],o++;continue}P&&(S|=y.FLAG_INSERT,l++),S|=this.registerMountedView(y)}var Z=this.updateView(y,S,t);Z>0&&(ht[ft]=Z,!L||!L.call(this,y,Z,this)||ht[ft])?(s++,g=!1):(f>nt&&(f=nt),r++,delete ht[ft])}else delete ht[ft]}}return{priority:f,updated:r,postponed:s,unmounted:o,mounted:l,empty:g}},getUnmountedViews:function(){const e=Object.keys(this._updates.unmounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Hi[e[s]];return r},getMountedViews:function(){const e=Object.keys(this._updates.mounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Hi[e[s]];return r},checkUnmountedViews:function(t,e){e||(e={});var n=0;"function"!=typeof t&&(t=null);for(var s=this._updates,o=s.unmountedCids,l=s.unmounted,f=0,g=(Math.min(o.length,"mountBatchSize"in e?e.mountBatchSize:1/0));f<g;f++){var m=o[f];if(m in l){var A=Hi[m];if(A){if(A.DETACHABLE&&t&&!t.call(this,A,!1,this)){o.push(m);continue}n++;var p=this.registerMountedView(A);p&&this.scheduleViewUpdate(A,p,A.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,f),n},checkMountedViews:function(t,e){e||(e={});var n=0;if("function"!=typeof t)return n;for(var s=this._updates,o=s.mountedCids,l=s.mounted,f=0,g=(Math.min(o.length,"unmountBatchSize"in e?e.unmountBatchSize:1/0));f<g;f++){var m=o[f];if(m in l){var A=Hi[m];if(A){if(!A.DETACHABLE||t.call(this,A,!0,this)){o.push(m);continue}n++,this.registerUnmountedView(A)&&A.unmount()}}}return o.splice(0,f),n},checkViewport:function(t){var e=D({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,r=this.checkMountedViews(n,e);return r>0&&(e.mountBatchSize=Math.min(this._updates.unmountedCids.length-r,e.mountBatchSize)),{mounted:this.checkUnmountedViews(n,e),unmounted:r}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,r=this.options.frozen,s=e.freezeKey;if(n&&n!==s){if(r&&s)return;e.freezeKey=n,e.keyFrozen=r}this.options.frozen=!0;var o=e.id;e.id=null,this.isAsync()&&o&&pa(o)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,r=e.freezeKey;n&&r&&n!==r||(e.freezeKey=null,(!n||n!==r||!e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===xa.EXACT},onRemove:function(){this.freeze(),this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return Ae(e)||(e=this.el.clientWidth),Ae(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e){const{options:n}=this,{width:r,height:s}=n;let o=void 0===t?r:t,l=void 0===e?s:e;if(r===o&&s===l)return;n.width=o,n.height=l,this._setDimensions();const f=this.getComputedSize();this.trigger("resize",f.width,f.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;Ae(e)&&(e=Math.round(e)),Ae(n)&&(n=Math.round(n)),this.$el.css({width:null===e?"":e,height:null===n?"":n})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,n,r){r=ln(t)?t:w({gridWidth:t,gridHeight:e,padding:n},r);const{x:s,y:o,width:l,height:f}=this.getFitToContentArea(r),{sx:g,sy:m}=this.scale();return this.setOrigin(-s*g,-o*m),this.setDimensions(l*g,f*m),new Pt(s,o,l,f)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,r=x(t.padding||0),s=Math.max(t.minWidth||0,e),o=Math.max(t.minHeight||0,n),l=t.maxWidth||Number.MAX_VALUE,f=t.maxHeight||Number.MAX_VALUE,g=t.allowNewOrigin,m="contentArea"in t?new Pt(t.contentArea):this.getContentArea(t),{sx:A,sy:p}=this.scale();m.x*=A,m.y*=p,m.width*=A,m.height*=p;let L=Math.ceil((m.width+m.x)/e),R=Math.ceil((m.height+m.y)/n);t.allowNegativeBottomRight||(L=Math.max(L,1),R=Math.max(R,1)),L*=e,R*=n;let j=0;("negative"===g&&m.x<0||"positive"===g&&m.x>=0||"any"===g)&&(j=Math.ceil(-m.x/e)*e,j+=r.left,L+=j);let tt=0;return("negative"===g&&m.y<0||"positive"===g&&m.y>=0||"any"===g)&&(tt=Math.ceil(-m.y/n)*n,tt+=r.top,R+=tt),L+=r.right,R+=r.bottom,L=Math.max(L,s),R=Math.max(R,o),L=Math.min(L,l),R=Math.min(R,f),new Pt(-j/A,-tt/p,L/A,R/p)},scaleContentToFit:function(t){var e,n;if(t||(t={}),"contentArea"in t){var r=t.contentArea;e=this.localToPaperRect(r),n=new Y(r)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(e.width&&e.height){D(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var m,s=x(t.padding),o=t.minScaleX||t.minScale,l=t.maxScaleX||t.maxScale,f=t.minScaleY||t.minScale,g=t.maxScaleY||t.maxScale;if(t.fittingBBox)m=t.fittingBBox;else{var A=this.translate(),p=this.getComputedSize();m={x:A.tx,y:A.ty,width:p.width,height:p.height}}m=new Pt(m).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});var L=this.scale(),R=m.width/e.width*L.sx,j=m.height/e.height*L.sy;if(t.preserveAspectRatio&&(R=j=Math.min(R,j)),t.scaleGrid){var tt=t.scaleGrid;R=tt*Math.floor(R/tt),j=tt*Math.floor(j/tt)}R=Math.min(l,Math.max(o,R)),j=Math.min(g,Math.max(f,j));var nt=this.options.origin,ht=m.x-n.x*R-nt.x,ft=m.y-n.y*j-nt.y;this.scale(R,j),this.translate(ht,ft)}},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new Pt:pt(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return n=Zt(e)?e.apply(this,t):!0===e?this.getArea():e?new Pt(e):null,n},createViewForModel:function(t){const{options:e}=this;var n,r,s=e.cellViewNamespace,o=t.get("type")+"View",l=Ui(s,o,".");return t.isLink()?(n=e.linkView,r=go):(n=e.elementView,r=jn),new(n.prototype instanceof un.View?l||n:n.call(this,t)||l||r)({model:t,interactive:e.interactive,labelsLayer:!0===e.labelsLayer?Pi.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:r}=this,s=n[e];if(s){var{cid:o}=s;const{mounted:l,unmounted:f}=r;s.remove(),delete n[e],delete l[o],delete f[o]}return s},renderView:function(t,e){const{id:n}=t,r=this._views;let s,o,l=!0;return n in r&&(s=r[n],s.model===t?(o=s.FLAG_INSERT,l=!1):this.removeView(t)),l&&(s=r[n]=this.createViewForModel(t),s.paper=this,o=this.registerUnmountedView(s)|s.getFlag(Ve(s,"initFlag"))),this.requestViewUpdate(s,o,s.UPDATE_PRIORITY,e),s},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var n=0,r=t.length;n<r;n++)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){W(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen())return void(this._updates.sort=!0);this.sortViewsExact()}},sortViewsExact:function(){var t=Ne(this.cells).children("[model-id]"),e=this.model.get("cells");!function(t,e){var n=Ne(t),r=n.map(function(){var o=this.parentNode,l=o.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,l),o.removeChild(l)}});Array.prototype.sort.call(n,e).each(function(s){r[s].call(this)})}(t,function(n,r){var s=e.get(n.getAttribute("model-id")),o=e.get(r.getAttribute("model-id")),l=s.attributes.z||0,f=o.attributes.z||0;return l===f?0:l<f?-1:1})},insertView:function(t){const e=this.getLayerView(Pi.CELLS),{el:n,model:r}=t;this.options.sorting===xa.APPROX?e.insertSortedNode(n,r.get("z")):e.insertNode(n),t.onMount()},scale:function(t,e,n,r){if(void 0===t)return pt.matrixToScale(this.matrix());void 0===e&&(e=t),void 0===n&&(n=0,r=0);var s=this.translate();(n||r||s.tx||s.ty)&&this.translate(s.tx-n*(t-1),s.ty-r*(e-1)),t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var f=this.matrix();return f.a=t,f.d=e,this.matrix(f),this.trigger("scale",t,e,n,r),this},rotate:function(t,e,n){if(void 0===t)return pt.matrixToRotate(this.matrix());if(void 0===e){var r=this.cells.getBBox();e=r.width/2,n=r.height/2}var s=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(s),this},translate:function(t,e){if(void 0===t)return pt.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:s}=n;t||(t=0),e||(e=0);const o=this.matrix();if(o.e===t&&o.f===e)return this;o.e=t,o.f=e,this.matrix(o);const{tx:l,ty:f}=this.translate();return r.x=l,r.y=f,this.trigger("translate",l,f),s&&this.drawGrid(),this},findView:function(t){var e=vn(t)?this.cells.querySelector(t):t instanceof Ne?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=vn(t)||Ae(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){return t=new Y(t),this.model.getElements().map(this.findViewByModel,this).filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=D(e||{},{strict:!1}),t=new Pt(t);var n=this.model.getElements().map(this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(function(s){return s&&t[r](s.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){"string"==typeof t&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new Y(t,e);return pt.transformPoint(n,this.matrix())},localToPaperRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.matrix())},paperToLocalPoint:function(t,e){var n=new Y(t,e);return pt.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.matrix().inverse())},localToClientPoint:function(t,e){var n=new Y(t,e);return pt.transformPoint(n,this.clientMatrix())},localToClientRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.clientMatrix())},clientToLocalPoint:function(t,e){var n=new Y(t,e);return pt.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(t,e,n,r){var s=new Pt(t,e,n,r);return pt.transformRect(s,this.clientMatrix().inverse())},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,r){return this.localToPaperRect(t,e,n,r).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var r=new Y(t,e).difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(t,e,n,r){var s=this.pageOffset(),o=new Pt(t,e,n,r);return o.x-=s.x,o.y-=s.y,this.paperToLocalRect(o)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new Y(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof go))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,r=this.model,s=r.constructor.validations;return!(!n.multiLinks&&!s.multiLinks.call(this,r,e)||!n.linkPinning&&!s.linkPinning.call(this,r,e)||"function"==typeof n.allowLink&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return Zt(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:r,highlighterNamespace:s}=this.options;if(void 0===e){if(!r||n&&(e=r[n],!1===e))return!1;e||(e=r.default)}if(!e)return!1;vn(e)&&(e={name:e});const o=e.name,l=s[o];if(!l)throw new Error('Unknown highlighter ("'+o+'")');if("function"!=typeof l.highlight)throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if("function"!=typeof l.unhighlight)throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:l,options:e.options||{},name:o}},onCellHighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:o}=r;s.highlight(t,e,o)},onCellUnhighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:o}=r;s.unhighlight(t,e,o)},pointerdblclick:function(t){t.preventDefault(),t=sn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){if(this.eventData(t).mousemoved<=this.options.clickThreshold){t=sn(t);var n=this.findView(t.target);if(this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,r.x,r.y):this.trigger("blank:pointerclick",t,r.x,r.y)}},contextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),t=sn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=sn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?(t.preventDefault(),e.pointerdown(t,n.x,n.y)):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,n.x,n.y)),this.delegateDragEvents(e,t.data)}},pointermove:function(t){var e=this.eventData(t);if(e.mousemoved||(e.mousemoved=0),!(++e.mousemoved<=this.options.moveThreshold)){t=sn(t);var r=this.snapToGrid(t.clientX,t.clientY),s=e.sourceView;s?s.pointermove(t,r.x,r.y):this.trigger("blank:pointermove",t,r.x,r.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=sn(t),n=this.snapToGrid(e.clientX,e.clientY),r=this.eventData(t).sourceView;r?r.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(Ne.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(t){t=sn(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=sn(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=sn(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const o=this.findView(n);s&&(o===s||(s.mouseenter(t),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=sn(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const o=this.findView(n);s&&(o===s||(s.mouseleave(t),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseleave",t)},mousewheel:function(t){t=sn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=t.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),s=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,r.x,r.y,s):this.trigger("blank:mousewheel",t,r.x,r.y,s)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var r=this.findView(e);if(r){if(t=sn(t),this.guard(t,r))return;var s=this.snapToGrid(t.clientX,t.clientY);r.onevent(t,n,s.x,s.y)}}},magnetEvent:function(t,e){var n=t.currentTarget;if(n.getAttribute("magnet")){var s=this.findView(n);if(s){if(t=sn(t),this.guard(t,s))return;var o=this.snapToGrid(t.clientX,t.clientY);e.call(this,s,t,n,o.x,o.y)}}},onmagnet:function(t){this.magnetEvent(t,function(e,n,r,s,o){e.onmagnet(n,s,o)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,r,s,o){e.magnetpointerdblclick(n,r,s,o)})},magnetcontextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),this.magnetEvent(t,function(e,n,r,s,o){e.magnetcontextmenu(n,r,s,o)})},onlabel:function(t){var n=this.findView(t.currentTarget);if(n){if(t=sn(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,r.x,r.y)}},getPointerArgs(t){const e=sn(t),{x:n,y:r}=this.snapToGrid(e.clientX,e.clientY);return[e,n,r]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e),this.undelegateEvents()},guard:function(t,e){return!!("mousedown"===t.type&&2===t.button||this.options.guard&&this.options.guard(t,e))||(t.data&&void 0!==t.data.guarded?t.data.guarded:!(e&&e.model&&e.model instanceof Ti||this.svg===t.target||this.el===t.target||Ne.contains(this.svg,t.target)))},setGridSize:function(t){return this.options.gridSize=t,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:pt("svg",{width:"100%",height:"100%"},pt("defs")),patterns:{},add:function(t,e){pt(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(pt("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return void 0!==this.patterns[t]}}),this._gridCache},setGrid:function(t){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(t)?t:[t||{}]).forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(vn(t)&&Array.isArray(e[t]))return e[t].map(function(g){return w({},g)});var n=t||{args:[{}]},r=Array.isArray(n),s=n.name;if(!r&&!s&&!n.markup&&(s="dot"),s&&Array.isArray(e[s])){var o=e[s].map(function(g){return w({},g)}),l=Array.isArray(n.args)?n.args:[n.args||{}];D(l[0],wr(t,"args"));for(var f=0;f<l.length;f++)o[f]&&w(o[f],l[f]);return o}return r?n:[n]},drawGrid:function(t){var e=this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],r=this.matrix(),s=this._getGridRefs();this._gridSettings.forEach(function(l,f){var g="pattern_"+f,m=Gn(l,n[f],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});m.width=e*(r.a||1)*(m.scaleFactor||1),m.height=e*(r.d||1)*(m.scaleFactor||1),s.exist(g)||s.add(g,pt("pattern",{id:g,patternUnits:"userSpaceOnUse"},pt(m.markup)));var A=s.get(g);Zt(m.update)&&m.update(A.node.childNodes[0],m);var p=m.ox%m.width;p<0&&(p+=m.width);var L=m.oy%m.height;L<0&&(L+=m.height),A.attr({x:p,y:L,width:m.width,height:m.height})});var o=(new XMLSerializer).serializeToString(s.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(t){var e=(t=t||{}).position||"center",n=t.size||"auto auto",r=this.scale(),s=this.translate();ln(e)&&(e=s.tx+r.sx*(e.x||0)+"px "+(s.ty+r.sy*(e.y||0))+"px"),ln(n)&&(n=(n=new Pt(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(t instanceof HTMLImageElement){if(this._background&&this._background.id===e.id){var n,r=(e=e||{}).size,s=e.repeat||"no-repeat",o=e.opacity||1,l=Math.abs(e.quality)||1,f=this.constructor.backgroundPatterns[Ur(s)];if(Zt(f)){t.width*=l,t.height*=l;var g=f(t,e);if(!(g instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=g.toDataURL("image/png"),s="repeat",ln(r)?(r.width*=g.width/t.width,r.height*=g.height/t.height):void 0===r&&(e.size={width:g.width/l,height:g.height/l})}else n=t.src,void 0===r&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:o,backgroundRepeat:s,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(this.updateBackgroundColor((t=t||{}).color),t.image){t=this._background=ot(t),ws(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,W(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!ln(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+Yi(JSON.stringify(t))),!this.isDefined(e)){var s=J[n]&&J[n](t.args||{});if(!s)throw new Error("Non-existing filter "+n);var o=w({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});pt(s,o).appendTo(this.defs)}return e},defineGradient:function(t){if(!ln(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:r,id:s=r+e.id+Yi(JSON.stringify(t)),stops:o,attrs:l={}}=t;if(this.isDefined(s))return s;const f=Ft(o).map(({offset:m,color:A,opacity:p})=>pt("stop").attr({offset:m,"stop-color":A,"stop-opacity":Number.isFinite(p)?p:1})),g=pt(r,l,f);return g.id=s,g.appendTo(n),s},definePattern:function(t){if(!ln(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+Yi(JSON.stringify(t)),markup:s,attrs:o={}}=t;if(!s)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const l=pt("pattern",{patternUnits:"userSpaceOnUse"});if(l.id=r,l.attr(o),"string"==typeof s)l.append(pt(s));else{const{fragment:f}=_r(s);l.append(f)}return l.appendTo(n),r},defineMarker:function(t){if(!ln(t))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+Yi(JSON.stringify(t)),markup:s,attrs:o={},markerUnits:l="userSpaceOnUse"}=t;if(this.isDefined(r))return r;const f=pt("marker",{orient:"auto",overflow:"visible",markerUnits:l});if(f.id=r,f.attr(o),s)if("string"==typeof s)f.append(pt(s));else{const{fragment:g}=_r(s);f.append(g)}else{const{type:g="path"}=t,m=pt(g,wr(t,"type","id","markup","attrs","markerUnits"));f.append(m)}return f.appendTo(n),r}},{sorting:xa,Layers:Pi,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(t,0,0,n,r),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(t,0,0,n,r),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(2*n,0),s.scale(-1,1),s.drawImage(t,0,0,n,r),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=2*r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(0,2*r),s.scale(1,-1),s.drawImage(t,0,0,n,r),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,s=document.createElement("canvas");s.width=3*n,s.height=3*r;for(var o=s.getContext("2d"),l=Ae(e.watermarkAngle)?-e.watermarkAngle:-20,f=kn(l),g=s.width/4,m=s.height/4,A=0;A<4;A++)for(var p=0;p<4;p++)(A+p)%2>0&&(o.setTransform(1,0,0,1,(2*A-1)*g,(2*p-1)*m),o.rotate(f),o.drawImage(t,-n/2,-r/2,n,r));return s}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){pt(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;pt(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,o=e.thickness;n=r-o>=0&&s-o>=0?["M",r,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,o=e.thickness;n=r-o>=0&&s-o>=0?["M",r,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,o=e.thickness;n=r-o>=0&&s-o>=0?["M",r,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}}),na=pi.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(t){const{paper:e,relatedView:n}=this;return!e||!n||e.guard(t,n)}}),Vo=pi.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(t){var e=(t=w(this.options,t)).tools;if(!Array.isArray(e))return this;var n=t.relatedView;if(!(n instanceof Oe))return this;for(var r=this.tools=[],s=0,o=e.length;s<o;s++){var l=e[s];l instanceof na&&(l.configure(n,this),this.vel.append(l.el),r.push(l))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(t){t||(t={});var e=this.tools;if(!e)return this;for(var n=this.isRendered,r=0,s=e.length;r<s;r++){var o=e[r];n?t.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return n||(this.mount(),this.blurTool(),this.isRendered=!0),this},focusTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var s=e[n];t===s?s.show():s.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var s=e[n];s!==t&&!s.isVisible()&&(s.show(),s.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,n=t.length;e<n;e++)t[e].remove();this.tools=null},mount:function(){const{options:t,el:e}=this,{relatedView:n,layer:r=Pi.TOOLS,z:s}=t;return n&&(r?n.paper.getLayerView(r).insertSortedNode(e,s):n.el.appendChild(e)),this}});function Hr(t,e){return 0===e?"0%":Math.round(t/e*100*1e3)/1e3+"%"}function Ji(t){return function(e,n,r,s){return(n.isNodeConnection(r)?Hc:Xc)(t,e,n,r,s)}}function Xc(t,e,n,r,s){var o=n.model.angle(),l=n.getNodeUnrotatedBBox(r),f=n.model.getBBox().center();s.rotate(f,o);var g=s.x-l.x,m=s.y-l.y;return t&&(g=Hr(g,l.width),m=Hr(m,l.height)),e.anchor={name:"topLeft",args:{dx:g,dy:m,rotate:!0}},e}function Hc(t,e,n,r,s){var o=n.getConnection();if(!o)return e;var l=o.closestPointLength(s);if(t){var f=o.length();e.anchor={name:"connectionRatio",args:{ratio:l/f}}}else e.anchor={name:"connectionLength",args:{length:l}};return e}Ji(!1);const Hl=Ji(!0);function Gu(t,e,n){return Hl.call(this.paper,{},e,n,t,this.model).anchor}function ju(t,e){const{model:n}=t;return e?n.getBBox():n.isLink()?t.getConnection().bbox():t.getNodeUnrotatedBBox(t.el)}var Na=pi.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(t,e){this.vel.attr({cx:t,cy:e})},onPointerDown:function(t){this.options.guard(t)||(t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data),this.trigger("will-change",this,t))},onPointerMove:function(t){this.trigger("changing",this,t)},onDoubleClick:function(t){this.trigger("remove",this,t)},onPointerUp:function(t){this.trigger("changed",this,t),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),Jl=(na.extend({name:"vertices",options:{handleClass:Na,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){return this.relatedView.model.vertices().length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},renderHandles:function(){for(var e=this.relatedView.model.vertices(),n=0,r=e.length;n<r;n++){var s=e[n],o=new this.options.handleClass({index:n,paper:this.paper,guard:l=>this.guard(l)});o.render(),o.position(s.x,s.y),this.simulateRelatedView(o.el),o.vel.appendTo(this.el),this.handles.push(o),this.startHandleListening(o)}},updateHandles:function(){for(var e=this.relatedView.model.vertices(),n=0,r=e.length;n<r;n++){var s=e[n],o=this.handles[n];if(!o)return;o.position(s.x,s.y)}},updatePath:function(){var t=this.childNodes.connection;t&&t.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(t){var e=this.relatedView;e.can("vertexMove")&&(this.listenTo(t,"will-change",this.onHandleWillChange),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"changed",this.onHandleChanged)),e.can("vertexRemove")&&this.listenTo(t,"remove",this.onHandleRemove)},getNeighborPoints:function(t){var e=this.relatedView,n=e.model.vertices(),s=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:new Y(t>0?n[t-1]:e.sourceAnchor),next:new Y(s)}},onHandleWillChange:function(t,e){this.focus();const{relatedView:n,options:r}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),r.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(e))},onHandleChanging:function(t,e){const{options:n,relatedView:r}=this;var s=t.options.index,[o,l,f]=r.paper.getPointerArgs(e),g={x:l,y:f};this.snapVertex(g,s),r.model.vertex(s,g,{ui:!0,tool:this.cid}),t.position(g.x,g.y),n.stopPropagation||r.notifyPointermove(o,l,f)},onHandleChanged:function(t,e){const{options:n,relatedView:r}=this;if(n.vertexAdding&&this.updatePath(),n.redundancyRemoval){r.removeRedundantLinearVertices({ui:!0,tool:this.cid})&&this.render(),this.blur(),r.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(e).vertexAdded&&r.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[o,l,f]=r.paper.getPointerArgs(e);n.stopPropagation||r.notifyPointerup(o,l,f),r.checkMouseleave(o)}},snapVertex:function(t,e){var n=this.options.snapRadius;if(n>0){var r=this.getNeighborPoints(e),s=r.prev,o=r.next;Math.abs(t.x-s.x)<n?t.x=s.x:Math.abs(t.x-o.x)<n&&(t.x=o.x),Math.abs(t.y-s.y)<n?t.y=r.prev.y:Math.abs(t.y-o.y)<n&&(t.y=o.y)}},onHandleRemove:function(t,e){var r=this.relatedView;r.model.removeVertex(t.options.index,{ui:!0}),this.options.vertexAdding&&this.updatePath(),r.checkMouseleave(sn(e))},onPathPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=sn(t),n=this.paper.snapToGrid(e.clientX,e.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var s=r.getVertexIndex(n.x,n.y);this.snapVertex(n,s),r.model.insertVertex(s,n,{ui:!0,tool:this.cid}),this.update();var o=this.handles[s];this.eventData(e,{vertexAdded:!0}),o.onPointerDown(e)}},onRemove:function(){this.resetHandles()}},{VertexHandle:Na}),pi.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(t,e,n,r){var s=pt.createSVGMatrix().translate(t,e).rotate(n),o=this.childNodes.handle;o.setAttribute("transform",pt.matrixToTransformString(s)),o.setAttribute("cursor",n%180==0?"row-resize":"col-resize");var l=r.getClosestPoint(new Y(t,e)),f=this.childNodes.line;f.setAttribute("x1",t),f.setAttribute("y1",e),f.setAttribute("x2",l.x),f.setAttribute("y2",l.y)},onPointerDown:function(t){this.options.guard(t)||(this.trigger("change:start",this,t),t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data))},onPointerMove:function(t){this.trigger("changing",this,t)},onPointerUp:function(t){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,t)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}})),Zu=(na.extend({name:"segments",precision:.5,options:{handleClass:Jl,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:Gu,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var t=this.relatedView,e=t.model.vertices();e.unshift(t.sourcePoint),e.push(t.targetPoint);for(var n=0,r=e.length;n<r-1;n++){var l=this.renderHandle(e[n],e[n+1]);this.simulateRelatedView(l.el),this.handles.push(l),l.options.index=n}return this},renderHandle:function(t,e){var n=new this.options.handleClass({paper:this.paper,guard:r=>this.guard(r)});return n.render(),this.updateHandle(n,t,e),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(t){this.listenTo(t,"change:start",this.onHandleChangeStart),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},shiftHandleIndexes:function(t){for(var e=this.handles,n=0,r=e.length;n<r;n++)e[n].options.index+=t},resetAnchor:function(t,e){var n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(t,e,n){var r=t.options.index,l=this.relatedView.model.vertices(),f=t.options.axis,g=l[r-2]||n.sourceAnchor,m=l[r+1]||n.targetAnchor,A=this.options.snapRadius;return Math.abs(e[f]-g[f])<A?e[f]=g[f]:Math.abs(e[f]-m[f])<A&&(e[f]=m[f]),e},onHandleChanging:function(t,e){const{options:n}=this;var r=this.eventData(e),s=this.relatedView,o=s.paper,l=t.options.index-1,f=sn(e),g=o.snapToGrid(f.clientX,f.clientY),m=this.snapHandle(t,g.clone(),r),A=t.options.axis,p=this.options.snapHandle?0:g[A]-m[A],L=s.model,R=ot(L.vertices()),j=R[l],tt=R[l+1],nt=this.options.anchor;"function"!=typeof nt&&(nt=null);var ht=s.sourceView,ft=s.sourceBBox,y=!1,S=!1;if(j?0===l?ft.containsPoint(j)?(R.shift(),this.shiftHandleIndexes(-1),y=!0):(j[A]=m[A],S=!0):j[A]=m[A]:((j=s.sourceAnchor.toJSON())[A]=m[A],ft.containsPoint(j)?(j[A]=m[A],y=!0):(R.unshift(j),this.shiftHandleIndexes(1),S=!0)),nt&&ht){if(y){var P=r.sourceAnchor.clone();P[A]=m[A];var Z=nt.call(s,P,ht,s.sourceMagnet||ht.el,"source",s);this.resetAnchor("source",Z)}S&&this.resetAnchor("source",r.sourceAnchorDef)}var H=s.targetView,st=s.targetBBox,ut=!1,vt=!1;if(tt?l===R.length-2?st.containsPoint(tt)?(R.pop(),ut=!0):(tt[A]=m[A],vt=!0):tt[A]=m[A]:((tt=s.targetAnchor.toJSON())[A]=m[A],st.containsPoint(tt)?ut=!0:(R.push(tt),vt=!0)),nt&&H){if(ut){var Dt=r.targetAnchor.clone();Dt[A]=m[A];var St=nt.call(s,Dt,H,s.targetMagnet||H.el,"target",s);this.resetAnchor("target",St)}vt&&this.resetAnchor("target",r.targetAnchorDef)}L.vertices(R,{ui:!0,tool:this.cid}),this.updateHandle(t,j,tt,p),n.stopPropagation||s.notifyPointermove(f,g.x,g.y)},onHandleChangeStart:function(t,e){const{options:n,handles:r,relatedView:s}=this,{model:o,paper:l}=s;var f=t.options.index;if(Array.isArray(r)){for(var g=0,m=r.length;g<m;g++)g!==f&&r[g].hide();this.focus(),this.eventData(e,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:xt(o.prop(["source","anchor"])),targetAnchorDef:xt(o.prop(["target","anchor"]))}),o.startBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||s.notifyPointerdown(...l.getPointerArgs(e))}},onHandleChangeEnd:function(t,e){const{options:n,relatedView:r}=this,{paper:s,model:o}=r;n.redundancyRemoval&&r.removeRedundantLinearVertices({ui:!0,tool:this.cid});const l=sn(e),f=s.snapToGrid(l.clientX,l.clientY);this.render(),this.blur(),o.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerup(l,f.x,f.y),r.checkMouseleave(l)},updateHandle:function(t,e,n,r){var s=Math.abs(e.x-n.x)<this.precision,o=Math.abs(e.y-n.y)<this.precision;if(s||o){var l=new O(e,n);if(l.length()<this.options.segmentLengthThreshold)t.hide();else{var g=l.midpoint(),m=s?"x":"y";g[m]+=r||0;var A=l.vector().vectorAngle(new Y(1,0));t.position(g.x,g.y,A,this.relatedView),t.show(),t.options.axis=m}}else t.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:Jl}),na.extend({tagName:"path",xAxisVector:new Y(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},onRender:function(){this.update()},update:function(){var r,s,t=this.ratio,e=this.relatedView,n=e.getTangentAtRatio(t);if(n?(r=n.start,s=n.vector().vectorAngle(this.xAxisVector)||0):(r=e.getPointAtRatio(t),s=0),!r)return this;var o=pt.createSVGMatrix().translate(r.x,r.y).rotate(s);return this.vel.transform(o,{absolute:!0}),this},onPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.relatedView;e.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),e.can("arrowheadMove")&&(e.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),e.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(t){var e=sn(t),n=this.paper.snapToGrid(e.clientX,e.clientY);this.relatedView.pointermove(e,n.x,n.y)},onPointerUp:function(t){this.undelegateDocumentEvents();var e=this.relatedView,n=e.paper,r=sn(t),s=n.snapToGrid(r.clientX,r.clientY);e.pointerup(r,s.x,s.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",e.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}})),mo=(Zu.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),Zu.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),na.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{relatedView:t,vel:e}=this,n=t.model.isLink()?this.getLinkMatrix():this.getElementMatrix();e.transform(n,{absolute:!0})},getElementMatrix(){const{relatedView:t,options:e}=this;let{x:n=0,y:r=0,offset:s={},useModelGeometry:o,rotate:l}=e,f=ju(t,o);const g=t.model.angle();l||(f=f.bbox(g));const{x:m=0,y:A=0}=s;Yn(n)&&(n=parseFloat(n)/100*f.width),Yn(r)&&(r=parseFloat(r)/100*f.height);let p=pt.createSVGMatrix().translate(f.x+f.width/2,f.y+f.height/2);return l&&(p=p.rotate(g)),p=p.translate(n+m-f.width/2,r+A-f.height/2),p},getLinkMatrix(){const{relatedView:t,options:e}=this,{offset:n=0,distance:r=0,rotate:s}=e;let o,l,f;o=Yn(r)?t.getTangentAtRatio(parseFloat(r)/100):t.getTangentAtLength(r),o?(l=o.start,f=o.vector().vectorAngle(new Y(1,0))||0):(l=t.getConnection().start,f=0);let g=pt.createSVGMatrix().translate(l.x,l.y).rotate(f).translate(0,n);return s||(g=g.rotate(-f)),g},onPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.options.action;"function"==typeof e&&e.call(this.relatedView,t,this.relatedView,this)}}})),Io=mo.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(t,e,n){e.model.remove({ui:!0,tool:n.cid})}}});mo.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:t=>t.el,action:(t,e,n)=>n.dragstart(t)},getMagnetNode:function(){const{options:t,relatedView:e}=this,{magnet:n}=t;let r;switch(typeof n){case"function":r=n.call(this,e,this);break;case"string":[r]=e.findBySelector(n);break;default:r=n}if(r||(r=e.el),r instanceof SVGElement)return r;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(t){const{paper:e,relatedView:n}=this,r=sn(t),{x:s,y:o}=e.clientToLocalPoint(r.clientX,r.clientY);n.dragLinkStart(r,this.getMagnetNode(),s,o),e.undelegateEvents(),this.delegateDocumentEvents(null,t.data),this.focus()},drag:function(t){const{paper:e,relatedView:n}=this,r=sn(t),{x:s,y:o}=e.snapToGrid(r.clientX,r.clientY);n.dragLink(r,s,o)},dragend:function(t){const{paper:e,relatedView:n}=this,r=sn(t),{x:s,y:o}=e.snapToGrid(r.clientX,r.clientY);n.dragLinkEnd(r,s,o),this.undelegateDocumentEvents(),e.delegateEvents(),this.blur(),n.checkMouseleave(r)}}),na.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:t,options:e,vel:n}=this,{useModelGeometry:r,rotate:s}=e,o=x(e.padding);let l=ju(t,r).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom});var f=t.model;if(f.isElement()){var g=f.angle();if(g)if(s){var m=f.getBBox().center();n.rotate(g,m.x,m.y,{absolute:!0})}else l=l.bbox(g)}return n.attr(l.toJSON()),this}});var Yu=na.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:function Jc(t,e,n,r,s,o){var l=o.options.snapRadius,f="source"===r,m=this.model.vertex(f?0:-1)||this.getEndAnchor(f?"target":"source");return m&&(Math.abs(m.x-t.x)<l&&(t.x=m.x),Math.abs(m.y-t.y)<l&&(t.y=m.y)),t},anchor:Gu,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){return this.relatedView.getEndView(this.type)?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var t=this.childNodes;if(t){var e=t.anchor;if(e){var n=this.relatedView,r=this.type,s=n.getEndAnchor(r),o=this.options,l=n.model.prop([r,"anchor"]);e.setAttribute("transform","translate("+s.x+","+s.y+")");var f=l?o.customAnchorAttributes:o.defaultAnchorAttributes;for(var g in f)e.setAttribute(g,f[g])}}},updateArea:function(){var t=this.childNodes;if(t){var e=t.area;if(e){var g,m,A,n=this.relatedView,r=this.type,s=n.getEndView(r),o=s.model,l=n.getEndMagnet(r),f=this.options.areaPadding;isFinite(f)||(f=0),s.isNodeConnection(l)?(m=0,A=(g=s.getBBox()).center()):(g=s.getNodeUnrotatedBBox(l),m=o.angle(),A=g.center(),m&&A.rotate(o.getBBox().center(),-m)),g.inflate(f),e.setAttribute("x",-g.width/2),e.setAttribute("y",-g.height/2),e.setAttribute("width",g.width),e.setAttribute("height",g.height),e.setAttribute("transform","translate("+A.x+","+A.y+") rotate("+m+")")}}},toggleArea:function(t){this.childNodes.area.style.display=t?"":"none"},onPointerDown:function(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(t){var e=this.type,n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(t){var e=this.relatedView,n=this.type,r=e.getEndView(n),s=r.model,o=e.getEndMagnet(n),l=sn(t),f=this.paper.clientToLocalPoint(l.clientX,l.clientY),g=this.options.snap;if("function"==typeof g&&(f=g.call(e,f,r,o,n,e,this),f=new Y(f)),this.options.restrictArea)if(r.isNodeConnection(o)){var m=r.getClosestPoint(f);m&&(f=m)}else{var A=r.getNodeUnrotatedBBox(o),p=s.angle(),L=s.getBBox().center(),R=f.clone().rotate(L,p);A.containsPoint(R)||(f=A.pointNearestToPoint(R).rotate(L,-p))}var j,tt=this.options.anchor;"function"==typeof tt&&(j=tt.call(e,f,r,o,n,e)),this.resetAnchor(j),this.update()},onPointerUp:function(t){this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var e=this.relatedView;this.options.redundancyRemoval&&e.removeRedundantLinearVertices({ui:!0,tool:this.cid}),e.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var t=this.options.resetAnchor;!1!==t&&(!0===t&&(t=null),this.resetAnchor(ot(t)),this.update())}});Yu.extend({name:"source-anchor",type:"source"}),Yu.extend({name:"target-anchor",type:"target"});const Ho=en.define("ui.Group",{attrs:{body:{width:"calc(w)",height:"calc(h)",rx:10,ry:10,strokeWidth:2,stroke:"#333333",strokeDasharray:"4,4,1",fill:"transparent",pointerEvents:"none"},wrapper:{width:"calc(w-10)",height:"calc(h-10)",strokeWidth:10,stroke:"transparent",fill:"none",transform:"matrix(1,0,0,1,5,5)",pointerEvents:"stroke"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"wrapper"}]});class $c{constructor(e){this.mousemoveHandler=null,this.selectedViews=null,this.selectedRect=null,this.paper=e.paper,this.graph=e.graph,this.selectionEl=document.createElement("div"),this.selectionEl.classList.add("joint-selection","joint-theme-material"),this.selectionEl.style.pointerEvents="none",this.paper.el.appendChild(this.selectionEl),this.selectionWrapperEl=document.createElement("div"),this.selectionWrapperEl.classList.add("selection-wrapper"),this.selectionEl.appendChild(this.selectionWrapperEl);const n=document.createElement("div");n.className="handle nw",n.textContent="+Group",n.addEventListener("click",()=>this.onGroupElements()),this.selectionWrapperEl.appendChild(n)}cancelSelection(){this.selectionEl.classList.remove("lasso","selected"),this.selectionEl.style.width="",this.selectionEl.style.height="",this.selectionWrapperEl.setAttribute("data-selection-length","0"),this.mousemoveHandler&&(this.paper.el.removeEventListener("mousemove",this.mousemoveHandler),this.mousemoveHandler=null),this.selectedViews=null,this.selectedRect=null}startSelecting(e){this.cancelSelection();const n=new Y(e.offsetX,e.offsetY);this.selectionEl.style.left=`${n.x}px`,this.selectionEl.style.top=`${n.y}px`,this.selectionEl.classList.add("lasso"),this.mousemoveHandler=r=>{const s=new Y(r.offsetX,r.offsetY),o=Pt.fromPointUnion(n,s);this.selectionEl.style.left=`${o?.x}px`,this.selectionEl.style.top=`${o?.y}px`,this.selectionEl.style.width=`${o?.width}px`,this.selectionEl.style.height=`${o?.height}px`},this.paper.el.addEventListener("mousemove",this.mousemoveHandler),this.paper.el.addEventListener("mouseup",r=>{this.cancelSelection();const s=new Y(r.offsetX,r.offsetY),o=Pt.fromPointUnion(n,s);if(!o)return;const l=this.paper.findViewsInArea(o).filter(g=>"ui.Group"!==g.model.get("type")&&!g.model.isEmbedded());if(0===l.length)return;this.selectionEl.classList.add("selected"),this.selectionWrapperEl.setAttribute("data-selection-length",l.length.toString());const f=Pt.fromRectUnion(...l.map(g=>g.getBBox()));this.selectionWrapperEl.style.left=`${f?.x}px`,this.selectionWrapperEl.style.top=`${f?.y}px`,this.selectionWrapperEl.style.width=`${f?.width}px`,this.selectionWrapperEl.style.height=`${f?.height}px`,this.selectedViews=l,this.selectedRect=f},{once:!0})}onGroupElements(){if(!this.selectedViews||!this.selectedRect)return;const e=new Ho;e.position(this.selectedRect.x-10,this.selectedRect.y-10),e.resize(this.selectedRect.width+20,this.selectedRect.height+20),e.embed(this.selectedViews.map(s=>s.model));const n=new Io,r=new Vo({tools:[n]});this.graph.addCell(e),e.findView(this.paper).addTools(r),this.paper.hideTools(),this.cancelSelection()}}var dn=Vt(256);const Ds=["paper"];let Ql=(()=>{class t{constructor(){this.nodeCount=0,this.nodePosition=100,this.groupPosition=200}ngOnInit(){this.graph=new Ms,this.paper=new Bu({el:this.paperRef.nativeElement,width:"calc(w)",height:"calc(h)",background:{color:"#eee"},gridSize:1,model:this.graph,embeddingMode:!0,frontParentOnly:!1,validateEmbedding:function(r,s){const o=s.model.get("type"),l=r.model.get("type");return"ui.Group"===o&&"standard.Rectangle"===l}}).on("blank:pointerdown",(r,s,o)=>{this.paper.hideTools(),n.startSelecting(r)}).on("cell:pointerdown",r=>{this.paper.hideTools(),r.hasTools()&&r.showTools()});const n=new $c({paper:this.paper,graph:this.graph})}addNode(){const n=new Aa;this.nodePosition=(this.nodePosition+=10)%100+100,n.position(this.nodePosition,this.nodePosition),n.resize(50,50),n.attr({body:{fill:"white"},label:{text:"Node "+ ++this.nodeCount,fill:"black"}});const r=new Io,s=new Vo({tools:[r]});this.graph.addCell(n),n.findView(this.paper).addTools(s),this.paper.hideTools()}addGroup(){const n=new Ho;this.groupPosition=(this.groupPosition+=10)%200+200,n.position(this.groupPosition,this.groupPosition),n.resize(200,200);const r=new Io,s=new Vo({tools:[r]});this.graph.addCell(n),n.findView(this.paper).addTools(s),this.paper.hideTools()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=dn.Xpm({type:t,selectors:[["app-editor"]],viewQuery:function(n,r){if(1&n&&dn.Gf(Ds,7),2&n){let s;dn.iGM(s=dn.CRH())&&(r.paperRef=s.first)}},decls:7,vars:0,consts:[["id","toolbar"],[3,"click"],["id","paper"],["paper",""]],template:function(n,r){1&n&&(dn.TgZ(0,"div",0)(1,"button",1),dn.NdJ("click",function(){return r.addNode()}),dn._uU(2,"Add Node"),dn.qZA(),dn.TgZ(3,"button",1),dn.NdJ("click",function(){return r.addGroup()}),dn._uU(4,"Add Group"),dn.qZA()(),dn._UZ(5,"div",2,3))},styles:["#toolbar[_ngcontent-%COMP%]{display:flex;height:24px;margin-bottom:16px}#paper[_ngcontent-%COMP%]{width:100%;height:calc(100% - 40px)}"]}),t})();const Ue=en.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),tf=Ue.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),Kl=jn.extend({presentationAttributes:jn.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=jn.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),ef=Ue.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),Fu=Ue.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),Ls=Ue.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),Vu=Ue.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),Xu=Ue.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),Hu=Ue.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),Ao=Ue.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),Xa=Ao.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),re=br.test("svgforeignobject"),Jo=Ue.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',re?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Ue.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":w({},e),div:{style:w({},e)}})},updateContent:function(t,e){this.attr(re?{".content":{html:za(e)}}:{".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),Ju=jn.extend({presentationAttributes:re?jn.prototype.presentationAttributes:jn.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=jn.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n=this.model;if(re)jn.prototype.update.call(this,n,e);else{var r=wr(e||n.get("attrs"),".content");jn.prototype.update.call(this,n,r),(!e||Yr(e,".content"))&&this.updateContent(n,e)}},updateContent:function(t,e){var n=Gn({},(e||t.get("attrs"))[".content"]);n=wr(n,"text");var r=bs(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),s=is({},".content",n,"/");s[".content"].text=r,jn.prototype.update.call(this,t,s)}}),Ps=Ue.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){Ue.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var r=gt(this.get("inPorts")),s=ze(gt(this.get("outPorts")),r),o=this.createPortItems("in",r),l=this.createPortItems("out",s);this.prop("ports/items",o.concat(l),w({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return Ft(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,n){var r=this.get(e);return this.set(e,Array.isArray(r)?r.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,Kn(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,ln(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),nf=Ps.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),Qu=Ps.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),ql=In.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),or=Ue.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Ku=or.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),rf=Ku.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),$l=Ku.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),qu=or.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),ra=or.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),sf=qu.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),af=qu.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),of=ra.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),ks=ra.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),Jr=ra.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),$u=ra.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),uf=ra.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),tl=ra.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),lf=In.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),cf=Ue.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),Co=Ue.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),tc=Ue.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),ec=Ue.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),ff=Ue.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),hf=Ue.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),gf=Ue.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),df=Ue.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),nc=Ue.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),rc=Ue.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),pf=Ue.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),el=Ue.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),nl=en.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),yo=nl.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),Qo=en.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),ic=Qo.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Ha=en.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),Ko=Ha.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),sc=Ha.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),fs=Ha.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),Ma=Ha.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),vf=en.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),ac=In.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),mf=Fu.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),If=en.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),Af=en.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Cf=In.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),yf=en.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),wf=In.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),bf=Ue.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),xf=jn.extend({presentationAttributes:jn.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:jn.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=jn.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){t.removeClass(n)});var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append(pt("circle"));break;case 2:t.addClass("two"),t.append([pt("circle"),pt("circle")]);break;case 3:t.addClass("three"),t.append([pt("circle"),pt("circle"),pt("circle")]);break;default:t.addClass("alot"),t.append(pt("text").text(e+""))}}}),Nf=Ue.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),Mf=In.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),rl=Ue.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),Ue.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;e.forEach(function(r){var s=Array.isArray(r.text)?r.text:[r.text],o=20*s.length+20;t[".uml-class-"+r.type+"-text"].text=s.join("\n"),t[".uml-class-"+r.type+"-rect"].height=o,t[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=o})}}),qo=jn.extend({initialize:function(){jn.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),oc=rl.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),uc=qo,Sf=rl.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),Tf=qo,Df=In.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),lc=In.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),Lf=In.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),Pf=In.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),kf=In.define("uml.Association"),Ef=Ue.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),Ue.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),zf=Fu.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),Of=Ue.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Ei=In.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),Bf=["myholder"];let Rf=(()=>{class t{constructor(){}ngOnInit(){const n=fn,r=new Ms({},{cellNamespace:n}),o=(new Bu({el:this.myholder.nativeElement,model:r,width:600,height:100,gridSize:1,cellViewNamespace:n}),new Aa);o.position(100,30),o.resize(100,40),o.attr({body:{fill:"blue"},label:{text:"Hello",fill:"white"}}),o.addTo(r);const l=o.clone();l.translate(300,0),l.attr("label/text","World!"),l.addTo(r);const f=new su;f.source(o),f.target(l),f.addTo(r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=dn.Xpm({type:t,selectors:[["app-hello-world"]],viewQuery:function(n,r){if(1&n&&dn.Gf(Bf,7),2&n){let s;dn.iGM(s=dn.CRH())&&(r.myholder=s.first)}},decls:2,vars:0,consts:[["myholder",""]],template:function(n,r){1&n&&dn._UZ(0,"div",null,0)}}),t})();const Gf=["paper"],Ja=An,jf=[{path:"hello-world",component:Rf},{path:"uml-class-diagram",component:(()=>{class t{constructor(){}ngOnInit(){const n=new Ms,r=new Bu({el:this.paperRef.nativeElement,width:"100%",height:"100%",background:{color:"#eee"},gridSize:1,model:n}),s={".uml-class-name-rect":{fill:"#fff",stroke:"#000","stroke-width":1},".uml-class-name-text":{"font-size":"14px"},".uml-class-attrs-rect":{fill:"#fff",stroke:"#000","stroke-width":1},".uml-class-attrs-text":{"font-size":"14px"},".uml-class-methods-rect":{fill:"#fff",stroke:"#000","stroke-width":1},".uml-class-methods-text":{"font-size":"14px"}},o={cell:new Ja.Class({position:{x:r.getComputedSize().width/2-100,y:20},size:{width:200,height:150},name:["dia.Cell"],attributes:["+ id: string | number","+ graph: Graph","+ markup: string | MarkupJSON"],methods:["+ toJSON()","+ isLink(): boolean","+ isElement(): boolean","..."],attrs:s}),element:new Ja.Class({position:{x:r.getComputedSize().width/2-400,y:300},size:{width:250,height:110},name:["dia.Element"],attributes:[],methods:["+ position(): g.Point","+ resize(width: number, height: number)","+ addPort(port: Element.Port)","..."],attrs:s}),link:new Ja.Class({position:{x:r.getComputedSize().width/2+150,y:300},size:{width:280,height:160},name:["dia.Link"],attributes:["+ toolMarkup: string","+ vertexMarkup: string","+ arrowHeadMarkup: string","..."],methods:["+ source(source: Cell)","+ target(target: Cell)","+ appendLabel(label: Link.Label): Link.Label[]","..."],attrs:s})};Object.values(o).forEach(f=>n.addCell(f));const l=[new Ja.Generalization({source:{id:o.element.id},target:{id:o.cell.id}}),new Ja.Generalization({source:{id:o.link.id},target:{id:o.cell.id}})];Object.values(l).forEach(f=>n.addCell(f))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=dn.Xpm({type:t,selectors:[["app-uml-class-diagram"]],viewQuery:function(n,r){if(1&n&&dn.Gf(Gf,7),2&n){let s;dn.iGM(s=dn.CRH())&&(r.paperRef=s.first)}},decls:2,vars:0,consts:[["id","paper"],["paper",""]],template:function(n,r){1&n&&dn._UZ(0,"div",0,1)},styles:["#paper[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})()},{path:"editor",component:Ql}];let Zf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn.oAB({type:t}),t.\u0275inj=dn.cJS({imports:[C.Bz.forChild(jf),C.Bz]}),t})(),Wf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn.oAB({type:t}),t.\u0275inj=dn.cJS({imports:[qr.ez,Zf]}),t})()},66:(Qr,Br,Vt)=>{var mr,G,ue;ue="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,mr=[Vt(610),Vt(259),Br],void 0!==(G=function(Ii,Ar,qe){ue.Backbone=function(Ir,ue,Tt,Je){var Ii=Ir.Backbone,Ar=Array.prototype.slice;ue.VERSION="1.4.1",ue.$=Je,ue.noConflict=function(){return Ir.Backbone=Ii,this},ue.emulateHTTP=!1,ue.emulateJSON=!1;var xn,qe=ue.Events={},Sr=/\s+/,Xn=function(N,T,O,Q,yt){var Yt,wt=0;if(O&&"object"==typeof O)for((void 0!==Q&&"context"in yt&&void 0===yt.context&&(yt.context=Q),Yt=Tt.keys(O));wt<Yt.length;wt++)T=Xn(N,T,Yt[wt],O[Yt[wt]],yt);else if(O&&Sr.test(O))for(Yt=O.split(Sr);wt<Yt.length;wt++)T=N(T,Yt[wt],Q,yt);else T=N(T,O,Q,yt);return T};qe.on=function(N,T,O){return this._events=Xn(Tr,this._events||{},N,T,{context:O,ctx:this,listening:xn}),xn&&((this._listeners||(this._listeners={}))[xn.id]=xn,xn.interop=!1),this},qe.listenTo=function(N,T,O){if(!N)return this;var Q=N._listenId||(N._listenId=Tt.uniqueId("l")),yt=this._listeningTo||(this._listeningTo={}),wt=xn=yt[Q];wt||(this._listenId||(this._listenId=Tt.uniqueId("l")),wt=xn=yt[Q]=new _e(this,N));var Yt=Kr(N,T,O,this);if(xn=void 0,Yt)throw Yt;return wt.interop&&wt.on(T,O),this};var Tr=function(N,T,O,Q){if(O){var yt=N[T]||(N[T]=[]),wt=Q.context,Yt=Q.ctx,Ht=Q.listening;Ht&&Ht.count++,yt.push({callback:O,context:wt,ctx:wt||Yt,listening:Ht})}return N},Kr=function(N,T,O,Q){try{N.on(T,O,Q)}catch(yt){return yt}};qe.off=function(N,T,O){return this._events?(this._events=Xn(we,this._events,N,T,{context:O,listeners:this._listeners}),this):this},qe.stopListening=function(N,T,O){var Q=this._listeningTo;if(!Q)return this;for(var yt=N?[N._listenId]:Tt.keys(Q),wt=0;wt<yt.length;wt++){var Yt=Q[yt[wt]];if(!Yt)break;Yt.obj.off(T,O,this),Yt.interop&&Yt.off(T,O)}return Tt.isEmpty(Q)&&(this._listeningTo=void 0),this};var we=function(N,T,O,Q){if(N){var Ht,yt=Q.context,wt=Q.listeners,Yt=0;if(!T&&!yt&&!O){for(Ht=Tt.keys(wt);Yt<Ht.length;Yt++)wt[Ht[Yt]].cleanup();return}for(Ht=T?[T]:Tt.keys(N);Yt<Ht.length;Yt++){var Qe=N[T=Ht[Yt]];if(!Qe)break;for(var Ge=[],hn=0;hn<Qe.length;hn++){var Te=Qe[hn];if(O&&O!==Te.callback&&O!==Te.callback._callback||yt&&yt!==Te.context)Ge.push(Te);else{var Cn=Te.listening;Cn&&Cn.off(T,O)}}Ge.length?N[T]=Ge:delete N[T]}return N}};qe.once=function(N,T,O){var Q=Xn(Xt,{},N,T,this.off.bind(this));return"string"==typeof N&&null==O&&(T=void 0),this.on(Q,T,O)},qe.listenToOnce=function(N,T,O){var Q=Xn(Xt,{},T,O,this.stopListening.bind(this,N));return this.listenTo(N,Q)};var Xt=function(N,T,O,Q){if(O){var yt=N[T]=Tt.once(function(){Q(T,yt),O.apply(this,arguments)});yt._callback=O}return N};qe.trigger=function(N){if(!this._events)return this;for(var T=Math.max(0,arguments.length-1),O=Array(T),Q=0;Q<T;Q++)O[Q]=arguments[Q+1];return Xn(_n,this._events,N,void 0,O),this};var _n=function(N,T,O,Q){if(N){var yt=N[T],wt=N.all;yt&&wt&&(wt=wt.slice()),yt&&me(yt,Q),wt&&me(wt,[T].concat(Q))}return N},me=function(N,T){var O,Q=-1,yt=N.length,wt=T[0],Yt=T[1],Ht=T[2];switch(T.length){case 0:for(;++Q<yt;)(O=N[Q]).callback.call(O.ctx);return;case 1:for(;++Q<yt;)(O=N[Q]).callback.call(O.ctx,wt);return;case 2:for(;++Q<yt;)(O=N[Q]).callback.call(O.ctx,wt,Yt);return;case 3:for(;++Q<yt;)(O=N[Q]).callback.call(O.ctx,wt,Yt,Ht);return;default:for(;++Q<yt;)(O=N[Q]).callback.apply(O.ctx,T);return}},_e=function(N,T){this.id=N._listenId,this.listener=N,this.obj=T,this.interop=!0,this.count=0,this._events=void 0};_e.prototype.on=qe.on,_e.prototype.off=function(N,T){var O;this.interop?(this._events=Xn(we,this._events,N,T,{context:void 0,listeners:void 0}),O=!this._events):(this.count--,O=0===this.count),O&&this.cleanup()},_e.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},qe.bind=qe.on,qe.unbind=qe.off,Tt.extend(ue,qe);var An=ue.Model=function(N,T){var O=N||{};T||(T={}),this.preinitialize.apply(this,arguments),this.cid=Tt.uniqueId(this.cidPrefix),this.attributes={},T.collection&&(this.collection=T.collection),T.parse&&(O=this.parse(O,T)||{});var Q=Tt.result(this,"defaults");O=Tt.defaults(Tt.extend({},Q,O),Q),this.set(O,T),this.changed={},this.initialize.apply(this,arguments)};Tt.extend(An.prototype,qe,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return Tt.clone(this.attributes)},sync:function(){return ue.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return Tt.escape(this.get(N))},has:function(N){return null!=this.get(N)},matches:function(N){return!!Tt.iteratee(N,this)(this.attributes)},set:function(N,T,O){if(null==N)return this;var Q;if("object"==typeof N?(Q=N,O=T):(Q={})[N]=T,O||(O={}),!this._validate(Q,O))return!1;var yt=O.unset,wt=O.silent,Yt=[],Ht=this._changing;this._changing=!0,Ht||(this._previousAttributes=Tt.clone(this.attributes),this.changed={});var Qe=this.attributes,Ge=this.changed,hn=this._previousAttributes;for(var Te in Q)Tt.isEqual(Qe[Te],T=Q[Te])||Yt.push(Te),Tt.isEqual(hn[Te],T)?delete Ge[Te]:Ge[Te]=T,yt?delete Qe[Te]:Qe[Te]=T;if(this.idAttribute in Q){var Cn=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Cn,O)}if(!wt){Yt.length&&(this._pending=O);for(var Jn=0;Jn<Yt.length;Jn++)this.trigger("change:"+Yt[Jn],this,Qe[Yt[Jn]],O)}if(Ht)return this;if(!wt)for(;this._pending;)O=this._pending,this._pending=!1,this.trigger("change",this,O);return this._pending=!1,this._changing=!1,this},unset:function(N,T){return this.set(N,void 0,Tt.extend({},T,{unset:!0}))},clear:function(N){var T={};for(var O in this.attributes)T[O]=void 0;return this.set(T,Tt.extend({},N,{unset:!0}))},hasChanged:function(N){return null==N?!Tt.isEmpty(this.changed):Tt.has(this.changed,N)},changedAttributes:function(N){if(!N)return!!this.hasChanged()&&Tt.clone(this.changed);var Q,T=this._changing?this._previousAttributes:this.attributes,O={};for(var yt in N){var wt=N[yt];Tt.isEqual(T[yt],wt)||(O[yt]=wt,Q=!0)}return!!Q&&O},previous:function(N){return null!=N&&this._previousAttributes?this._previousAttributes[N]:null},previousAttributes:function(){return Tt.clone(this._previousAttributes)},fetch:function(N){N=Tt.extend({parse:!0},N);var T=this,O=N.success;return N.success=function(Q){var yt=N.parse?T.parse(Q,N):Q;if(!T.set(yt,N))return!1;O&&O.call(N.context,T,Q,N),T.trigger("sync",T,Q,N)},Re(this,N),this.sync("read",this,N)},save:function(N,T,O){var Q;null==N||"object"==typeof N?(Q=N,O=T):(Q={})[N]=T;var yt=(O=Tt.extend({validate:!0,parse:!0},O)).wait;if(Q&&!yt){if(!this.set(Q,O))return!1}else if(!this._validate(Q,O))return!1;var wt=this,Yt=O.success,Ht=this.attributes;O.success=function(hn){wt.attributes=Ht;var Te=O.parse?wt.parse(hn,O):hn;if(yt&&(Te=Tt.extend({},Q,Te)),Te&&!wt.set(Te,O))return!1;Yt&&Yt.call(O.context,wt,hn,O),wt.trigger("sync",wt,hn,O)},Re(this,O),Q&&yt&&(this.attributes=Tt.extend({},Ht,Q));var Qe=this.isNew()?"create":O.patch?"patch":"update";"patch"===Qe&&!O.attrs&&(O.attrs=Q);var Ge=this.sync(Qe,this,O);return this.attributes=Ht,Ge},destroy:function(N){N=N?Tt.clone(N):{};var T=this,O=N.success,Q=N.wait,yt=function(){T.stopListening(),T.trigger("destroy",T,T.collection,N)};N.success=function(Yt){Q&&yt(),O&&O.call(N.context,T,Yt,N),T.isNew()||T.trigger("sync",T,Yt,N)};var wt=!1;return this.isNew()?Tt.defer(N.success):(Re(this,N),wt=this.sync("delete",this,N)),Q||yt(),wt},url:function(){var N=Tt.result(this,"urlRoot")||Tt.result(this.collection,"url")||Y();if(this.isNew())return N;var T=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(T)},parse:function(N,T){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},Tt.extend({},N,{validate:!0}))},_validate:function(N,T){if(!T.validate||!this.validate)return!0;N=Tt.extend({},this.attributes,N);var O=this.validationError=this.validate(N,T)||null;return!O||(this.trigger("invalid",this,O,Tt.extend(T,{validationError:O})),!1)}});var fn=ue.Collection=function(N,T){T||(T={}),this.preinitialize.apply(this,arguments),T.model&&(this.model=T.model),void 0!==T.comparator&&(this.comparator=T.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,Tt.extend({silent:!0},T))},qr={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},Dr=function(N,T,O){O=Math.min(Math.max(O,0),N.length);var wt,Q=Array(N.length-O),yt=T.length;for(wt=0;wt<Q.length;wt++)Q[wt]=N[wt+O];for(wt=0;wt<yt;wt++)N[wt+O]=T[wt];for(wt=0;wt<Q.length;wt++)N[wt+yt+O]=Q[wt]};Tt.extend(fn.prototype,qe,{model:An,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(T){return T.toJSON(N)})},sync:function(){return ue.sync.apply(this,arguments)},add:function(N,T){return this.set(N,Tt.extend({merge:!1},T,C))},remove:function(N,T){T=Tt.extend({},T);var O=!Tt.isArray(N);N=O?[N]:N.slice();var Q=this._removeModels(N,T);return!T.silent&&Q.length&&(T.changes={added:[],merged:[],removed:Q},this.trigger("update",this,T)),O?Q[0]:Q},set:function(N,T){if(null!=N){(T=Tt.extend({},qr,T)).parse&&!this._isModel(N)&&(N=this.parse(N,T)||[]);var O=!Tt.isArray(N);N=O?[N]:N.slice();var Q=T.at;null!=Q&&(Q=+Q),Q>this.length&&(Q=this.length),Q<0&&(Q+=this.length+1);var gn,Pt,yt=[],wt=[],Yt=[],Ht=[],Qe={},Ge=T.add,hn=T.merge,Te=T.remove,Cn=!1,Jn=this.comparator&&null==Q&&!1!==T.sort,ei=Tt.isString(this.comparator)?this.comparator:null;for(Pt=0;Pt<N.length;Pt++){var On=this.get(gn=N[Pt]);if(On){if(hn&&gn!==On){var Pr=this._isModel(gn)?gn.attributes:gn;T.parse&&(Pr=On.parse(Pr,T)),On.set(Pr,T),Yt.push(On),Jn&&!Cn&&(Cn=On.hasChanged(ei))}Qe[On.cid]||(Qe[On.cid]=!0,yt.push(On)),N[Pt]=On}else Ge&&(gn=N[Pt]=this._prepareModel(gn,T))&&(wt.push(gn),this._addReference(gn,T),Qe[gn.cid]=!0,yt.push(gn))}if(Te){for(Pt=0;Pt<this.length;Pt++)Qe[(gn=this.models[Pt]).cid]||Ht.push(gn);Ht.length&&this._removeModels(Ht,T)}var Ai=!1;if(yt.length&&!Jn&&Ge&&Te?(Ai=this.length!==yt.length||Tt.some(this.models,function(Ie,Mn){return Ie!==yt[Mn]}),this.models.length=0,Dr(this.models,yt,0),this.length=this.models.length):wt.length&&(Jn&&(Cn=!0),Dr(this.models,wt,Q??this.length),this.length=this.models.length),Cn&&this.sort({silent:!0}),!T.silent){for(Pt=0;Pt<wt.length;Pt++)null!=Q&&(T.index=Q+Pt),(gn=wt[Pt]).trigger("add",gn,this,T);(Cn||Ai)&&this.trigger("sort",this,T),(wt.length||Ht.length||Yt.length)&&(T.changes={added:wt,removed:Ht,merged:Yt},this.trigger("update",this,T))}return O?N[0]:N}},reset:function(N,T){T=T?Tt.clone(T):{};for(var O=0;O<this.models.length;O++)this._removeReference(this.models[O],T);return T.previousModels=this.models,this._reset(),N=this.add(N,Tt.extend({silent:!0},T)),T.silent||this.trigger("reset",this,T),N},push:function(N,T){return this.add(N,Tt.extend({at:this.length},T))},pop:function(N){var T=this.at(this.length-1);return this.remove(T,N)},unshift:function(N,T){return this.add(N,Tt.extend({at:0},T))},shift:function(N){var T=this.at(0);return this.remove(T,N)},slice:function(){return Ar.apply(this.models,arguments)},get:function(N){if(null!=N)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N,N.idAttribute)]||N.cid&&this._byId[N.cid]},has:function(N){return null!=this.get(N)},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,T){return this[T?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var T=this.comparator;if(!T)throw new Error("Cannot sort a set without a comparator");N||(N={});var O=T.length;return Tt.isFunction(T)&&(T=T.bind(this)),1===O||Tt.isString(T)?this.models=this.sortBy(T):this.models.sort(T),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){var T=(N=Tt.extend({parse:!0},N)).success,O=this;return N.success=function(Q){O[N.reset?"reset":"set"](Q,N),T&&T.call(N.context,O,Q,N),O.trigger("sync",O,Q,N)},Re(this,N),this.sync("read",this,N)},create:function(N,T){var O=(T=T?Tt.clone(T):{}).wait;if(!(N=this._prepareModel(N,T)))return!1;O||this.add(N,T);var Q=this,yt=T.success;return T.success=function(wt,Yt,Ht){O&&Q.add(wt,Ht),yt&&yt.call(Ht.context,wt,Yt,Ht)},N.save(null,T),N},parse:function(N,T){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N,T){return N[T||this.model.prototype.idAttribute||"id"]},values:function(){return new Cr(this,gs)},keys:function(){return new Cr(this,cr)},entries:function(){return new Cr(this,Nn)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,T){return this._isModel(N)?(N.collection||(N.collection=this),N):((T=T?Tt.clone(T):{}).collection=this,(O=this.model.prototype?new this.model(N,T):this.model(N,T)).validationError?(this.trigger("invalid",this,O.validationError,T),!1):O);var O},_removeModels:function(N,T){for(var O=[],Q=0;Q<N.length;Q++){var yt=this.get(N[Q]);if(yt){var wt=this.indexOf(yt);this.models.splice(wt,1),this.length--,delete this._byId[yt.cid];var Yt=this.modelId(yt.attributes,yt.idAttribute);null!=Yt&&delete this._byId[Yt],T.silent||(T.index=wt,yt.trigger("remove",yt,this,T)),O.push(yt),this._removeReference(yt,T)}}return O},_isModel:function(N){return N instanceof An},_addReference:function(N,T){this._byId[N.cid]=N;var O=this.modelId(N.attributes,N.idAttribute);null!=O&&(this._byId[O]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,T){delete this._byId[N.cid];var O=this.modelId(N.attributes,N.idAttribute);null!=O&&delete this._byId[O],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,T,O,Q){if(T){if(("add"===N||"remove"===N)&&O!==this)return;if("destroy"===N&&this.remove(T,Q),"changeId"===N){var yt=this.modelId(T.previousAttributes(),T.idAttribute),wt=this.modelId(T.attributes,T.idAttribute);null!=yt&&delete this._byId[yt],null!=wt&&(this._byId[wt]=T)}}this.trigger.apply(this,arguments)}});var er="function"==typeof Symbol&&Symbol.iterator;er&&(fn.prototype[er]=fn.prototype.values);var Cr=function(N,T){this._collection=N,this._kind=T,this._index=0},gs=1,cr=2,Nn=3;er&&(Cr.prototype[er]=function(){return this}),Cr.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var T,N=this._collection.at(this._index);if(this._index++,this._kind===gs)T=N;else{var O=this._collection.modelId(N.attributes,N.idAttribute);T=this._kind===cr?O:[O,N]}return{value:T,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var $r=ue.View=function(N){this.cid=Tt.uniqueId("view"),this.preinitialize.apply(this,arguments),Tt.extend(this,Tt.pick(N,$i)),this._ensureElement(),this.initialize.apply(this,arguments)},kn=/^(\S+)\s*(.*)$/,$i=["model","collection","el","id","attributes","className","tagName","events"];Tt.extend($r.prototype,qe,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof ue.$?N:ue.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=Tt.result(this,"events")),!N)return this;for(var T in this.undelegateEvents(),N){var O=N[T];if(Tt.isFunction(O)||(O=this[O]),O){var Q=T.match(kn);this.delegate(Q[1],Q[2],O.bind(this))}}return this},delegate:function(N,T,O){return this.$el.on(N+".delegateEvents"+this.cid,T,O),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,T,O){return this.$el.off(N+".delegateEvents"+this.cid,T,O),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(Tt.result(this,"el"));else{var N=Tt.extend({},Tt.result(this,"attributes"));this.id&&(N.id=Tt.result(this,"id")),this.className&&(N.class=Tt.result(this,"className")),this.setElement(this._createElement(Tt.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var fr=function(N,T,O,Q){Tt.each(O,function(yt,wt){T[wt]&&(N.prototype[wt]=function(N,T,O,Q){switch(T){case 1:return function(){return N[O](this[Q])};case 2:return function(yt){return N[O](this[Q],yt)};case 3:return function(yt,wt){return N[O](this[Q],ds(yt,this),wt)};case 4:return function(yt,wt,Yt){return N[O](this[Q],ds(yt,this),wt,Yt)};default:return function(){var yt=Ar.call(arguments);return yt.unshift(this[Q]),N[O].apply(N,yt)}}}(T,yt,wt,Q))})},ds=function(N,T){return Tt.isFunction(N)?N:Tt.isObject(N)&&!T._isModel(N)?ui(N):Tt.isString(N)?function(O){return O.get(N)}:N},ui=function(N){var T=Tt.matches(N);return function(O){return T(O.attributes)}};Tt.each([[fn,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[An,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(N){var T=N[0],O=N[1],Q=N[2];T.mixin=function(yt){var wt=Tt.reduce(Tt.functions(yt),function(Yt,Ht){return Yt[Ht]=0,Yt},{});fr(T,yt,wt,Q)},fr(T,Tt,O,Q)}),ue.sync=function(N,T,O){var Q=ae[N];Tt.defaults(O||(O={}),{emulateHTTP:ue.emulateHTTP,emulateJSON:ue.emulateJSON});var yt={type:Q,dataType:"json"};if(O.url||(yt.url=Tt.result(T,"url")||Y()),null==O.data&&T&&("create"===N||"update"===N||"patch"===N)&&(yt.contentType="application/json",yt.data=JSON.stringify(O.attrs||T.toJSON(O))),O.emulateJSON&&(yt.contentType="application/x-www-form-urlencoded",yt.data=yt.data?{model:yt.data}:{}),O.emulateHTTP&&("PUT"===Q||"DELETE"===Q||"PATCH"===Q)){yt.type="POST",O.emulateJSON&&(yt.data._method=Q);var wt=O.beforeSend;O.beforeSend=function(Qe){if(Qe.setRequestHeader("X-HTTP-Method-Override",Q),wt)return wt.apply(this,arguments)}}"GET"!==yt.type&&!O.emulateJSON&&(yt.processData=!1);var Yt=O.error;O.error=function(Qe,Ge,hn){O.textStatus=Ge,O.errorThrown=hn,Yt&&Yt.call(O.context,Qe,Ge,hn)};var Ht=O.xhr=ue.ajax(Tt.extend(yt,O));return T.trigger("request",T,Ht,O),Ht};var ae={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};ue.ajax=function(){return ue.$.ajax.apply(ue.$,arguments)};var En=ue.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},rr=/\((.*?)\)/g,Rr=/(\(\?)?:\w+/g,ps=/\*\w+/g,Gr=/[\-{}\[\]+?.,\\\^$|#\s]/g;Tt.extend(En.prototype,qe,{preinitialize:function(){},initialize:function(){},route:function(N,T,O){Tt.isRegExp(N)||(N=this._routeToRegExp(N)),Tt.isFunction(T)&&(O=T,T=""),O||(O=this[T]);var Q=this;return ue.history.route(N,function(yt){var wt=Q._extractParameters(N,yt);!1!==Q.execute(O,wt,T)&&(Q.trigger.apply(Q,["route:"+T].concat(wt)),Q.trigger("route",T,wt),ue.history.trigger("route",Q,T,wt))}),this},execute:function(N,T,O){N&&N.apply(this,T)},navigate:function(N,T){return ue.history.navigate(N,T),this},_bindRoutes:function(){if(this.routes){this.routes=Tt.result(this,"routes");for(var N,T=Tt.keys(this.routes);null!=(N=T.pop());)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(Gr,"\\$&").replace(rr,"(?:$1)?").replace(Rr,function(T,O){return O?T:"([^/?]+)"}).replace(ps,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,T){var O=N.exec(T).slice(1);return Tt.map(O,function(Q,yt){return yt===O.length-1?Q||null:Q?decodeURIComponent(Q):null})}});var zn=ue.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Lr=/^[#\/]|\s+$/g,ti=/^\/+|\/+$/g,ts=/#.*$/;zn.started=!1,Tt.extend(zn.prototype,qe,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var T=(N||this).location.href.match(/#(.*)$/);return T?T[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===N.charAt(0)?N.slice(1):N},getFragment:function(N){return null==N&&(N=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),N.replace(Lr,"")},start:function(N){if(zn.started)throw new Error("Backbone.history has already been started");if(zn.started=!0,this.options=Tt.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ti,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var T=this.root.slice(0,-1)||"/";return this.location.replace(T+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var O=document.body,Q=O.insertBefore(this.iframe,O.firstChild).contentWindow;Q.document.open(),Q.document.close(),Q.location.hash="#"+this.fragment}var yt=window.addEventListener||function(wt,Yt){return attachEvent("on"+wt,Yt)};if(this._usePushState?yt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?yt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(T,O){return detachEvent("on"+T,O)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),zn.started=!1},route:function(N,T){this.handlers.unshift({route:N,callback:T})},checkUrl:function(N){var T=this.getFragment();if(T===this.fragment&&this.iframe&&(T=this.getHash(this.iframe.contentWindow)),T===this.fragment)return!1;this.iframe&&this.navigate(T),this.loadUrl()},loadUrl:function(N){return!!this.matchRoot()&&(N=this.fragment=this.getFragment(N),Tt.some(this.handlers,function(T){if(T.route.test(N))return T.callback(N),!0}))},navigate:function(N,T){if(!zn.started)return!1;(!T||!0===T)&&(T={trigger:!!T}),N=this.getFragment(N||"");var O=this.root;(""===N||"?"===N.charAt(0))&&(O=O.slice(0,-1)||"/");var Q=O+N;N=N.replace(ts,"");var yt=this.decodeFragment(N);if(this.fragment!==yt){if(this.fragment=yt,this._usePushState)this.history[T.replace?"replaceState":"pushState"]({},document.title,Q);else{if(!this._wantsHashChange)return this.location.assign(Q);if(this._updateHash(this.location,N,T.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var wt=this.iframe.contentWindow;T.replace||(wt.document.open(),wt.document.close()),this._updateHash(wt.location,N,T.replace)}}if(T.trigger)return this.loadUrl(N)}},_updateHash:function(N,T,O){if(O){var Q=N.href.replace(/(javascript:|#).*$/,"");N.replace(Q+"#"+T)}else N.hash="#"+T}}),ue.history=new zn;An.extend=fn.extend=En.extend=$r.extend=zn.extend=function(N,T){var Q,O=this;return Q=N&&Tt.has(N,"constructor")?N.constructor:function(){return O.apply(this,arguments)},Tt.extend(Q,O,T),Q.prototype=Tt.create(O.prototype,N),Q.prototype.constructor=Q,Q.__super__=O.prototype,Q};var Y=function(){throw new Error('A "url" property or function must be specified')},Re=function(N,T){var O=T.error;T.error=function(Q){O&&O.call(T.context,N,Q,T),N.trigger("error",N,Q,T)}};return ue}(ue,qe,Ii,Ar)}.apply(Br,mr))&&(Qr.exports=G)},259:function(Qr,Br){var mr;!function(G,Ir){"use strict";"object"==typeof Qr.exports?Qr.exports=G.document?Ir(G,!0):function(ue){if(!ue.document)throw new Error("jQuery requires a window with a document");return Ir(ue)}:Ir(G)}(typeof window<"u"?window:this,function(G,Ir){"use strict";var ue=[],Tt=Object.getPrototypeOf,Je=ue.slice,Ii=ue.flat?function(u){return ue.flat.call(u)}:function(u){return ue.concat.apply([],u)},Ar=ue.push,qe=ue.indexOf,Sr={},xn=Sr.toString,Xn=Sr.hasOwnProperty,Tr=Xn.toString,Kr=Tr.call(Object),we={},Xt=function(c){return"function"==typeof c&&"number"!=typeof c.nodeType&&"function"!=typeof c.item},_n=function(c){return null!=c&&c===c.window},me=G.document,_e={type:!0,src:!0,nonce:!0,noModule:!0};function An(u,c,d){var v,b,w=(d=d||me).createElement("script");if(w.text=u,c)for(v in _e)(b=c[v]||c.getAttribute&&c.getAttribute(v))&&w.setAttribute(v,b);d.head.appendChild(w).parentNode.removeChild(w)}function fn(u){return null==u?u+"":"object"==typeof u||"function"==typeof u?Sr[xn.call(u)]||"object":typeof u}var C=function(u,c){return new C.fn.init(u,c)};function Dr(u){var c=!!u&&"length"in u&&u.length,d=fn(u);return!Xt(u)&&!_n(u)&&("array"===d||0===c||"number"==typeof c&&c>0&&c-1 in u)}C.fn=C.prototype={jquery:"3.6.0",constructor:C,length:0,toArray:function(){return Je.call(this)},get:function(u){return null==u?Je.call(this):u<0?this[u+this.length]:this[u]},pushStack:function(u){var c=C.merge(this.constructor(),u);return c.prevObject=this,c},each:function(u){return C.each(this,u)},map:function(u){return this.pushStack(C.map(this,function(c,d){return u.call(c,d,c)}))},slice:function(){return this.pushStack(Je.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(u,c){return(c+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(u,c){return c%2}))},eq:function(u){var c=this.length,d=+u+(u<0?c:0);return this.pushStack(d>=0&&d<c?[this[d]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ar,sort:ue.sort,splice:ue.splice},C.extend=C.fn.extend=function(){var u,c,d,v,b,w,D=arguments[0]||{},U=1,W=arguments.length,it=!1;for("boolean"==typeof D&&(it=D,D=arguments[U]||{},U++),"object"!=typeof D&&!Xt(D)&&(D={}),U===W&&(D=this,U--);U<W;U++)if(null!=(u=arguments[U]))for(c in u)v=u[c],"__proto__"!==c&&D!==v&&(it&&v&&(C.isPlainObject(v)||(b=Array.isArray(v)))?(d=D[c],w=b&&!Array.isArray(d)?[]:b||C.isPlainObject(d)?d:{},b=!1,D[c]=C.extend(it,w,v)):void 0!==v&&(D[c]=v));return D},C.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isPlainObject:function(u){var c,d;return!(!u||"[object Object]"!==xn.call(u)||(c=Tt(u))&&("function"!=typeof(d=Xn.call(c,"constructor")&&c.constructor)||Tr.call(d)!==Kr))},isEmptyObject:function(u){var c;for(c in u)return!1;return!0},globalEval:function(u,c,d){An(u,{nonce:c&&c.nonce},d)},each:function(u,c){var d,v=0;if(Dr(u))for(d=u.length;v<d&&!1!==c.call(u[v],v,u[v]);v++);else for(v in u)if(!1===c.call(u[v],v,u[v]))break;return u},makeArray:function(u,c){var d=c||[];return null!=u&&(Dr(Object(u))?C.merge(d,"string"==typeof u?[u]:u):Ar.call(d,u)),d},inArray:function(u,c,d){return null==c?-1:qe.call(c,u,d)},merge:function(u,c){for(var d=+c.length,v=0,b=u.length;v<d;v++)u[b++]=c[v];return u.length=b,u},grep:function(u,c,d){for(var b=[],w=0,D=u.length,U=!d;w<D;w++)!c(u[w],w)!==U&&b.push(u[w]);return b},map:function(u,c,d){var v,b,w=0,D=[];if(Dr(u))for(v=u.length;w<v;w++)null!=(b=c(u[w],w,d))&&D.push(b);else for(w in u)null!=(b=c(u[w],w,d))&&D.push(b);return Ii(D)},guid:1,support:we}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=ue[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(u,c){Sr["[object "+c+"]"]=c.toLowerCase()});var er=function(u){var c,d,v,b,w,D,U,W,it,gt,xt,ot,mt,Gt,Zt,Ot,Ft,Tn,yr,le="sizzle"+1*new Date,ne=u.document,Kn=0,ze=0,bn=Fr(),Ns=Fr(),Yr=Fr(),Ve=Fr(),wr=function(E,F){return E===F&&(xt=!0),0},Ni={}.hasOwnProperty,qn=[],Un=qn.pop,Ur=qn.push,Vi=qn.push,Gn=qn.slice,Xi=function(E,F){for(var et=0,At=E.length;et<At;et++)if(E[et]===F)return et;return-1},ln="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ae="[\\x20\\t\\r\\n\\f]",vn="(?:\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",va="\\["+Ae+"*("+vn+")(?:"+Ae+"*([*^$|!~]?=)"+Ae+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vn+"))|)"+Ae+"*\\]",Ra=":("+vn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+va+")*)|.*)\\)|)",Mi=new RegExp(Ae+"+","g"),gr=new RegExp("^"+Ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ae+"+$","g"),Ga=new RegExp("^"+Ae+"*,"+Ae+"*"),Us=new RegExp("^"+Ae+"*([>+~]|"+Ae+")"+Ae+"*"),to=new RegExp(Ae+"|>"),eo=new RegExp(Ra),eu=new RegExp("^"+vn+"$"),ja={ID:new RegExp("^#("+vn+")"),CLASS:new RegExp("^\\.("+vn+")"),TAG:new RegExp("^("+vn+"|[*])"),ATTR:new RegExp("^"+va),PSEUDO:new RegExp("^"+Ra),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ae+"*(even|odd|(([+-]|)(\\d*)n|)"+Ae+"*(?:([+-]|)"+Ae+"*(\\d+)|))"+Ae+"*\\)|)","i"),bool:new RegExp("^(?:"+ln+")$","i"),needsContext:new RegExp("^"+Ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ae+"*((?:-\\d)?\\d*)"+Ae+"*\\)|)(?=[^-]|$)","i")},no=/HTML$/i,No=/^(?:input|select|textarea|button)$/i,Mo=/^h\d$/i,ii=/^[^{]+\{\s*\[native \w/,as=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fs=/[+~]/,si=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\([^\\r\\n\\f])","g"),gi=function(E,F){var et="0x"+E.slice(1)-65536;return F||(et<0?String.fromCharCode(et+65536):String.fromCharCode(et>>10|55296,1023&et|56320))},Si=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Vs=function(E,F){return F?"\0"===E?"\ufffd":E.slice(0,-1)+"\\"+E.charCodeAt(E.length-1).toString(16)+" ":"\\"+E},ma=function(){ot()},So=_t(function(E){return!0===E.disabled&&"fieldset"===E.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Vi.apply(qn=Gn.call(ne.childNodes),ne.childNodes)}catch{Vi={apply:qn.length?function(F,et){Ur.apply(F,Gn.call(et))}:function(F,et){for(var At=F.length,at=0;F[At++]=et[at++];);F.length=At-1}}}function Ye(E,F,et,At){var at,bt,It,Et,Bt,qt,te,ce=F&&F.ownerDocument,Me=F?F.nodeType:9;if(et=et||[],"string"!=typeof E||!E||1!==Me&&9!==Me&&11!==Me)return et;if(!At&&(ot(F),F=F||mt,Zt)){if(11!==Me&&(Bt=as.exec(E)))if(at=Bt[1]){if(9===Me){if(!(It=F.getElementById(at)))return et;if(It.id===at)return et.push(It),et}else if(ce&&(It=ce.getElementById(at))&&yr(F,It)&&It.id===at)return et.push(It),et}else{if(Bt[2])return Vi.apply(et,F.getElementsByTagName(E)),et;if((at=Bt[3])&&d.getElementsByClassName&&F.getElementsByClassName)return Vi.apply(et,F.getElementsByClassName(at)),et}if(d.qsa&&!Ve[E+" "]&&(!Ot||!Ot.test(E))&&(1!==Me||"object"!==F.nodeName.toLowerCase())){if(te=E,ce=F,1===Me&&(to.test(E)||Us.test(E))){for(((ce=Fs.test(E)&&rt(F.parentNode)||F)!==F||!d.scope)&&((Et=F.getAttribute("id"))?Et=Et.replace(Si,Vs):F.setAttribute("id",Et=le)),bt=(qt=D(E)).length;bt--;)qt[bt]=(Et?"#"+Et:":scope")+" "+dt(qt[bt]);te=qt.join(",")}try{return Vi.apply(et,ce.querySelectorAll(te)),et}catch{Ve(E,!0)}finally{Et===le&&F.removeAttribute("id")}}}return W(E.replace(gr,"$1"),F,et,At)}function Fr(){var E=[];return function F(et,At){return E.push(et+" ")>v.cacheLength&&delete F[E.shift()],F[et+" "]=At}}function Sn(E){return E[le]=!0,E}function Vr(E){var F=mt.createElement("fieldset");try{return!!E(F)}catch{return!1}finally{F.parentNode&&F.parentNode.removeChild(F),F=null}}function ye(E,F){for(var et=E.split("|"),At=et.length;At--;)v.attrHandle[et[At]]=F}function ro(E,F){var et=F&&E,At=et&&1===E.nodeType&&1===F.nodeType&&E.sourceIndex-F.sourceIndex;if(At)return At;if(et)for(;et=et.nextSibling;)if(et===F)return-1;return E?1:-1}function Ti(E){return function(F){return"input"===F.nodeName.toLowerCase()&&F.type===E}}function To(E){return function(F){var et=F.nodeName.toLowerCase();return("input"===et||"button"===et)&&F.type===E}}function Xs(E){return function(F){return"form"in F?F.parentNode&&!1===F.disabled?"label"in F?"label"in F.parentNode?F.parentNode.disabled===E:F.disabled===E:F.isDisabled===E||F.isDisabled!==!E&&So(F)===E:F.disabled===E:"label"in F&&F.disabled===E}}function di(E){return Sn(function(F){return F=+F,Sn(function(et,At){for(var at,bt=E([],et.length,F),It=bt.length;It--;)et[at=bt[It]]&&(et[at]=!(At[at]=et[at]))})})}function rt(E){return E&&typeof E.getElementsByTagName<"u"&&E}for(c in d=Ye.support={},w=Ye.isXML=function(E){var et=E&&(E.ownerDocument||E).documentElement;return!no.test(E&&E.namespaceURI||et&&et.nodeName||"HTML")},ot=Ye.setDocument=function(E){var F,et,At=E?E.ownerDocument||E:ne;return At==mt||9!==At.nodeType||!At.documentElement||(Gt=(mt=At).documentElement,Zt=!w(mt),ne!=mt&&(et=mt.defaultView)&&et.top!==et&&(et.addEventListener?et.addEventListener("unload",ma,!1):et.attachEvent&&et.attachEvent("onunload",ma)),d.scope=Vr(function(at){return Gt.appendChild(at).appendChild(mt.createElement("div")),typeof at.querySelectorAll<"u"&&!at.querySelectorAll(":scope fieldset div").length}),d.attributes=Vr(function(at){return at.className="i",!at.getAttribute("className")}),d.getElementsByTagName=Vr(function(at){return at.appendChild(mt.createComment("")),!at.getElementsByTagName("*").length}),d.getElementsByClassName=ii.test(mt.getElementsByClassName),d.getById=Vr(function(at){return Gt.appendChild(at).id=le,!mt.getElementsByName||!mt.getElementsByName(le).length}),d.getById?(v.filter.ID=function(at){var bt=at.replace(si,gi);return function(It){return It.getAttribute("id")===bt}},v.find.ID=function(at,bt){if(typeof bt.getElementById<"u"&&Zt){var It=bt.getElementById(at);return It?[It]:[]}}):(v.filter.ID=function(at){var bt=at.replace(si,gi);return function(It){var Et=typeof It.getAttributeNode<"u"&&It.getAttributeNode("id");return Et&&Et.value===bt}},v.find.ID=function(at,bt){if(typeof bt.getElementById<"u"&&Zt){var It,Et,Bt,qt=bt.getElementById(at);if(qt){if((It=qt.getAttributeNode("id"))&&It.value===at)return[qt];for(Bt=bt.getElementsByName(at),Et=0;qt=Bt[Et++];)if((It=qt.getAttributeNode("id"))&&It.value===at)return[qt]}return[]}}),v.find.TAG=d.getElementsByTagName?function(at,bt){return typeof bt.getElementsByTagName<"u"?bt.getElementsByTagName(at):d.qsa?bt.querySelectorAll(at):void 0}:function(at,bt){var It,Et=[],Bt=0,qt=bt.getElementsByTagName(at);if("*"===at){for(;It=qt[Bt++];)1===It.nodeType&&Et.push(It);return Et}return qt},v.find.CLASS=d.getElementsByClassName&&function(at,bt){if(typeof bt.getElementsByClassName<"u"&&Zt)return bt.getElementsByClassName(at)},Ft=[],Ot=[],(d.qsa=ii.test(mt.querySelectorAll))&&(Vr(function(at){var bt;Gt.appendChild(at).innerHTML="<a id='"+le+"'></a><select id='"+le+"-\r\\' msallowcapture=''><option selected=''></option></select>",at.querySelectorAll("[msallowcapture^='']").length&&Ot.push("[*^$]="+Ae+"*(?:''|\"\")"),at.querySelectorAll("[selected]").length||Ot.push("\\["+Ae+"*(?:value|"+ln+")"),at.querySelectorAll("[id~="+le+"-]").length||Ot.push("~="),(bt=mt.createElement("input")).setAttribute("name",""),at.appendChild(bt),at.querySelectorAll("[name='']").length||Ot.push("\\["+Ae+"*name"+Ae+"*="+Ae+"*(?:''|\"\")"),at.querySelectorAll(":checked").length||Ot.push(":checked"),at.querySelectorAll("a#"+le+"+*").length||Ot.push(".#.+[+~]"),at.querySelectorAll("\\\f"),Ot.push("[\\r\\n\\f]")}),Vr(function(at){at.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var bt=mt.createElement("input");bt.setAttribute("type","hidden"),at.appendChild(bt).setAttribute("name","D"),at.querySelectorAll("[name=d]").length&&Ot.push("name"+Ae+"*[*^$|!~]?="),2!==at.querySelectorAll(":enabled").length&&Ot.push(":enabled",":disabled"),Gt.appendChild(at).disabled=!0,2!==at.querySelectorAll(":disabled").length&&Ot.push(":enabled",":disabled"),at.querySelectorAll("*,:x"),Ot.push(",.*:")})),(d.matchesSelector=ii.test(Tn=Gt.matches||Gt.webkitMatchesSelector||Gt.mozMatchesSelector||Gt.oMatchesSelector||Gt.msMatchesSelector))&&Vr(function(at){d.disconnectedMatch=Tn.call(at,"*"),Tn.call(at,"[s!='']:x"),Ft.push("!=",Ra)}),Ot=Ot.length&&new RegExp(Ot.join("|")),Ft=Ft.length&&new RegExp(Ft.join("|")),F=ii.test(Gt.compareDocumentPosition),yr=F||ii.test(Gt.contains)?function(at,bt){var It=9===at.nodeType?at.documentElement:at,Et=bt&&bt.parentNode;return at===Et||!(!Et||1!==Et.nodeType||!(It.contains?It.contains(Et):at.compareDocumentPosition&&16&at.compareDocumentPosition(Et)))}:function(at,bt){if(bt)for(;bt=bt.parentNode;)if(bt===at)return!0;return!1},wr=F?function(at,bt){if(at===bt)return xt=!0,0;var It=!at.compareDocumentPosition-!bt.compareDocumentPosition;return It||(1&(It=(at.ownerDocument||at)==(bt.ownerDocument||bt)?at.compareDocumentPosition(bt):1)||!d.sortDetached&&bt.compareDocumentPosition(at)===It?at==mt||at.ownerDocument==ne&&yr(ne,at)?-1:bt==mt||bt.ownerDocument==ne&&yr(ne,bt)?1:gt?Xi(gt,at)-Xi(gt,bt):0:4&It?-1:1)}:function(at,bt){if(at===bt)return xt=!0,0;var It,Et=0,Bt=at.parentNode,qt=bt.parentNode,te=[at],ce=[bt];if(!Bt||!qt)return at==mt?-1:bt==mt?1:Bt?-1:qt?1:gt?Xi(gt,at)-Xi(gt,bt):0;if(Bt===qt)return ro(at,bt);for(It=at;It=It.parentNode;)te.unshift(It);for(It=bt;It=It.parentNode;)ce.unshift(It);for(;te[Et]===ce[Et];)Et++;return Et?ro(te[Et],ce[Et]):te[Et]==ne?-1:ce[Et]==ne?1:0}),mt},Ye.matches=function(E,F){return Ye(E,null,null,F)},Ye.matchesSelector=function(E,F){if(ot(E),d.matchesSelector&&Zt&&!Ve[F+" "]&&(!Ft||!Ft.test(F))&&(!Ot||!Ot.test(F)))try{var et=Tn.call(E,F);if(et||d.disconnectedMatch||E.document&&11!==E.document.nodeType)return et}catch{Ve(F,!0)}return Ye(F,mt,null,[E]).length>0},Ye.contains=function(E,F){return(E.ownerDocument||E)!=mt&&ot(E),yr(E,F)},Ye.attr=function(E,F){(E.ownerDocument||E)!=mt&&ot(E);var et=v.attrHandle[F.toLowerCase()],At=et&&Ni.call(v.attrHandle,F.toLowerCase())?et(E,F,!Zt):void 0;return void 0!==At?At:d.attributes||!Zt?E.getAttribute(F):(At=E.getAttributeNode(F))&&At.specified?At.value:null},Ye.escape=function(E){return(E+"").replace(Si,Vs)},Ye.error=function(E){throw new Error("Syntax error, unrecognized expression: "+E)},Ye.uniqueSort=function(E){var F,et=[],At=0,at=0;if(xt=!d.detectDuplicates,gt=!d.sortStable&&E.slice(0),E.sort(wr),xt){for(;F=E[at++];)F===E[at]&&(At=et.push(at));for(;At--;)E.splice(et[At],1)}return gt=null,E},b=Ye.getText=function(E){var F,et="",At=0,at=E.nodeType;if(at){if(1===at||9===at||11===at){if("string"==typeof E.textContent)return E.textContent;for(E=E.firstChild;E;E=E.nextSibling)et+=b(E)}else if(3===at||4===at)return E.nodeValue}else for(;F=E[At++];)et+=b(F);return et},(v=Ye.selectors={cacheLength:50,createPseudo:Sn,match:ja,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(E){return E[1]=E[1].replace(si,gi),E[3]=(E[3]||E[4]||E[5]||"").replace(si,gi),"~="===E[2]&&(E[3]=" "+E[3]+" "),E.slice(0,4)},CHILD:function(E){return E[1]=E[1].toLowerCase(),"nth"===E[1].slice(0,3)?(E[3]||Ye.error(E[0]),E[4]=+(E[4]?E[5]+(E[6]||1):2*("even"===E[3]||"odd"===E[3])),E[5]=+(E[7]+E[8]||"odd"===E[3])):E[3]&&Ye.error(E[0]),E},PSEUDO:function(E){var F,et=!E[6]&&E[2];return ja.CHILD.test(E[0])?null:(E[3]?E[2]=E[4]||E[5]||"":et&&eo.test(et)&&(F=D(et,!0))&&(F=et.indexOf(")",et.length-F)-et.length)&&(E[0]=E[0].slice(0,F),E[2]=et.slice(0,F)),E.slice(0,3))}},filter:{TAG:function(E){var F=E.replace(si,gi).toLowerCase();return"*"===E?function(){return!0}:function(et){return et.nodeName&&et.nodeName.toLowerCase()===F}},CLASS:function(E){var F=bn[E+" "];return F||(F=new RegExp("(^|"+Ae+")"+E+"("+Ae+"|$)"))&&bn(E,function(et){return F.test("string"==typeof et.className&&et.className||typeof et.getAttribute<"u"&&et.getAttribute("class")||"")})},ATTR:function(E,F,et){return function(At){var at=Ye.attr(At,E);return null==at?"!="===F:!F||(at+="","="===F?at===et:"!="===F?at!==et:"^="===F?et&&0===at.indexOf(et):"*="===F?et&&at.indexOf(et)>-1:"$="===F?et&&at.slice(-et.length)===et:"~="===F?(" "+at.replace(Mi," ")+" ").indexOf(et)>-1:"|="===F&&(at===et||at.slice(0,et.length+1)===et+"-"))}},CHILD:function(E,F,et,At,at){var bt="nth"!==E.slice(0,3),It="last"!==E.slice(-4),Et="of-type"===F;return 1===At&&0===at?function(Bt){return!!Bt.parentNode}:function(Bt,qt,te){var ce,Me,Ke,Jt,Ln,$n,dr=bt!==It?"nextSibling":"previousSibling",mn=Bt.parentNode,en=Et&&Bt.nodeName.toLowerCase(),In=!te&&!Et,br=!1;if(mn){if(bt){for(;dr;){for(Jt=Bt;Jt=Jt[dr];)if(Et?Jt.nodeName.toLowerCase()===en:1===Jt.nodeType)return!1;$n=dr="only"===E&&!$n&&"nextSibling"}return!0}if($n=[It?mn.firstChild:mn.lastChild],It&&In){for(br=(Ln=(ce=(Me=(Ke=(Jt=mn)[le]||(Jt[le]={}))[Jt.uniqueID]||(Ke[Jt.uniqueID]={}))[E]||[])[0]===Kn&&ce[1])&&ce[2],Jt=Ln&&mn.childNodes[Ln];Jt=++Ln&&Jt&&Jt[dr]||(br=Ln=0)||$n.pop();)if(1===Jt.nodeType&&++br&&Jt===Bt){Me[E]=[Kn,Ln,br];break}}else if(In&&(br=Ln=(ce=(Me=(Ke=(Jt=Bt)[le]||(Jt[le]={}))[Jt.uniqueID]||(Ke[Jt.uniqueID]={}))[E]||[])[0]===Kn&&ce[1]),!1===br)for(;(Jt=++Ln&&Jt&&Jt[dr]||(br=Ln=0)||$n.pop())&&((Et?Jt.nodeName.toLowerCase()!==en:1!==Jt.nodeType)||!++br||(In&&((Me=(Ke=Jt[le]||(Jt[le]={}))[Jt.uniqueID]||(Ke[Jt.uniqueID]={}))[E]=[Kn,br]),Jt!==Bt)););return(br-=at)===At||br%At==0&&br/At>=0}}},PSEUDO:function(E,F){var et,At=v.pseudos[E]||v.setFilters[E.toLowerCase()]||Ye.error("unsupported pseudo: "+E);return At[le]?At(F):At.length>1?(et=[E,E,"",F],v.setFilters.hasOwnProperty(E.toLowerCase())?Sn(function(at,bt){for(var It,Et=At(at,F),Bt=Et.length;Bt--;)at[It=Xi(at,Et[Bt])]=!(bt[It]=Et[Bt])}):function(at){return At(at,0,et)}):At}},pseudos:{not:Sn(function(E){var F=[],et=[],At=U(E.replace(gr,"$1"));return At[le]?Sn(function(at,bt,It,Et){for(var Bt,qt=At(at,null,Et,[]),te=at.length;te--;)(Bt=qt[te])&&(at[te]=!(bt[te]=Bt))}):function(at,bt,It){return F[0]=at,At(F,null,It,et),F[0]=null,!et.pop()}}),has:Sn(function(E){return function(F){return Ye(E,F).length>0}}),contains:Sn(function(E){return E=E.replace(si,gi),function(F){return(F.textContent||b(F)).indexOf(E)>-1}}),lang:Sn(function(E){return eu.test(E||"")||Ye.error("unsupported lang: "+E),E=E.replace(si,gi).toLowerCase(),function(F){var et;do{if(et=Zt?F.lang:F.getAttribute("xml:lang")||F.getAttribute("lang"))return(et=et.toLowerCase())===E||0===et.indexOf(E+"-")}while((F=F.parentNode)&&1===F.nodeType);return!1}}),target:function(E){var F=u.location&&u.location.hash;return F&&F.slice(1)===E.id},root:function(E){return E===Gt},focus:function(E){return E===mt.activeElement&&(!mt.hasFocus||mt.hasFocus())&&!!(E.type||E.href||~E.tabIndex)},enabled:Xs(!1),disabled:Xs(!0),checked:function(E){var F=E.nodeName.toLowerCase();return"input"===F&&!!E.checked||"option"===F&&!!E.selected},selected:function(E){return!0===E.selected},empty:function(E){for(E=E.firstChild;E;E=E.nextSibling)if(E.nodeType<6)return!1;return!0},parent:function(E){return!v.pseudos.empty(E)},header:function(E){return Mo.test(E.nodeName)},input:function(E){return No.test(E.nodeName)},button:function(E){var F=E.nodeName.toLowerCase();return"input"===F&&"button"===E.type||"button"===F},text:function(E){var F;return"input"===E.nodeName.toLowerCase()&&"text"===E.type&&(null==(F=E.getAttribute("type"))||"text"===F.toLowerCase())},first:di(function(){return[0]}),last:di(function(E,F){return[F-1]}),eq:di(function(E,F,et){return[et<0?et+F:et]}),even:di(function(E,F){for(var et=0;et<F;et+=2)E.push(et);return E}),odd:di(function(E,F){for(var et=1;et<F;et+=2)E.push(et);return E}),lt:di(function(E,F,et){for(var At=et<0?et+F:et>F?F:et;--At>=0;)E.push(At);return E}),gt:di(function(E,F,et){for(var At=et<0?et+F:et;++At<F;)E.push(At);return E})}}).pseudos.nth=v.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[c]=Ti(c);for(c in{submit:!0,reset:!0})v.pseudos[c]=To(c);function Ct(){}function dt(E){for(var F=0,et=E.length,At="";F<et;F++)At+=E[F].value;return At}function _t(E,F,et){var At=F.dir,at=F.next,bt=at||At,It=et&&"parentNode"===bt,Et=ze++;return F.first?function(Bt,qt,te){for(;Bt=Bt[At];)if(1===Bt.nodeType||It)return E(Bt,qt,te);return!1}:function(Bt,qt,te){var ce,Me,Ke,Jt=[Kn,Et];if(te){for(;Bt=Bt[At];)if((1===Bt.nodeType||It)&&E(Bt,qt,te))return!0}else for(;Bt=Bt[At];)if(1===Bt.nodeType||It)if(Me=(Ke=Bt[le]||(Bt[le]={}))[Bt.uniqueID]||(Ke[Bt.uniqueID]={}),at&&at===Bt.nodeName.toLowerCase())Bt=Bt[At]||Bt;else{if((ce=Me[bt])&&ce[0]===Kn&&ce[1]===Et)return Jt[2]=ce[2];if(Me[bt]=Jt,Jt[2]=E(Bt,qt,te))return!0}return!1}}function he(E){return E.length>1?function(F,et,At){for(var at=E.length;at--;)if(!E[at](F,et,At))return!1;return!0}:E[0]}function Dn(E,F,et,At,at){for(var bt,It=[],Et=0,Bt=E.length,qt=null!=F;Et<Bt;Et++)(bt=E[Et])&&(!et||et(bt,At,at))&&(It.push(bt),qt&&F.push(Et));return It}function tn(E,F,et,At,at,bt){return At&&!At[le]&&(At=tn(At)),at&&!at[le]&&(at=tn(at,bt)),Sn(function(It,Et,Bt,qt){var te,ce,Me,Ke=[],Jt=[],Ln=Et.length,$n=It||function Xe(E,F,et){for(var At=0,at=F.length;At<at;At++)Ye(E,F[At],et);return et}(F||"*",Bt.nodeType?[Bt]:Bt,[]),dr=!E||!It&&F?$n:Dn($n,Ke,E,Bt,qt),mn=et?at||(It?E:Ln||At)?[]:Et:dr;if(et&&et(dr,mn,Bt,qt),At)for(te=Dn(mn,Jt),At(te,[],Bt,qt),ce=te.length;ce--;)(Me=te[ce])&&(mn[Jt[ce]]=!(dr[Jt[ce]]=Me));if(It){if(at||E){if(at){for(te=[],ce=mn.length;ce--;)(Me=mn[ce])&&te.push(dr[ce]=Me);at(null,mn=[],te,qt)}for(ce=mn.length;ce--;)(Me=mn[ce])&&(te=at?Xi(It,Me):Ke[ce])>-1&&(It[te]=!(Et[te]=Me))}}else mn=Dn(mn===Et?mn.splice(Ln,mn.length):mn),at?at(null,Et,mn,qt):Vi.apply(Et,mn)})}function Ia(E){for(var F,et,At,at=E.length,bt=v.relative[E[0].type],It=bt||v.relative[" "],Et=bt?1:0,Bt=_t(function(ce){return ce===F},It,!0),qt=_t(function(ce){return Xi(F,ce)>-1},It,!0),te=[function(ce,Me,Ke){var Jt=!bt&&(Ke||Me!==it)||((F=Me).nodeType?Bt(ce,Me,Ke):qt(ce,Me,Ke));return F=null,Jt}];Et<at;Et++)if(et=v.relative[E[Et].type])te=[_t(he(te),et)];else{if((et=v.filter[E[Et].type].apply(null,E[Et].matches))[le]){for(At=++Et;At<at&&!v.relative[E[At].type];At++);return tn(Et>1&&he(te),Et>1&&dt(E.slice(0,Et-1).concat({value:" "===E[Et-2].type?"*":""})).replace(gr,"$1"),et,Et<At&&Ia(E.slice(Et,At)),At<at&&Ia(E=E.slice(At)),At<at&&dt(E))}te.push(et)}return he(te)}return Ct.prototype=v.filters=v.pseudos,v.setFilters=new Ct,D=Ye.tokenize=function(E,F){var et,At,at,bt,It,Et,Bt,qt=Ns[E+" "];if(qt)return F?0:qt.slice(0);for(It=E,Et=[],Bt=v.preFilter;It;){for(bt in(!et||(At=Ga.exec(It)))&&(At&&(It=It.slice(At[0].length)||It),Et.push(at=[])),et=!1,(At=Us.exec(It))&&(et=At.shift(),at.push({value:et,type:At[0].replace(gr," ")}),It=It.slice(et.length)),v.filter)(At=ja[bt].exec(It))&&(!Bt[bt]||(At=Bt[bt](At)))&&(et=At.shift(),at.push({value:et,type:bt,matches:At}),It=It.slice(et.length));if(!et)break}return F?It.length:It?Ye.error(E):Ns(E,Et).slice(0)},U=Ye.compile=function(E,F){var et,At=[],at=[],bt=Yr[E+" "];if(!bt){for(F||(F=D(E)),et=F.length;et--;)(bt=Ia(F[et]))[le]?At.push(bt):at.push(bt);bt=Yr(E,function nu(E,F){var et=F.length>0,At=E.length>0,at=function(bt,It,Et,Bt,qt){var te,ce,Me,Ke=0,Jt="0",Ln=bt&&[],$n=[],dr=it,mn=bt||At&&v.find.TAG("*",qt),en=Kn+=null==dr?1:Math.random()||.1,In=mn.length;for(qt&&(it=It==mt||It||qt);Jt!==In&&null!=(te=mn[Jt]);Jt++){if(At&&te){for(ce=0,!It&&te.ownerDocument!=mt&&(ot(te),Et=!Zt);Me=E[ce++];)if(Me(te,It||mt,Et)){Bt.push(te);break}qt&&(Kn=en)}et&&((te=!Me&&te)&&Ke--,bt&&Ln.push(te))}if(Ke+=Jt,et&&Jt!==Ke){for(ce=0;Me=F[ce++];)Me(Ln,$n,It,Et);if(bt){if(Ke>0)for(;Jt--;)Ln[Jt]||$n[Jt]||($n[Jt]=Un.call(Bt));$n=Dn($n)}Vi.apply(Bt,$n),qt&&!bt&&$n.length>0&&Ke+F.length>1&&Ye.uniqueSort(Bt)}return qt&&(Kn=en,it=dr),Ln};return et?Sn(at):at}(at,At)),bt.selector=E}return bt},W=Ye.select=function(E,F,et,At){var at,bt,It,Et,Bt,qt="function"==typeof E&&E,te=!At&&D(E=qt.selector||E);if(et=et||[],1===te.length){if((bt=te[0]=te[0].slice(0)).length>2&&"ID"===(It=bt[0]).type&&9===F.nodeType&&Zt&&v.relative[bt[1].type]){if(!(F=(v.find.ID(It.matches[0].replace(si,gi),F)||[])[0]))return et;qt&&(F=F.parentNode),E=E.slice(bt.shift().value.length)}for(at=ja.needsContext.test(E)?0:bt.length;at--&&!v.relative[Et=(It=bt[at]).type];)if((Bt=v.find[Et])&&(At=Bt(It.matches[0].replace(si,gi),Fs.test(bt[0].type)&&rt(F.parentNode)||F))){if(bt.splice(at,1),!(E=At.length&&dt(bt)))return Vi.apply(et,At),et;break}}return(qt||U(E,te))(At,F,!Zt,et,!F||Fs.test(E)&&rt(F.parentNode)||F),et},d.sortStable=le.split("").sort(wr).join("")===le,d.detectDuplicates=!!xt,ot(),d.sortDetached=Vr(function(E){return 1&E.compareDocumentPosition(mt.createElement("fieldset"))}),Vr(function(E){return E.innerHTML="<a href='#'></a>","#"===E.firstChild.getAttribute("href")})||ye("type|href|height|width",function(E,F,et){if(!et)return E.getAttribute(F,"type"===F.toLowerCase()?1:2)}),(!d.attributes||!Vr(function(E){return E.innerHTML="<input/>",E.firstChild.setAttribute("value",""),""===E.firstChild.getAttribute("value")}))&&ye("value",function(E,F,et){if(!et&&"input"===E.nodeName.toLowerCase())return E.defaultValue}),Vr(function(E){return null==E.getAttribute("disabled")})||ye(ln,function(E,F,et){var At;if(!et)return!0===E[F]?F.toLowerCase():(At=E.getAttributeNode(F))&&At.specified?At.value:null}),Ye}(G);C.find=er,C.expr=er.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=er.uniqueSort,C.text=er.getText,C.isXMLDoc=er.isXML,C.contains=er.contains,C.escapeSelector=er.escape;var Cr=function(u,c,d){for(var v=[],b=void 0!==d;(u=u[c])&&9!==u.nodeType;)if(1===u.nodeType){if(b&&C(u).is(d))break;v.push(u)}return v},gs=function(u,c){for(var d=[];u;u=u.nextSibling)1===u.nodeType&&u!==c&&d.push(u);return d},cr=C.expr.match.needsContext;function Nn(u,c){return u.nodeName&&u.nodeName.toLowerCase()===c.toLowerCase()}var $r=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function kn(u,c,d){return Xt(c)?C.grep(u,function(v,b){return!!c.call(v,b,v)!==d}):c.nodeType?C.grep(u,function(v){return v===c!==d}):"string"!=typeof c?C.grep(u,function(v){return qe.call(c,v)>-1!==d}):C.filter(c,u,d)}C.filter=function(u,c,d){var v=c[0];return d&&(u=":not("+u+")"),1===c.length&&1===v.nodeType?C.find.matchesSelector(v,u)?[v]:[]:C.find.matches(u,C.grep(c,function(b){return 1===b.nodeType}))},C.fn.extend({find:function(u){var c,d,v=this.length,b=this;if("string"!=typeof u)return this.pushStack(C(u).filter(function(){for(c=0;c<v;c++)if(C.contains(b[c],this))return!0}));for(d=this.pushStack([]),c=0;c<v;c++)C.find(u,b[c],d);return v>1?C.uniqueSort(d):d},filter:function(u){return this.pushStack(kn(this,u||[],!1))},not:function(u){return this.pushStack(kn(this,u||[],!0))},is:function(u){return!!kn(this,"string"==typeof u&&cr.test(u)?C(u):u||[],!1).length}});var $i,rn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,fr=C.fn.init=function(u,c,d){var v,b;if(!u)return this;if(d=d||$i,"string"==typeof u){if(!(v="<"===u[0]&&">"===u[u.length-1]&&u.length>=3?[null,u,null]:rn.exec(u))||!v[1]&&c)return!c||c.jquery?(c||d).find(u):this.constructor(c).find(u);if(v[1]){if(C.merge(this,C.parseHTML(v[1],(c=c instanceof C?c[0]:c)&&c.nodeType?c.ownerDocument||c:me,!0)),$r.test(v[1])&&C.isPlainObject(c))for(v in c)Xt(this[v])?this[v](c[v]):this.attr(v,c[v]);return this}return(b=me.getElementById(v[2]))&&(this[0]=b,this.length=1),this}return u.nodeType?(this[0]=u,this.length=1,this):Xt(u)?void 0!==d.ready?d.ready(u):u(C):C.makeArray(u,this)};fr.prototype=C.fn,$i=C(me);var ds=/^(?:parents|prev(?:Until|All))/,ui={children:!0,contents:!0,next:!0,prev:!0};function nr(u,c){for(;(u=u[c])&&1!==u.nodeType;);return u}C.fn.extend({has:function(u){var c=C(u,this),d=c.length;return this.filter(function(){for(var v=0;v<d;v++)if(C.contains(this,c[v]))return!0})},closest:function(u,c){var d,v=0,b=this.length,w=[],D="string"!=typeof u&&C(u);if(!cr.test(u))for(;v<b;v++)for(d=this[v];d&&d!==c;d=d.parentNode)if(d.nodeType<11&&(D?D.index(d)>-1:1===d.nodeType&&C.find.matchesSelector(d,u))){w.push(d);break}return this.pushStack(w.length>1?C.uniqueSort(w):w)},index:function(u){return u?"string"==typeof u?qe.call(C(u),this[0]):qe.call(this,u.jquery?u[0]:u):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,c){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(u,c))))},addBack:function(u){return this.add(null==u?this.prevObject:this.prevObject.filter(u))}}),C.each({parent:function(u){var c=u.parentNode;return c&&11!==c.nodeType?c:null},parents:function(u){return Cr(u,"parentNode")},parentsUntil:function(u,c,d){return Cr(u,"parentNode",d)},next:function(u){return nr(u,"nextSibling")},prev:function(u){return nr(u,"previousSibling")},nextAll:function(u){return Cr(u,"nextSibling")},prevAll:function(u){return Cr(u,"previousSibling")},nextUntil:function(u,c,d){return Cr(u,"nextSibling",d)},prevUntil:function(u,c,d){return Cr(u,"previousSibling",d)},siblings:function(u){return gs((u.parentNode||{}).firstChild,u)},children:function(u){return gs(u.firstChild)},contents:function(u){return null!=u.contentDocument&&Tt(u.contentDocument)?u.contentDocument:(Nn(u,"template")&&(u=u.content||u),C.merge([],u.childNodes))}},function(u,c){C.fn[u]=function(d,v){var b=C.map(this,c,d);return"Until"!==u.slice(-5)&&(v=d),v&&"string"==typeof v&&(b=C.filter(v,b)),this.length>1&&(ui[u]||C.uniqueSort(b),ds.test(u)&&b.reverse()),this.pushStack(b)}});var Hn=/[^\x20\t\r\n\f]+/g;function En(u){return u}function rr(u){throw u}function Rr(u,c,d,v){var b;try{u&&Xt(b=u.promise)?b.call(u).done(c).fail(d):u&&Xt(b=u.then)?b.call(u,c,d):c.apply(void 0,[u].slice(v))}catch(w){d.apply(void 0,[w])}}C.Callbacks=function(u){u="string"==typeof u?function ae(u){var c={};return C.each(u.match(Hn)||[],function(d,v){c[v]=!0}),c}(u):C.extend({},u);var c,d,v,b,w=[],D=[],U=-1,W=function(){for(b=b||u.once,v=c=!0;D.length;U=-1)for(d=D.shift();++U<w.length;)!1===w[U].apply(d[0],d[1])&&u.stopOnFalse&&(U=w.length,d=!1);u.memory||(d=!1),c=!1,b&&(w=d?[]:"")},it={add:function(){return w&&(d&&!c&&(U=w.length-1,D.push(d)),function gt(xt){C.each(xt,function(ot,mt){Xt(mt)?(!u.unique||!it.has(mt))&&w.push(mt):mt&&mt.length&&"string"!==fn(mt)&&gt(mt)})}(arguments),d&&!c&&W()),this},remove:function(){return C.each(arguments,function(gt,xt){for(var ot;(ot=C.inArray(xt,w,ot))>-1;)w.splice(ot,1),ot<=U&&U--}),this},has:function(gt){return gt?C.inArray(gt,w)>-1:w.length>0},empty:function(){return w&&(w=[]),this},disable:function(){return b=D=[],w=d="",this},disabled:function(){return!w},lock:function(){return b=D=[],!d&&!c&&(w=d=""),this},locked:function(){return!!b},fireWith:function(gt,xt){return b||(xt=[gt,(xt=xt||[]).slice?xt.slice():xt],D.push(xt),c||W()),this},fire:function(){return it.fireWith(this,arguments),this},fired:function(){return!!v}};return it},C.extend({Deferred:function(u){var c=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],d="pending",v={state:function(){return d},always:function(){return b.done(arguments).fail(arguments),this},catch:function(w){return v.then(null,w)},pipe:function(){var w=arguments;return C.Deferred(function(D){C.each(c,function(U,W){var it=Xt(w[W[4]])&&w[W[4]];b[W[1]](function(){var gt=it&&it.apply(this,arguments);gt&&Xt(gt.promise)?gt.promise().progress(D.notify).done(D.resolve).fail(D.reject):D[W[0]+"With"](this,it?[gt]:arguments)})}),w=null}).promise()},then:function(w,D,U){var W=0;function it(gt,xt,ot,mt){return function(){var Gt=this,Zt=arguments,Ot=function(){var Tn,yr;if(!(gt<W)){if((Tn=ot.apply(Gt,Zt))===xt.promise())throw new TypeError("Thenable self-resolution");Xt(yr=Tn&&("object"==typeof Tn||"function"==typeof Tn)&&Tn.then)?mt?yr.call(Tn,it(W,xt,En,mt),it(W,xt,rr,mt)):(W++,yr.call(Tn,it(W,xt,En,mt),it(W,xt,rr,mt),it(W,xt,En,xt.notifyWith))):(ot!==En&&(Gt=void 0,Zt=[Tn]),(mt||xt.resolveWith)(Gt,Zt))}},Ft=mt?Ot:function(){try{Ot()}catch(Tn){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(Tn,Ft.stackTrace),gt+1>=W&&(ot!==rr&&(Gt=void 0,Zt=[Tn]),xt.rejectWith(Gt,Zt))}};gt?Ft():(C.Deferred.getStackHook&&(Ft.stackTrace=C.Deferred.getStackHook()),G.setTimeout(Ft))}}return C.Deferred(function(gt){c[0][3].add(it(0,gt,Xt(U)?U:En,gt.notifyWith)),c[1][3].add(it(0,gt,Xt(w)?w:En)),c[2][3].add(it(0,gt,Xt(D)?D:rr))}).promise()},promise:function(w){return null!=w?C.extend(w,v):v}},b={};return C.each(c,function(w,D){var U=D[2],W=D[5];v[D[1]]=U.add,W&&U.add(function(){d=W},c[3-w][2].disable,c[3-w][3].disable,c[0][2].lock,c[0][3].lock),U.add(D[3].fire),b[D[0]]=function(){return b[D[0]+"With"](this===b?void 0:this,arguments),this},b[D[0]+"With"]=U.fireWith}),v.promise(b),u&&u.call(b,b),b},when:function(u){var c=arguments.length,d=c,v=Array(d),b=Je.call(arguments),w=C.Deferred(),D=function(U){return function(W){v[U]=this,b[U]=arguments.length>1?Je.call(arguments):W,--c||w.resolveWith(v,b)}};if(c<=1&&(Rr(u,w.done(D(d)).resolve,w.reject,!c),"pending"===w.state()||Xt(b[d]&&b[d].then)))return w.then();for(;d--;)Rr(b[d],D(d),w.reject);return w.promise()}});var ps=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(u,c){G.console&&G.console.warn&&u&&ps.test(u.name)&&G.console.warn("jQuery.Deferred exception: "+u.message,u.stack,c)},C.readyException=function(u){G.setTimeout(function(){throw u})};var Gr=C.Deferred();function zn(){me.removeEventListener("DOMContentLoaded",zn),G.removeEventListener("load",zn),C.ready()}C.fn.ready=function(u){return Gr.then(u).catch(function(c){C.readyException(c)}),this},C.extend({isReady:!1,readyWait:1,ready:function(u){(!0===u?--C.readyWait:C.isReady)||(C.isReady=!0,!(!0!==u&&--C.readyWait>0)&&Gr.resolveWith(me,[C]))}}),C.ready.then=Gr.then,"complete"===me.readyState||"loading"!==me.readyState&&!me.documentElement.doScroll?G.setTimeout(C.ready):(me.addEventListener("DOMContentLoaded",zn),G.addEventListener("load",zn));var Lr=function(u,c,d,v,b,w,D){var U=0,W=u.length,it=null==d;if("object"===fn(d))for(U in b=!0,d)Lr(u,c,U,d[U],!0,w,D);else if(void 0!==v&&(b=!0,Xt(v)||(D=!0),it&&(D?(c.call(u,v),c=null):(it=c,c=function(gt,xt,ot){return it.call(C(gt),ot)})),c))for(;U<W;U++)c(u[U],d,D?v:v.call(u[U],U,c(u[U],d)));return b?u:it?c.call(u):W?c(u[0],d):w},ti=/^-ms-/,ts=/-([a-z])/g;function vs(u,c){return c.toUpperCase()}function Y(u){return u.replace(ti,"ms-").replace(ts,vs)}var Re=function(u){return 1===u.nodeType||9===u.nodeType||!+u.nodeType};function N(){this.expando=C.expando+N.uid++}N.uid=1,N.prototype={cache:function(u){var c=u[this.expando];return c||(c={},Re(u)&&(u.nodeType?u[this.expando]=c:Object.defineProperty(u,this.expando,{value:c,configurable:!0}))),c},set:function(u,c,d){var v,b=this.cache(u);if("string"==typeof c)b[Y(c)]=d;else for(v in c)b[Y(v)]=c[v];return b},get:function(u,c){return void 0===c?this.cache(u):u[this.expando]&&u[this.expando][Y(c)]},access:function(u,c,d){return void 0===c||c&&"string"==typeof c&&void 0===d?this.get(u,c):(this.set(u,c,d),void 0!==d?d:c)},remove:function(u,c){var d,v=u[this.expando];if(void 0!==v){if(void 0!==c)for((d=(c=Array.isArray(c)?c.map(Y):(c=Y(c))in v?[c]:c.match(Hn)||[]).length);d--;)delete v[c[d]];(void 0===c||C.isEmptyObject(v))&&(u.nodeType?u[this.expando]=void 0:delete u[this.expando])}},hasData:function(u){var c=u[this.expando];return void 0!==c&&!C.isEmptyObject(c)}};var T=new N,O=new N,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,yt=/[A-Z]/g;function Yt(u,c,d){var v;if(void 0===d&&1===u.nodeType)if(v="data-"+c.replace(yt,"-$&").toLowerCase(),"string"==typeof(d=u.getAttribute(v))){try{d=function wt(u){return"true"===u||"false"!==u&&("null"===u?null:u===+u+""?+u:Q.test(u)?JSON.parse(u):u)}(d)}catch{}O.set(u,c,d)}else d=void 0;return d}C.extend({hasData:function(u){return O.hasData(u)||T.hasData(u)},data:function(u,c,d){return O.access(u,c,d)},removeData:function(u,c){O.remove(u,c)},_data:function(u,c,d){return T.access(u,c,d)},_removeData:function(u,c){T.remove(u,c)}}),C.fn.extend({data:function(u,c){var d,v,b,w=this[0],D=w&&w.attributes;if(void 0===u){if(this.length&&(b=O.get(w),1===w.nodeType&&!T.get(w,"hasDataAttrs"))){for(d=D.length;d--;)D[d]&&0===(v=D[d].name).indexOf("data-")&&(v=Y(v.slice(5)),Yt(w,v,b[v]));T.set(w,"hasDataAttrs",!0)}return b}return"object"==typeof u?this.each(function(){O.set(this,u)}):Lr(this,function(U){var W;if(w&&void 0===U)return void 0!==(W=O.get(w,u))||void 0!==(W=Yt(w,u))?W:void 0;this.each(function(){O.set(this,u,U)})},null,c,arguments.length>1,null,!0)},removeData:function(u){return this.each(function(){O.remove(this,u)})}}),C.extend({queue:function(u,c,d){var v;if(u)return v=T.get(u,c=(c||"fx")+"queue"),d&&(!v||Array.isArray(d)?v=T.access(u,c,C.makeArray(d)):v.push(d)),v||[]},dequeue:function(u,c){var d=C.queue(u,c=c||"fx"),v=d.length,b=d.shift(),w=C._queueHooks(u,c);"inprogress"===b&&(b=d.shift(),v--),b&&("fx"===c&&d.unshift("inprogress"),delete w.stop,b.call(u,function(){C.dequeue(u,c)},w)),!v&&w&&w.empty.fire()},_queueHooks:function(u,c){var d=c+"queueHooks";return T.get(u,d)||T.access(u,d,{empty:C.Callbacks("once memory").add(function(){T.remove(u,[c+"queue",d])})})}}),C.fn.extend({queue:function(u,c){var d=2;return"string"!=typeof u&&(c=u,u="fx",d--),arguments.length<d?C.queue(this[0],u):void 0===c?this:this.each(function(){var v=C.queue(this,u,c);C._queueHooks(this,u),"fx"===u&&"inprogress"!==v[0]&&C.dequeue(this,u)})},dequeue:function(u){return this.each(function(){C.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,c){var d,v=1,b=C.Deferred(),w=this,D=this.length,U=function(){--v||b.resolveWith(w,[w])};for("string"!=typeof u&&(c=u,u=void 0),u=u||"fx";D--;)(d=T.get(w[D],u+"queueHooks"))&&d.empty&&(v++,d.empty.add(U));return U(),b.promise(c)}});var Ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Qe=new RegExp("^(?:([+-])=|)("+Ht+")([a-z%]*)$","i"),Ge=["Top","Right","Bottom","Left"],hn=me.documentElement,Te=function(u){return C.contains(u.ownerDocument,u)},Cn={composed:!0};hn.getRootNode&&(Te=function(u){return C.contains(u.ownerDocument,u)||u.getRootNode(Cn)===u.ownerDocument});var Jn=function(u,c){return"none"===(u=c||u).style.display||""===u.style.display&&Te(u)&&"none"===C.css(u,"display")};function ei(u,c,d,v){var b,w,D=20,U=v?function(){return v.cur()}:function(){return C.css(u,c,"")},W=U(),it=d&&d[3]||(C.cssNumber[c]?"":"px"),gt=u.nodeType&&(C.cssNumber[c]||"px"!==it&&+W)&&Qe.exec(C.css(u,c));if(gt&&gt[3]!==it){for(it=it||gt[3],gt=+(W/=2)||1;D--;)C.style(u,c,gt+it),(1-w)*(1-(w=U()/W||.5))<=0&&(D=0),gt/=w;C.style(u,c,(gt*=2)+it),d=d||[]}return d&&(gt=+gt||+W||0,b=d[1]?gt+(d[1]+1)*d[2]:+d[2],v&&(v.unit=it,v.start=gt,v.end=b)),b}var gn={};function Pt(u){var c,d=u.ownerDocument,v=u.nodeName,b=gn[v];return b||(c=d.body.appendChild(d.createElement(v)),b=C.css(c,"display"),c.parentNode.removeChild(c),"none"===b&&(b="block"),gn[v]=b,b)}function On(u,c){for(var d,v,b=[],w=0,D=u.length;w<D;w++)(v=u[w]).style&&(d=v.style.display,c?("none"===d&&(b[w]=T.get(v,"display")||null,b[w]||(v.style.display="")),""===v.style.display&&Jn(v)&&(b[w]=Pt(v))):"none"!==d&&(b[w]="none",T.set(v,"display",d)));for(w=0;w<D;w++)null!=b[w]&&(u[w].style.display=b[w]);return u}C.fn.extend({show:function(){return On(this,!0)},hide:function(){return On(this)},toggle:function(u){return"boolean"==typeof u?u?this.show():this.hide():this.each(function(){Jn(this)?C(this).show():C(this).hide()})}});var c,d,Pr=/^(?:checkbox|radio)$/i,Ai=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,kr=/^$|^module$|\/(?:java|ecma)script/i;c=me.createDocumentFragment().appendChild(me.createElement("div")),(d=me.createElement("input")).setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),c.appendChild(d),we.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,c.innerHTML="<textarea>x</textarea>",we.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue,c.innerHTML="<option></option>",we.option=!!c.lastChild;var Ie={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Mn(u,c){var d;return d=typeof u.getElementsByTagName<"u"?u.getElementsByTagName(c||"*"):typeof u.querySelectorAll<"u"?u.querySelectorAll(c||"*"):[],void 0===c||c&&Nn(u,c)?C.merge([u],d):d}function ms(u,c){for(var d=0,v=u.length;d<v;d++)T.set(u[d],"globalEval",!c||T.get(c[d],"globalEval"))}Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td,we.option||(Ie.optgroup=Ie.option=[1,"<select multiple='multiple'>","</select>"]);var oa=/<|&#?\w+;/;function Ri(u,c,d,v,b){for(var w,D,U,W,it,gt,xt=c.createDocumentFragment(),ot=[],mt=0,Gt=u.length;mt<Gt;mt++)if((w=u[mt])||0===w)if("object"===fn(w))C.merge(ot,w.nodeType?[w]:w);else if(oa.test(w)){for(D=D||xt.appendChild(c.createElement("div")),U=(Ai.exec(w)||["",""])[1].toLowerCase(),D.innerHTML=(W=Ie[U]||Ie._default)[1]+C.htmlPrefilter(w)+W[2],gt=W[0];gt--;)D=D.lastChild;C.merge(ot,D.childNodes),(D=xt.firstChild).textContent=""}else ot.push(c.createTextNode(w));for(xt.textContent="",mt=0;w=ot[mt++];)if(v&&C.inArray(w,v)>-1)b&&b.push(w);else if(it=Te(w),D=Mn(xt.appendChild(w),"script"),it&&ms(D),d)for(gt=0;w=D[gt++];)kr.test(w.type||"")&&d.push(w);return xt}var es=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function jr(){return!1}function Ut(u,c){return u===function Er(){try{return me.activeElement}catch{}}()==("focus"===c)}function Zr(u,c,d,v,b,w){var D,U;if("object"==typeof c){for(U in"string"!=typeof d&&(v=v||d,d=void 0),c)Zr(u,U,d,v,c[U],w);return u}if(null==v&&null==b?(b=d,v=d=void 0):null==b&&("string"==typeof d?(b=v,v=void 0):(b=v,v=d,d=void 0)),!1===b)b=jr;else if(!b)return u;return 1===w&&(D=b,b=function(W){return C().off(W),D.apply(this,arguments)},b.guid=D.guid||(D.guid=C.guid++)),u.each(function(){C.event.add(this,c,b,v,d)})}function yn(u,c,d){d?(T.set(u,c,!1),C.event.add(u,c,{namespace:!1,handler:function(v){var b,w,D=T.get(this,c);if(1&v.isTrigger&&this[c]){if(D.length)(C.event.special[c]||{}).delegateType&&v.stopPropagation();else if(D=Je.call(arguments),T.set(this,c,D),b=d(this,c),this[c](),D!==(w=T.get(this,c))||b?T.set(this,c,!1):w={},D!==w)return v.stopImmediatePropagation(),v.preventDefault(),w&&w.value}else D.length&&(T.set(this,c,{value:C.event.trigger(C.extend(D[0],C.Event.prototype),D.slice(1),this)}),v.stopImmediatePropagation())}})):void 0===T.get(u,c)&&C.event.add(u,c,be)}C.event={global:{},add:function(u,c,d,v,b){var w,D,U,W,it,gt,xt,ot,mt,Gt,Zt,Ot=T.get(u);if(Re(u))for(d.handler&&(d=(w=d).handler,b=w.selector),b&&C.find.matchesSelector(hn,b),d.guid||(d.guid=C.guid++),(W=Ot.events)||(W=Ot.events=Object.create(null)),(D=Ot.handle)||(D=Ot.handle=function(Ft){return typeof C<"u"&&C.event.triggered!==Ft.type?C.event.dispatch.apply(u,arguments):void 0}),it=(c=(c||"").match(Hn)||[""]).length;it--;)mt=Zt=(U=es.exec(c[it])||[])[1],Gt=(U[2]||"").split(".").sort(),mt&&(xt=C.event.special[mt]||{},xt=C.event.special[mt=(b?xt.delegateType:xt.bindType)||mt]||{},gt=C.extend({type:mt,origType:Zt,data:v,handler:d,guid:d.guid,selector:b,needsContext:b&&C.expr.match.needsContext.test(b),namespace:Gt.join(".")},w),(ot=W[mt])||((ot=W[mt]=[]).delegateCount=0,(!xt.setup||!1===xt.setup.call(u,v,Gt,D))&&u.addEventListener&&u.addEventListener(mt,D)),xt.add&&(xt.add.call(u,gt),gt.handler.guid||(gt.handler.guid=d.guid)),b?ot.splice(ot.delegateCount++,0,gt):ot.push(gt),C.event.global[mt]=!0)},remove:function(u,c,d,v,b){var w,D,U,W,it,gt,xt,ot,mt,Gt,Zt,Ot=T.hasData(u)&&T.get(u);if(Ot&&(W=Ot.events)){for(it=(c=(c||"").match(Hn)||[""]).length;it--;)if(mt=Zt=(U=es.exec(c[it])||[])[1],Gt=(U[2]||"").split(".").sort(),mt){for(xt=C.event.special[mt]||{},ot=W[mt=(v?xt.delegateType:xt.bindType)||mt]||[],U=U[2]&&new RegExp("(^|\\.)"+Gt.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=w=ot.length;w--;)gt=ot[w],(b||Zt===gt.origType)&&(!d||d.guid===gt.guid)&&(!U||U.test(gt.namespace))&&(!v||v===gt.selector||"**"===v&&gt.selector)&&(ot.splice(w,1),gt.selector&&ot.delegateCount--,xt.remove&&xt.remove.call(u,gt));D&&!ot.length&&((!xt.teardown||!1===xt.teardown.call(u,Gt,Ot.handle))&&C.removeEvent(u,mt,Ot.handle),delete W[mt])}else for(mt in W)C.event.remove(u,mt+c[it],d,v,!0);C.isEmptyObject(W)&&T.remove(u,"handle events")}},dispatch:function(u){var c,d,v,b,w,D,U=new Array(arguments.length),W=C.event.fix(u),it=(T.get(this,"events")||Object.create(null))[W.type]||[],gt=C.event.special[W.type]||{};for(U[0]=W,c=1;c<arguments.length;c++)U[c]=arguments[c];if(W.delegateTarget=this,!gt.preDispatch||!1!==gt.preDispatch.call(this,W)){for(D=C.event.handlers.call(this,W,it),c=0;(b=D[c++])&&!W.isPropagationStopped();)for(W.currentTarget=b.elem,d=0;(w=b.handlers[d++])&&!W.isImmediatePropagationStopped();)(!W.rnamespace||!1===w.namespace||W.rnamespace.test(w.namespace))&&(W.handleObj=w,W.data=w.data,void 0!==(v=((C.event.special[w.origType]||{}).handle||w.handler).apply(b.elem,U))&&!1===(W.result=v)&&(W.preventDefault(),W.stopPropagation()));return gt.postDispatch&&gt.postDispatch.call(this,W),W.result}},handlers:function(u,c){var d,v,b,w,D,U=[],W=c.delegateCount,it=u.target;if(W&&it.nodeType&&!("click"===u.type&&u.button>=1))for(;it!==this;it=it.parentNode||this)if(1===it.nodeType&&("click"!==u.type||!0!==it.disabled)){for(w=[],D={},d=0;d<W;d++)void 0===D[b=(v=c[d]).selector+" "]&&(D[b]=v.needsContext?C(b,this).index(it)>-1:C.find(b,this,null,[it]).length),D[b]&&w.push(v);w.length&&U.push({elem:it,handlers:w})}return it=this,W<c.length&&U.push({elem:it,handlers:c.slice(W)}),U},addProp:function(u,c){Object.defineProperty(C.Event.prototype,u,{enumerable:!0,configurable:!0,get:Xt(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[u]},set:function(d){Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,value:d})}})},fix:function(u){return u[C.expando]?u:new C.Event(u)},special:{load:{noBubble:!0},click:{setup:function(u){var c=this||u;return Pr.test(c.type)&&c.click&&Nn(c,"input")&&yn(c,"click",be),!1},trigger:function(u){var c=this||u;return Pr.test(c.type)&&c.click&&Nn(c,"input")&&yn(c,"click"),!0},_default:function(u){var c=u.target;return Pr.test(c.type)&&c.click&&Nn(c,"input")&&T.get(c,"click")||Nn(c,"a")}},beforeunload:{postDispatch:function(u){void 0!==u.result&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}}},C.removeEvent=function(u,c,d){u.removeEventListener&&u.removeEventListener(c,d)},C.Event=function(u,c){if(!(this instanceof C.Event))return new C.Event(u,c);u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||void 0===u.defaultPrevented&&!1===u.returnValue?be:jr,this.target=u.target&&3===u.target.nodeType?u.target.parentNode:u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget):this.type=u,c&&C.extend(this,c),this.timeStamp=u&&u.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:jr,isPropagationStopped:jr,isImmediatePropagationStopped:jr,isSimulated:!1,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=be,u&&!this.isSimulated&&u.preventDefault()},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=be,u&&!this.isSimulated&&u.stopPropagation()},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=be,u&&!this.isSimulated&&u.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(u,c){C.event.special[u]={setup:function(){return yn(this,u,Ut),!1},trigger:function(){return yn(this,u),!0},_default:function(){return!0},delegateType:c}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,c){C.event.special[u]={delegateType:c,bindType:c,handle:function(d){var v,b=this,w=d.relatedTarget,D=d.handleObj;return(!w||w!==b&&!C.contains(b,w))&&(d.type=D.origType,v=D.handler.apply(this,arguments),d.type=c),v}}}),C.fn.extend({on:function(u,c,d,v){return Zr(this,u,c,d,v)},one:function(u,c,d,v){return Zr(this,u,c,d,v,1)},off:function(u,c,d){var v,b;if(u&&u.preventDefault&&u.handleObj)return v=u.handleObj,C(u.delegateTarget).off(v.namespace?v.origType+"."+v.namespace:v.origType,v.selector,v.handler),this;if("object"==typeof u){for(b in u)this.off(b,c,u[b]);return this}return(!1===c||"function"==typeof c)&&(d=c,c=void 0),!1===d&&(d=jr),this.each(function(){C.event.remove(this,u,d,c)})}});var ns=/<script|<style|<link/i,ir=/checked\s*(?:[^=]|=\s*.checked.)/i,Ci=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function li(u,c){return Nn(u,"table")&&Nn(11!==c.nodeType?c:c.firstChild,"tr")&&C(u).children("tbody")[0]||u}function Gi(u){return u.type=(null!==u.getAttribute("type"))+"/"+u.type,u}function Bn(u){return"true/"===(u.type||"").slice(0,5)?u.type=u.type.slice(5):u.removeAttribute("type"),u}function Is(u,c){var d,v,b,D,U,W;if(1===c.nodeType){if(T.hasData(u)&&(W=T.get(u).events))for(b in T.remove(c,"handle events"),W)for(d=0,v=W[b].length;d<v;d++)C.event.add(c,b,W[b][d]);O.hasData(u)&&(D=O.access(u),U=C.extend({},D),O.set(c,U))}}function ua(u,c){var d=c.nodeName.toLowerCase();"input"===d&&Pr.test(u.type)?c.checked=u.checked:("input"===d||"textarea"===d)&&(c.defaultValue=u.defaultValue)}function ni(u,c,d,v){c=Ii(c);var b,w,D,U,W,it,gt=0,xt=u.length,ot=xt-1,mt=c[0],Gt=Xt(mt);if(Gt||xt>1&&"string"==typeof mt&&!we.checkClone&&ir.test(mt))return u.each(function(Zt){var Ot=u.eq(Zt);Gt&&(c[0]=mt.call(this,Zt,Ot.html())),ni(Ot,c,d,v)});if(xt&&(w=(b=Ri(c,u[0].ownerDocument,!1,u,v)).firstChild,1===b.childNodes.length&&(b=w),w||v)){for(U=(D=C.map(Mn(b,"script"),Gi)).length;gt<xt;gt++)W=b,gt!==ot&&(W=C.clone(W,!0,!0),U&&C.merge(D,Mn(W,"script"))),d.call(u[gt],W,gt);if(U)for(it=D[D.length-1].ownerDocument,C.map(D,Bn),gt=0;gt<U;gt++)kr.test((W=D[gt]).type||"")&&!T.access(W,"globalEval")&&C.contains(it,W)&&(W.src&&"module"!==(W.type||"").toLowerCase()?C._evalUrl&&!W.noModule&&C._evalUrl(W.src,{nonce:W.nonce||W.getAttribute("nonce")},it):An(W.textContent.replace(Ci,""),W,it))}return u}function Qn(u,c,d){for(var v,b=c?C.filter(c,u):u,w=0;null!=(v=b[w]);w++)!d&&1===v.nodeType&&C.cleanData(Mn(v)),v.parentNode&&(d&&Te(v)&&ms(Mn(v,"script")),v.parentNode.removeChild(v));return u}C.extend({htmlPrefilter:function(u){return u},clone:function(u,c,d){var v,b,w,D,U=u.cloneNode(!0),W=Te(u);if(!(we.noCloneChecked||1!==u.nodeType&&11!==u.nodeType||C.isXMLDoc(u)))for(D=Mn(U),v=0,b=(w=Mn(u)).length;v<b;v++)ua(w[v],D[v]);if(c)if(d)for(w=w||Mn(u),D=D||Mn(U),v=0,b=w.length;v<b;v++)Is(w[v],D[v]);else Is(u,U);return(D=Mn(U,"script")).length>0&&ms(D,!W&&Mn(u,"script")),U},cleanData:function(u){for(var c,d,v,b=C.event.special,w=0;void 0!==(d=u[w]);w++)if(Re(d)){if(c=d[T.expando]){if(c.events)for(v in c.events)b[v]?C.event.remove(d,v):C.removeEvent(d,v,c.handle);d[T.expando]=void 0}d[O.expando]&&(d[O.expando]=void 0)}}}),C.fn.extend({detach:function(u){return Qn(this,u,!0)},remove:function(u){return Qn(this,u)},text:function(u){return Lr(this,function(c){return void 0===c?C.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=c)})},null,u,arguments.length)},append:function(){return ni(this,arguments,function(u){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||li(this,u).appendChild(u)})},prepend:function(){return ni(this,arguments,function(u){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=li(this,u);c.insertBefore(u,c.firstChild)}})},before:function(){return ni(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return ni(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},empty:function(){for(var u,c=0;null!=(u=this[c]);c++)1===u.nodeType&&(C.cleanData(Mn(u,!1)),u.textContent="");return this},clone:function(u,c){return u=u??!1,c=c??u,this.map(function(){return C.clone(this,u,c)})},html:function(u){return Lr(this,function(c){var d=this[0]||{},v=0,b=this.length;if(void 0===c&&1===d.nodeType)return d.innerHTML;if("string"==typeof c&&!ns.test(c)&&!Ie[(Ai.exec(c)||["",""])[1].toLowerCase()]){c=C.htmlPrefilter(c);try{for(;v<b;v++)1===(d=this[v]||{}).nodeType&&(C.cleanData(Mn(d,!1)),d.innerHTML=c);d=0}catch{}}d&&this.empty().append(c)},null,u,arguments.length)},replaceWith:function(){var u=[];return ni(this,arguments,function(c){var d=this.parentNode;C.inArray(this,u)<0&&(C.cleanData(Mn(this)),d&&d.replaceChild(c,this))},u)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,c){C.fn[u]=function(d){for(var v,b=[],w=C(d),D=w.length-1,U=0;U<=D;U++)v=U===D?this:this.clone(!0),C(w[U])[c](v),Ar.apply(b,v.get());return this.pushStack(b)}});var As=new RegExp("^("+Ht+")(?!px)[a-z%]+$","i"),ri=function(u){var c=u.ownerDocument.defaultView;return(!c||!c.opener)&&(c=G),c.getComputedStyle(u)},Bs=function(u,c,d){var v,b,w={};for(b in c)w[b]=u.style[b],u.style[b]=c[b];for(b in v=d.call(u),c)u.style[b]=w[b];return v},la=new RegExp(Ge.join("|"),"i");function yi(u,c,d){var v,b,w,D,U=u.style;return(d=d||ri(u))&&(""===(D=d.getPropertyValue(c)||d[c])&&!Te(u)&&(D=C.style(u,c)),!we.pixelBoxStyles()&&As.test(D)&&la.test(c)&&(v=U.width,b=U.minWidth,w=U.maxWidth,U.minWidth=U.maxWidth=U.width=D,D=d.width,U.width=v,U.minWidth=b,U.maxWidth=w)),void 0!==D?D+"":D}function ca(u,c){return{get:function(){if(!u())return(this.get=c).apply(this,arguments);delete this.get}}}!function(){function u(){if(it){W.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",it.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",hn.appendChild(W).appendChild(it);var gt=G.getComputedStyle(it);d="1%"!==gt.top,U=12===c(gt.marginLeft),it.style.right="60%",w=36===c(gt.right),v=36===c(gt.width),it.style.position="absolute",b=12===c(it.offsetWidth/3),hn.removeChild(W),it=null}}function c(gt){return Math.round(parseFloat(gt))}var d,v,b,w,D,U,W=me.createElement("div"),it=me.createElement("div");!it.style||(it.style.backgroundClip="content-box",it.cloneNode(!0).style.backgroundClip="",we.clearCloneStyle="content-box"===it.style.backgroundClip,C.extend(we,{boxSizingReliable:function(){return u(),v},pixelBoxStyles:function(){return u(),w},pixelPosition:function(){return u(),d},reliableMarginLeft:function(){return u(),U},scrollboxSize:function(){return u(),b},reliableTrDimensions:function(){var gt,xt,ot,mt;return null==D&&(gt=me.createElement("table"),xt=me.createElement("tr"),ot=me.createElement("div"),gt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",xt.style.cssText="border:1px solid",xt.style.height="1px",ot.style.height="9px",ot.style.display="block",hn.appendChild(gt).appendChild(xt).appendChild(ot),mt=G.getComputedStyle(xt),D=parseInt(mt.height,10)+parseInt(mt.borderTopWidth,10)+parseInt(mt.borderBottomWidth,10)===xt.offsetHeight,hn.removeChild(gt)),D}}))}();var Rs=["Webkit","Moz","ms"],Cs=me.createElement("div").style,Gs={};function wi(u){return C.cssProps[u]||Gs[u]||(u in Cs?u:Gs[u]=function La(u){for(var c=u[0].toUpperCase()+u.slice(1),d=Rs.length;d--;)if((u=Rs[d]+c)in Cs)return u}(u)||u)}var bi=/^(none|table(?!-c[ea]).+)/,ci=/^--/,hr={position:"absolute",visibility:"hidden",display:"block"},fi={letterSpacing:"0",fontWeight:"400"};function fa(u,c,d){var v=Qe.exec(c);return v?Math.max(0,v[2]-(d||0))+(v[3]||"px"):c}function rs(u,c,d,v,b,w){var D="width"===c?1:0,U=0,W=0;if(d===(v?"border":"content"))return 0;for(;D<4;D+=2)"margin"===d&&(W+=C.css(u,d+Ge[D],!0,b)),v?("content"===d&&(W-=C.css(u,"padding"+Ge[D],!0,b)),"margin"!==d&&(W-=C.css(u,"border"+Ge[D]+"Width",!0,b))):(W+=C.css(u,"padding"+Ge[D],!0,b),"padding"!==d?W+=C.css(u,"border"+Ge[D]+"Width",!0,b):U+=C.css(u,"border"+Ge[D]+"Width",!0,b));return!v&&w>=0&&(W+=Math.max(0,Math.ceil(u["offset"+c[0].toUpperCase()+c.slice(1)]-w-W-U-.5))||0),W}function js(u,c,d){var v=ri(u),w=(!we.boxSizingReliable()||d)&&"border-box"===C.css(u,"boxSizing",!1,v),D=w,U=yi(u,c,v),W="offset"+c[0].toUpperCase()+c.slice(1);if(As.test(U)){if(!d)return U;U="auto"}return(!we.boxSizingReliable()&&w||!we.reliableTrDimensions()&&Nn(u,"tr")||"auto"===U||!parseFloat(U)&&"inline"===C.css(u,"display",!1,v))&&u.getClientRects().length&&(w="border-box"===C.css(u,"boxSizing",!1,v),(D=W in u)&&(U=u[W])),(U=parseFloat(U)||0)+rs(u,c,d||(w?"border":"content"),D,v,U)+"px"}function Zn(u,c,d,v,b){return new Zn.prototype.init(u,c,d,v,b)}C.extend({cssHooks:{opacity:{get:function(u,c){if(c){var d=yi(u,"opacity");return""===d?"1":d}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(u,c,d,v){if(u&&3!==u.nodeType&&8!==u.nodeType&&u.style){var b,w,D,U=Y(c),W=ci.test(c),it=u.style;if(W||(c=wi(U)),D=C.cssHooks[c]||C.cssHooks[U],void 0===d)return D&&"get"in D&&void 0!==(b=D.get(u,!1,v))?b:it[c];if("string"==(w=typeof d)&&(b=Qe.exec(d))&&b[1]&&(d=ei(u,c,b),w="number"),null==d||d!=d)return;"number"===w&&!W&&(d+=b&&b[3]||(C.cssNumber[U]?"":"px")),!we.clearCloneStyle&&""===d&&0===c.indexOf("background")&&(it[c]="inherit"),(!D||!("set"in D)||void 0!==(d=D.set(u,d,v)))&&(W?it.setProperty(c,d):it[c]=d)}},css:function(u,c,d,v){var b,w,D,U=Y(c);return ci.test(c)||(c=wi(U)),(D=C.cssHooks[c]||C.cssHooks[U])&&"get"in D&&(b=D.get(u,!0,d)),void 0===b&&(b=yi(u,c,v)),"normal"===b&&c in fi&&(b=fi[c]),""===d||d?(w=parseFloat(b),!0===d||isFinite(w)?w||0:b):b}}),C.each(["height","width"],function(u,c){C.cssHooks[c]={get:function(d,v,b){if(v)return!bi.test(C.css(d,"display"))||d.getClientRects().length&&d.getBoundingClientRect().width?js(d,c,b):Bs(d,hr,function(){return js(d,c,b)})},set:function(d,v,b){var w,D=ri(d),U=!we.scrollboxSize()&&"absolute"===D.position,it=(U||b)&&"border-box"===C.css(d,"boxSizing",!1,D),gt=b?rs(d,c,b,it,D):0;return it&&U&&(gt-=Math.ceil(d["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(D[c])-rs(d,c,"border",!1,D)-.5)),gt&&(w=Qe.exec(v))&&"px"!==(w[3]||"px")&&(d.style[c]=v,v=C.css(d,c)),fa(0,v,gt)}}}),C.cssHooks.marginLeft=ca(we.reliableMarginLeft,function(u,c){if(c)return(parseFloat(yi(u,"marginLeft"))||u.getBoundingClientRect().left-Bs(u,{marginLeft:0},function(){return u.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(u,c){C.cssHooks[u+c]={expand:function(d){for(var v=0,b={},w="string"==typeof d?d.split(" "):[d];v<4;v++)b[u+Ge[v]+c]=w[v]||w[v-2]||w[0];return b}},"margin"!==u&&(C.cssHooks[u+c].set=fa)}),C.fn.extend({css:function(u,c){return Lr(this,function(d,v,b){var w,D,U={},W=0;if(Array.isArray(v)){for(w=ri(d),D=v.length;W<D;W++)U[v[W]]=C.css(d,v[W],!1,w);return U}return void 0!==b?C.style(d,v,b):C.css(d,v)},u,c,arguments.length>1)}}),C.Tween=Zn,(Zn.prototype={constructor:Zn,init:function(u,c,d,v,b,w){this.elem=u,this.prop=d,this.easing=b||C.easing._default,this.options=c,this.start=this.now=this.cur(),this.end=v,this.unit=w||(C.cssNumber[d]?"":"px")},cur:function(){var u=Zn.propHooks[this.prop];return u&&u.get?u.get(this):Zn.propHooks._default.get(this)},run:function(u){var c,d=Zn.propHooks[this.prop];return this.pos=c=this.options.duration?C.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):u,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):Zn.propHooks._default.set(this),this}}).init.prototype=Zn.prototype,(Zn.propHooks={_default:{get:function(u){var c;return 1!==u.elem.nodeType||null!=u.elem[u.prop]&&null==u.elem.style[u.prop]?u.elem[u.prop]:(c=C.css(u.elem,u.prop,""))&&"auto"!==c?c:0},set:function(u){C.fx.step[u.prop]?C.fx.step[u.prop](u):1!==u.elem.nodeType||!C.cssHooks[u.prop]&&null==u.elem.style[wi(u.prop)]?u.elem[u.prop]=u.now:C.style(u.elem,u.prop,u.now+u.unit)}}}).scrollTop=Zn.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},C.easing={linear:function(u){return u},swing:function(u){return.5-Math.cos(u*Math.PI)/2},_default:"swing"},C.fx=Zn.prototype.init,C.fx.step={};var hi,ji,ha=/^(?:toggle|show|hide)$/,ga=/queueHooks$/;function Zi(){ji&&(!1===me.hidden&&G.requestAnimationFrame?G.requestAnimationFrame(Zi):G.setTimeout(Zi,C.fx.interval),C.fx.tick())}function ys(){return G.setTimeout(function(){hi=void 0}),hi=Date.now()}function Wi(u,c){var d,v=0,b={height:u};for(c=c?1:0;v<4;v+=2-c)b["margin"+(d=Ge[v])]=b["padding"+d]=u;return c&&(b.opacity=b.width=u),b}function xi(u,c,d){for(var v,b=(Rn.tweeners[c]||[]).concat(Rn.tweeners["*"]),w=0,D=b.length;w<D;w++)if(v=b[w].call(d,c,u))return v}function Rn(u,c,d){var v,b,w=0,D=Rn.prefilters.length,U=C.Deferred().always(function(){delete W.elem}),W=function(){if(b)return!1;for(var xt=hi||ys(),ot=Math.max(0,it.startTime+it.duration-xt),Gt=1-(ot/it.duration||0),Zt=0,Ot=it.tweens.length;Zt<Ot;Zt++)it.tweens[Zt].run(Gt);return U.notifyWith(u,[it,Gt,ot]),Gt<1&&Ot?ot:(Ot||U.notifyWith(u,[it,1,0]),U.resolveWith(u,[it]),!1)},it=U.promise({elem:u,props:C.extend({},c),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},d),originalProperties:c,originalOptions:d,startTime:hi||ys(),duration:d.duration,tweens:[],createTween:function(xt,ot){var mt=C.Tween(u,it.opts,xt,ot,it.opts.specialEasing[xt]||it.opts.easing);return it.tweens.push(mt),mt},stop:function(xt){var ot=0,mt=xt?it.tweens.length:0;if(b)return this;for(b=!0;ot<mt;ot++)it.tweens[ot].run(1);return xt?(U.notifyWith(u,[it,1,0]),U.resolveWith(u,[it,xt])):U.rejectWith(u,[it,xt]),this}}),gt=it.props;for(function Pa(u,c){var d,v,b,w,D;for(d in u)if(b=c[v=Y(d)],w=u[d],Array.isArray(w)&&(b=w[1],w=u[d]=w[0]),d!==v&&(u[v]=w,delete u[d]),(D=C.cssHooks[v])&&"expand"in D)for(d in w=D.expand(w),delete u[v],w)d in u||(u[d]=w[d],c[d]=b);else c[v]=b}(gt,it.opts.specialEasing);w<D;w++)if(v=Rn.prefilters[w].call(it,u,gt,it.opts))return Xt(v.stop)&&(C._queueHooks(it.elem,it.opts.queue).stop=v.stop.bind(v)),v;return C.map(gt,xi,it),Xt(it.opts.start)&&it.opts.start.call(u,it),it.progress(it.opts.progress).done(it.opts.done,it.opts.complete).fail(it.opts.fail).always(it.opts.always),C.fx.timer(C.extend(W,{elem:u,anim:it,queue:it.opts.queue})),it}C.Animation=C.extend(Rn,{tweeners:{"*":[function(u,c){var d=this.createTween(u,c);return ei(d.elem,u,Qe.exec(c),d),d}]},tweener:function(u,c){Xt(u)?(c=u,u=["*"]):u=u.match(Hn);for(var d,v=0,b=u.length;v<b;v++)(Rn.tweeners[d=u[v]]=Rn.tweeners[d]||[]).unshift(c)},prefilters:[function Zs(u,c,d){var v,b,w,D,U,W,it,gt,xt="width"in c||"height"in c,ot=this,mt={},Gt=u.style,Zt=u.nodeType&&Jn(u),Ot=T.get(u,"fxshow");for(v in d.queue||(null==(D=C._queueHooks(u,"fx")).unqueued&&(D.unqueued=0,U=D.empty.fire,D.empty.fire=function(){D.unqueued||U()}),D.unqueued++,ot.always(function(){ot.always(function(){D.unqueued--,C.queue(u,"fx").length||D.empty.fire()})})),c)if(ha.test(b=c[v])){if(delete c[v],w=w||"toggle"===b,b===(Zt?"hide":"show")){if("show"!==b||!Ot||void 0===Ot[v])continue;Zt=!0}mt[v]=Ot&&Ot[v]||C.style(u,v)}if((W=!C.isEmptyObject(c))||!C.isEmptyObject(mt))for(v in xt&&1===u.nodeType&&(d.overflow=[Gt.overflow,Gt.overflowX,Gt.overflowY],null==(it=Ot&&Ot.display)&&(it=T.get(u,"display")),"none"===(gt=C.css(u,"display"))&&(it?gt=it:(On([u],!0),it=u.style.display||it,gt=C.css(u,"display"),On([u]))),("inline"===gt||"inline-block"===gt&&null!=it)&&"none"===C.css(u,"float")&&(W||(ot.done(function(){Gt.display=it}),null==it&&(it="none"===(gt=Gt.display)?"":gt)),Gt.display="inline-block")),d.overflow&&(Gt.overflow="hidden",ot.always(function(){Gt.overflow=d.overflow[0],Gt.overflowX=d.overflow[1],Gt.overflowY=d.overflow[2]})),W=!1,mt)W||(Ot?"hidden"in Ot&&(Zt=Ot.hidden):Ot=T.access(u,"fxshow",{display:it}),w&&(Ot.hidden=!Zt),Zt&&On([u],!0),ot.done(function(){for(v in Zt||On([u]),T.remove(u,"fxshow"),mt)C.style(u,v,mt[v])})),W=xi(Zt?Ot[v]:0,v,ot),v in Ot||(Ot[v]=W.start,Zt&&(W.end=W.start,W.start=0))}],prefilter:function(u,c){c?Rn.prefilters.unshift(u):Rn.prefilters.push(u)}}),C.speed=function(u,c,d){var v=u&&"object"==typeof u?C.extend({},u):{complete:d||!d&&c||Xt(u)&&u,duration:u,easing:d&&c||c&&!Xt(c)&&c};return C.fx.off?v.duration=0:"number"!=typeof v.duration&&(v.duration=v.duration in C.fx.speeds?C.fx.speeds[v.duration]:C.fx.speeds._default),(null==v.queue||!0===v.queue)&&(v.queue="fx"),v.old=v.complete,v.complete=function(){Xt(v.old)&&v.old.call(this),v.queue&&C.dequeue(this,v.queue)},v},C.fn.extend({fadeTo:function(u,c,d,v){return this.filter(Jn).css("opacity",0).show().end().animate({opacity:c},u,d,v)},animate:function(u,c,d,v){var b=C.isEmptyObject(u),w=C.speed(c,d,v),D=function(){var U=Rn(this,C.extend({},u),w);(b||T.get(this,"finish"))&&U.stop(!0)};return D.finish=D,b||!1===w.queue?this.each(D):this.queue(w.queue,D)},stop:function(u,c,d){var v=function(b){var w=b.stop;delete b.stop,w(d)};return"string"!=typeof u&&(d=c,c=u,u=void 0),c&&this.queue(u||"fx",[]),this.each(function(){var b=!0,w=null!=u&&u+"queueHooks",D=C.timers,U=T.get(this);if(w)U[w]&&U[w].stop&&v(U[w]);else for(w in U)U[w]&&U[w].stop&&ga.test(w)&&v(U[w]);for(w=D.length;w--;)D[w].elem===this&&(null==u||D[w].queue===u)&&(D[w].anim.stop(d),b=!1,D.splice(w,1));(b||!d)&&C.dequeue(this,u)})},finish:function(u){return!1!==u&&(u=u||"fx"),this.each(function(){var c,d=T.get(this),v=d[u+"queue"],b=d[u+"queueHooks"],w=C.timers,D=v?v.length:0;for(d.finish=!0,C.queue(this,u,[]),b&&b.stop&&b.stop.call(this,!0),c=w.length;c--;)w[c].elem===this&&w[c].queue===u&&(w[c].anim.stop(!0),w.splice(c,1));for(c=0;c<D;c++)v[c]&&v[c].finish&&v[c].finish.call(this);delete d.finish})}}),C.each(["toggle","show","hide"],function(u,c){var d=C.fn[c];C.fn[c]=function(v,b,w){return null==v||"boolean"==typeof v?d.apply(this,arguments):this.animate(Wi(c,!0),v,b,w)}}),C.each({slideDown:Wi("show"),slideUp:Wi("hide"),slideToggle:Wi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,c){C.fn[u]=function(d,v,b){return this.animate(c,d,v,b)}}),C.timers=[],C.fx.tick=function(){var u,c=0,d=C.timers;for(hi=Date.now();c<d.length;c++)!(u=d[c])()&&d[c]===u&&d.splice(c--,1);d.length||C.fx.stop(),hi=void 0},C.fx.timer=function(u){C.timers.push(u),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ji||(ji=!0,Zi())},C.fx.stop=function(){ji=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(u,c){return u=C.fx&&C.fx.speeds[u]||u,this.queue(c=c||"fx",function(d,v){var b=G.setTimeout(d,u);v.stop=function(){G.clearTimeout(b)}})},function(){var u=me.createElement("input"),d=me.createElement("select").appendChild(me.createElement("option"));u.type="checkbox",we.checkOn=""!==u.value,we.optSelected=d.selected,(u=me.createElement("input")).value="t",u.type="radio",we.radioValue="t"===u.value}();var Wn,Wr=C.expr.attrHandle;C.fn.extend({attr:function(u,c){return Lr(this,C.attr,u,c,arguments.length>1)},removeAttr:function(u){return this.each(function(){C.removeAttr(this,u)})}}),C.extend({attr:function(u,c,d){var v,b,w=u.nodeType;if(3!==w&&8!==w&&2!==w)return typeof u.getAttribute>"u"?C.prop(u,c,d):((1!==w||!C.isXMLDoc(u))&&(b=C.attrHooks[c.toLowerCase()]||(C.expr.match.bool.test(c)?Wn:void 0)),void 0!==d?null===d?void C.removeAttr(u,c):b&&"set"in b&&void 0!==(v=b.set(u,d,c))?v:(u.setAttribute(c,d+""),d):b&&"get"in b&&null!==(v=b.get(u,c))?v:(v=C.find.attr(u,c))??void 0)},attrHooks:{type:{set:function(u,c){if(!we.radioValue&&"radio"===c&&Nn(u,"input")){var d=u.value;return u.setAttribute("type",c),d&&(u.value=d),c}}}},removeAttr:function(u,c){var d,v=0,b=c&&c.match(Hn);if(b&&1===u.nodeType)for(;d=b[v++];)u.removeAttribute(d)}}),Wn={set:function(u,c,d){return!1===c?C.removeAttr(u,d):u.setAttribute(d,d),d}},C.each(C.expr.match.bool.source.match(/\w+/g),function(u,c){var d=Wr[c]||C.find.attr;Wr[c]=function(v,b,w){var D,U,W=b.toLowerCase();return w||(U=Wr[W],Wr[W]=D,D=null!=d(v,b,w)?W:null,Wr[W]=U),D}});var ka=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function un(u){return(u.match(Hn)||[]).join(" ")}function oe(u){return u.getAttribute&&u.getAttribute("class")||""}function Ne(u){return Array.isArray(u)?u:"string"==typeof u&&u.match(Hn)||[]}C.fn.extend({prop:function(u,c){return Lr(this,C.prop,u,c,arguments.length>1)},removeProp:function(u){return this.each(function(){delete this[C.propFix[u]||u]})}}),C.extend({prop:function(u,c,d){var v,b,w=u.nodeType;if(3!==w&&8!==w&&2!==w)return(1!==w||!C.isXMLDoc(u))&&(b=C.propHooks[c=C.propFix[c]||c]),void 0!==d?b&&"set"in b&&void 0!==(v=b.set(u,d,c))?v:u[c]=d:b&&"get"in b&&null!==(v=b.get(u,c))?v:u[c]},propHooks:{tabIndex:{get:function(u){var c=C.find.attr(u,"tabindex");return c?parseInt(c,10):ka.test(u.nodeName)||pt.test(u.nodeName)&&u.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),we.optSelected||(C.propHooks.selected={get:function(u){return null},set:function(u){}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(u){var c,d,v,b,w,D,U,W=0;if(Xt(u))return this.each(function(it){C(this).addClass(u.call(this,it,oe(this)))});if((c=Ne(u)).length)for(;d=this[W++];)if(b=oe(d),v=1===d.nodeType&&" "+un(b)+" "){for(D=0;w=c[D++];)v.indexOf(" "+w+" ")<0&&(v+=w+" ");b!==(U=un(v))&&d.setAttribute("class",U)}return this},removeClass:function(u){var c,d,v,b,w,D,U,W=0;if(Xt(u))return this.each(function(it){C(this).removeClass(u.call(this,it,oe(this)))});if(!arguments.length)return this.attr("class","");if((c=Ne(u)).length)for(;d=this[W++];)if(b=oe(d),v=1===d.nodeType&&" "+un(b)+" "){for(D=0;w=c[D++];)for(;v.indexOf(" "+w+" ")>-1;)v=v.replace(" "+w+" "," ");b!==(U=un(v))&&d.setAttribute("class",U)}return this},toggleClass:function(u,c){var d=typeof u,v="string"===d||Array.isArray(u);return"boolean"==typeof c&&v?c?this.addClass(u):this.removeClass(u):Xt(u)?this.each(function(b){C(this).toggleClass(u.call(this,b,oe(this),c),c)}):this.each(function(){var b,w,D,U;if(v)for(w=0,D=C(this),U=Ne(u);b=U[w++];)D.hasClass(b)?D.removeClass(b):D.addClass(b);else(void 0===u||"boolean"===d)&&((b=oe(this))&&T.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===u?"":T.get(this,"__className__")||""))})},hasClass:function(u){var c,d,v=0;for(c=" "+u+" ";d=this[v++];)if(1===d.nodeType&&(" "+un(oe(d))+" ").indexOf(c)>-1)return!0;return!1}});var sr=/\r/g;C.fn.extend({val:function(u){var c,d,v,b=this[0];return arguments.length?(v=Xt(u),this.each(function(w){var D;1===this.nodeType&&(null==(D=v?u.call(this,w,C(this).val()):u)?D="":"number"==typeof D?D+="":Array.isArray(D)&&(D=C.map(D,function(U){return null==U?"":U+""})),(!(c=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])||!("set"in c)||void 0===c.set(this,D,"value"))&&(this.value=D))})):b?(c=C.valHooks[b.type]||C.valHooks[b.nodeName.toLowerCase()])&&"get"in c&&void 0!==(d=c.get(b,"value"))?d:"string"==typeof(d=b.value)?d.replace(sr,""):d??"":void 0}}),C.extend({valHooks:{option:{get:function(u){return C.find.attr(u,"value")??un(C.text(u))}},select:{get:function(u){var c,d,v,b=u.options,w=u.selectedIndex,D="select-one"===u.type,U=D?null:[],W=D?w+1:b.length;for(v=w<0?W:D?w:0;v<W;v++)if(((d=b[v]).selected||v===w)&&!d.disabled&&(!d.parentNode.disabled||!Nn(d.parentNode,"optgroup"))){if(c=C(d).val(),D)return c;U.push(c)}return U},set:function(u,c){for(var d,v,b=u.options,w=C.makeArray(c),D=b.length;D--;)((v=b[D]).selected=C.inArray(C.valHooks.option.get(v),w)>-1)&&(d=!0);return d||(u.selectedIndex=-1),w}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(u,c){if(Array.isArray(c))return u.checked=C.inArray(C(u).val(),c)>-1}},we.checkOn||(C.valHooks[this].get=function(u){return null===u.getAttribute("value")?"on":u.value})}),we.focusin="onfocusin"in G;var wn=/^(?:focusinfocus|focusoutblur)$/,_i=function(u){u.stopPropagation()};C.extend(C.event,{trigger:function(u,c,d,v){var b,w,D,U,W,it,gt,xt,ot=[d||me],mt=Xn.call(u,"type")?u.type:u,Gt=Xn.call(u,"namespace")?u.namespace.split("."):[];if(w=xt=D=d=d||me,3!==d.nodeType&&8!==d.nodeType&&!wn.test(mt+C.event.triggered)&&(mt.indexOf(".")>-1&&(Gt=mt.split("."),mt=Gt.shift(),Gt.sort()),W=mt.indexOf(":")<0&&"on"+mt,(u=u[C.expando]?u:new C.Event(mt,"object"==typeof u&&u)).isTrigger=v?2:3,u.namespace=Gt.join("."),u.rnamespace=u.namespace?new RegExp("(^|\\.)"+Gt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=d),c=null==c?[u]:C.makeArray(c,[u]),gt=C.event.special[mt]||{},v||!gt.trigger||!1!==gt.trigger.apply(d,c))){if(!v&&!gt.noBubble&&!_n(d)){for(wn.test((U=gt.delegateType||mt)+mt)||(w=w.parentNode);w;w=w.parentNode)ot.push(w),D=w;D===(d.ownerDocument||me)&&ot.push(D.defaultView||D.parentWindow||G)}for(b=0;(w=ot[b++])&&!u.isPropagationStopped();)xt=w,u.type=b>1?U:gt.bindType||mt,(it=(T.get(w,"events")||Object.create(null))[u.type]&&T.get(w,"handle"))&&it.apply(w,c),(it=W&&w[W])&&it.apply&&Re(w)&&(u.result=it.apply(w,c),!1===u.result&&u.preventDefault());return u.type=mt,!v&&!u.isDefaultPrevented()&&(!gt._default||!1===gt._default.apply(ot.pop(),c))&&Re(d)&&W&&Xt(d[mt])&&!_n(d)&&((D=d[W])&&(d[W]=null),C.event.triggered=mt,u.isPropagationStopped()&&xt.addEventListener(mt,_i),d[mt](),u.isPropagationStopped()&&xt.removeEventListener(mt,_i),C.event.triggered=void 0,D&&(d[W]=D)),u.result}},simulate:function(u,c,d){var v=C.extend(new C.Event,d,{type:u,isSimulated:!0});C.event.trigger(v,null,c)}}),C.fn.extend({trigger:function(u,c){return this.each(function(){C.event.trigger(u,c,this)})},triggerHandler:function(u,c){var d=this[0];if(d)return C.event.trigger(u,c,d,!0)}}),we.focusin||C.each({focus:"focusin",blur:"focusout"},function(u,c){var d=function(v){C.event.simulate(c,v.target,C.event.fix(v))};C.event.special[c]={setup:function(){var v=this.ownerDocument||this.document||this,b=T.access(v,c);b||v.addEventListener(u,d,!0),T.access(v,c,(b||0)+1)},teardown:function(){var v=this.ownerDocument||this.document||this,b=T.access(v,c)-1;b?T.access(v,c,b):(v.removeEventListener(u,d,!0),T.remove(v,c))}}});var _r=G.location,Yi={guid:Date.now()},Ui=/\?/;C.parseXML=function(u){var c,d;if(!u||"string"!=typeof u)return null;try{c=(new G.DOMParser).parseFromString(u,"text/xml")}catch{}return d=c&&c.getElementsByTagName("parsererror")[0],(!c||d)&&C.error("Invalid XML: "+(d?C.map(d.childNodes,function(v){return v.textContent}).join("\n"):u)),c};var Ws=/\[\]$/,is=/\r?\n/g,ss=/^(?:submit|button|image|reset|file)$/i,Ea=/^(?:input|select|textarea|keygen)/i;function da(u,c,d,v){var b;if(Array.isArray(c))C.each(c,function(w,D){d||Ws.test(u)?v(u,D):da(u+"["+("object"==typeof D&&null!=D?w:"")+"]",D,d,v)});else if(d||"object"!==fn(c))v(u,c);else for(b in c)da(u+"["+b+"]",c[b],d,v)}C.param=function(u,c){var d,v=[],b=function(w,D){var U=Xt(D)?D():D;v[v.length]=encodeURIComponent(w)+"="+encodeURIComponent(U??"")};if(null==u)return"";if(Array.isArray(u)||u.jquery&&!C.isPlainObject(u))C.each(u,function(){b(this.name,this.value)});else for(d in u)da(d,u[d],c,b);return v.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=C.prop(this,"elements");return u?C.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!C(this).is(":disabled")&&Ea.test(this.nodeName)&&!ss.test(u)&&(this.checked||!Pr.test(u))}).map(function(u,c){var d=C(this).val();return null==d?null:Array.isArray(d)?C.map(d,function(v){return{name:c.name,value:v.replace(is,"\r\n")}}):{name:c.name,value:d.replace(is,"\r\n")}}).get()}});var ws=/%20/g,Ka=/#.*$/,sn=/([?&])_=[^&]*/,_s=/^(.*?):[ \t]*([^\r\n]*)$/gm,qa=/^(?:GET|HEAD)$/,Yn=/^\/\//,Fi={},bs={},za="*/".concat("*"),xs=me.createElement("a");function $a(u){return function(c,d){"string"!=typeof c&&(d=c,c="*");var v,b=0,w=c.toLowerCase().match(Hn)||[];if(Xt(d))for(;v=w[b++];)"+"===v[0]?(v=v.slice(1)||"*",(u[v]=u[v]||[]).unshift(d)):(u[v]=u[v]||[]).push(d)}}function Ys(u,c,d,v){var b={},w=u===bs;function D(U){var W;return b[U]=!0,C.each(u[U]||[],function(it,gt){var xt=gt(c,d,v);return"string"!=typeof xt||w||b[xt]?w?!(W=xt):void 0:(c.dataTypes.unshift(xt),D(xt),!1)}),W}return D(c.dataTypes[0])||!b["*"]&&D("*")}function an(u,c){var d,v,b=C.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((b[d]?u:v||(v={}))[d]=c[d]);return v&&C.extend(!0,u,v),u}xs.href=_r.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_r.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_r.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":za,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,c){return c?an(an(u,C.ajaxSettings),c):an(C.ajaxSettings,u)},ajaxPrefilter:$a(Fi),ajaxTransport:$a(bs),ajax:function(u,c){"object"==typeof u&&(c=u,u=void 0);var d,v,b,w,D,U,W,it,gt,xt,ot=C.ajaxSetup({},c=c||{}),mt=ot.context||ot,Gt=ot.context&&(mt.nodeType||mt.jquery)?C(mt):C.event,Zt=C.Deferred(),Ot=C.Callbacks("once memory"),Ft=ot.statusCode||{},Tn={},yr={},le="canceled",ne={readyState:0,getResponseHeader:function(ze){var bn;if(W){if(!w)for(w={};bn=_s.exec(b);)w[bn[1].toLowerCase()+" "]=(w[bn[1].toLowerCase()+" "]||[]).concat(bn[2]);bn=w[ze.toLowerCase()+" "]}return null==bn?null:bn.join(", ")},getAllResponseHeaders:function(){return W?b:null},setRequestHeader:function(ze,bn){return null==W&&(ze=yr[ze.toLowerCase()]=yr[ze.toLowerCase()]||ze,Tn[ze]=bn),this},overrideMimeType:function(ze){return null==W&&(ot.mimeType=ze),this},statusCode:function(ze){var bn;if(ze)if(W)ne.always(ze[ne.status]);else for(bn in ze)Ft[bn]=[Ft[bn],ze[bn]];return this},abort:function(ze){var bn=ze||le;return d&&d.abort(bn),Kn(0,bn),this}};if(Zt.promise(ne),ot.url=((u||ot.url||_r.href)+"").replace(Yn,_r.protocol+"//"),ot.type=c.method||c.type||ot.method||ot.type,ot.dataTypes=(ot.dataType||"*").toLowerCase().match(Hn)||[""],null==ot.crossDomain){U=me.createElement("a");try{U.href=ot.url,U.href=U.href,ot.crossDomain=xs.protocol+"//"+xs.host!=U.protocol+"//"+U.host}catch{ot.crossDomain=!0}}if(ot.data&&ot.processData&&"string"!=typeof ot.data&&(ot.data=C.param(ot.data,ot.traditional)),Ys(Fi,ot,c,ne),W)return ne;for(gt in(it=C.event&&ot.global)&&0==C.active++&&C.event.trigger("ajaxStart"),ot.type=ot.type.toUpperCase(),ot.hasContent=!qa.test(ot.type),v=ot.url.replace(Ka,""),ot.hasContent?ot.data&&ot.processData&&0===(ot.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ot.data=ot.data.replace(ws,"+")):(xt=ot.url.slice(v.length),ot.data&&(ot.processData||"string"==typeof ot.data)&&(v+=(Ui.test(v)?"&":"?")+ot.data,delete ot.data),!1===ot.cache&&(v=v.replace(sn,"$1"),xt=(Ui.test(v)?"&":"?")+"_="+Yi.guid+++xt),ot.url=v+xt),ot.ifModified&&(C.lastModified[v]&&ne.setRequestHeader("If-Modified-Since",C.lastModified[v]),C.etag[v]&&ne.setRequestHeader("If-None-Match",C.etag[v])),(ot.data&&ot.hasContent&&!1!==ot.contentType||c.contentType)&&ne.setRequestHeader("Content-Type",ot.contentType),ne.setRequestHeader("Accept",ot.dataTypes[0]&&ot.accepts[ot.dataTypes[0]]?ot.accepts[ot.dataTypes[0]]+("*"!==ot.dataTypes[0]?", "+za+"; q=0.01":""):ot.accepts["*"]),ot.headers)ne.setRequestHeader(gt,ot.headers[gt]);if(ot.beforeSend&&(!1===ot.beforeSend.call(mt,ne,ot)||W))return ne.abort();if(le="abort",Ot.add(ot.complete),ne.done(ot.success),ne.fail(ot.error),d=Ys(bs,ot,c,ne)){if(ne.readyState=1,it&&Gt.trigger("ajaxSend",[ne,ot]),W)return ne;ot.async&&ot.timeout>0&&(D=G.setTimeout(function(){ne.abort("timeout")},ot.timeout));try{W=!1,d.send(Tn,Kn)}catch(ze){if(W)throw ze;Kn(-1,ze)}}else Kn(-1,"No Transport");function Kn(ze,bn,Ns,Yr){var Ve,wr,Ni,qn,Un,Ur=bn;W||(W=!0,D&&G.clearTimeout(D),d=void 0,b=Yr||"",ne.readyState=ze>0?4:0,Ve=ze>=200&&ze<300||304===ze,Ns&&(qn=function $e(u,c,d){for(var v,b,w,D,U=u.contents,W=u.dataTypes;"*"===W[0];)W.shift(),void 0===v&&(v=u.mimeType||c.getResponseHeader("Content-Type"));if(v)for(b in U)if(U[b]&&U[b].test(v)){W.unshift(b);break}if(W[0]in d)w=W[0];else{for(b in d){if(!W[0]||u.converters[b+" "+W[0]]){w=b;break}D||(D=b)}w=w||D}if(w)return w!==W[0]&&W.unshift(w),d[w]}(ot,ne,Ns)),!Ve&&C.inArray("script",ot.dataTypes)>-1&&C.inArray("json",ot.dataTypes)<0&&(ot.converters["text script"]=function(){}),qn=function Oa(u,c,d,v){var b,w,D,U,W,it={},gt=u.dataTypes.slice();if(gt[1])for(D in u.converters)it[D.toLowerCase()]=u.converters[D];for(w=gt.shift();w;)if(u.responseFields[w]&&(d[u.responseFields[w]]=c),!W&&v&&u.dataFilter&&(c=u.dataFilter(c,u.dataType)),W=w,w=gt.shift())if("*"===w)w=W;else if("*"!==W&&W!==w){if(!(D=it[W+" "+w]||it["* "+w]))for(b in it)if((U=b.split(" "))[1]===w&&(D=it[W+" "+U[0]]||it["* "+U[0]])){!0===D?D=it[b]:!0!==it[b]&&(w=U[0],gt.unshift(U[1]));break}if(!0!==D)if(D&&u.throws)c=D(c);else try{c=D(c)}catch(xt){return{state:"parsererror",error:D?xt:"No conversion from "+W+" to "+w}}}return{state:"success",data:c}}(ot,qn,ne,Ve),Ve?(ot.ifModified&&((Un=ne.getResponseHeader("Last-Modified"))&&(C.lastModified[v]=Un),(Un=ne.getResponseHeader("etag"))&&(C.etag[v]=Un)),204===ze||"HEAD"===ot.type?Ur="nocontent":304===ze?Ur="notmodified":(Ur=qn.state,wr=qn.data,Ve=!(Ni=qn.error))):(Ni=Ur,(ze||!Ur)&&(Ur="error",ze<0&&(ze=0))),ne.status=ze,ne.statusText=(bn||Ur)+"",Ve?Zt.resolveWith(mt,[wr,Ur,ne]):Zt.rejectWith(mt,[ne,Ur,Ni]),ne.statusCode(Ft),Ft=void 0,it&&Gt.trigger(Ve?"ajaxSuccess":"ajaxError",[ne,ot,Ve?wr:Ni]),Ot.fireWith(mt,[ne,Ur]),it&&(Gt.trigger("ajaxComplete",[ne,ot]),--C.active||C.event.trigger("ajaxStop")))}return ne},getJSON:function(u,c,d){return C.get(u,c,d,"json")},getScript:function(u,c){return C.get(u,void 0,c,"script")}}),C.each(["get","post"],function(u,c){C[c]=function(d,v,b,w){return Xt(v)&&(w=w||b,b=v,v=void 0),C.ajax(C.extend({url:d,type:c,dataType:w,data:v,success:b},C.isPlainObject(d)&&d))}}),C.ajaxPrefilter(function(u){var c;for(c in u.headers)"content-type"===c.toLowerCase()&&(u.contentType=u.headers[c]||"")}),C._evalUrl=function(u,c,d){return C.ajax({url:u,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(v){C.globalEval(v,c,d)}})},C.fn.extend({wrapAll:function(u){var c;return this[0]&&(Xt(u)&&(u=u.call(this[0])),c=C(u,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var d=this;d.firstElementChild;)d=d.firstElementChild;return d}).append(this)),this},wrapInner:function(u){return Xt(u)?this.each(function(c){C(this).wrapInner(u.call(this,c))}):this.each(function(){var c=C(this),d=c.contents();d.length?d.wrapAll(u):c.append(u)})},wrap:function(u){var c=Xt(u);return this.each(function(d){C(this).wrapAll(c?u.call(this,d):u)})},unwrap:function(u){return this.parent(u).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(u){return!C.expr.pseudos.visible(u)},C.expr.pseudos.visible=function(u){return!!(u.offsetWidth||u.offsetHeight||u.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new G.XMLHttpRequest}catch{}};var Ba={0:200,1223:204},x=C.ajaxSettings.xhr();we.cors=!!x&&"withCredentials"in x,we.ajax=x=!!x,C.ajaxTransport(function(u){var c,d;if(we.cors||x&&!u.crossDomain)return{send:function(v,b){var w,D=u.xhr();if(D.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(w in u.xhrFields)D[w]=u.xhrFields[w];for(w in u.mimeType&&D.overrideMimeType&&D.overrideMimeType(u.mimeType),!u.crossDomain&&!v["X-Requested-With"]&&(v["X-Requested-With"]="XMLHttpRequest"),v)D.setRequestHeader(w,v[w]);c=function(U){return function(){c&&(c=d=D.onload=D.onerror=D.onabort=D.ontimeout=D.onreadystatechange=null,"abort"===U?D.abort():"error"===U?"number"!=typeof D.status?b(0,"error"):b(D.status,D.statusText):b(Ba[D.status]||D.status,D.statusText,"text"!==(D.responseType||"text")||"string"!=typeof D.responseText?{binary:D.response}:{text:D.responseText},D.getAllResponseHeaders()))}},D.onload=c(),d=D.onerror=D.ontimeout=c("error"),void 0!==D.onabort?D.onabort=d:D.onreadystatechange=function(){4===D.readyState&&G.setTimeout(function(){c&&d()})},c=c("abort");try{D.send(u.hasContent&&u.data||null)}catch(U){if(c)throw U}},abort:function(){c&&c()}}}),C.ajaxPrefilter(function(u){u.crossDomain&&(u.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(u){return C.globalEval(u),u}}}),C.ajaxPrefilter("script",function(u){void 0===u.cache&&(u.cache=!1),u.crossDomain&&(u.type="GET")}),C.ajaxTransport("script",function(u){var c,d;if(u.crossDomain||u.scriptAttrs)return{send:function(v,b){c=C("<script>").attr(u.scriptAttrs||{}).prop({charset:u.scriptCharset,src:u.url}).on("load error",d=function(w){c.remove(),d=null,w&&b("error"===w.type?404:200,w.type)}),me.head.appendChild(c[0])},abort:function(){d&&d()}}});var u,k=[],_=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=k.pop()||C.expando+"_"+Yi.guid++;return this[u]=!0,u}}),C.ajaxPrefilter("json jsonp",function(u,c,d){var v,b,w,D=!1!==u.jsonp&&(_.test(u.url)?"url":"string"==typeof u.data&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&_.test(u.data)&&"data");if(D||"jsonp"===u.dataTypes[0])return v=u.jsonpCallback=Xt(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,D?u[D]=u[D].replace(_,"$1"+v):!1!==u.jsonp&&(u.url+=(Ui.test(u.url)?"&":"?")+u.jsonp+"="+v),u.converters["script json"]=function(){return w||C.error(v+" was not called"),w[0]},u.dataTypes[0]="json",b=G[v],G[v]=function(){w=arguments},d.always(function(){void 0===b?C(G).removeProp(v):G[v]=b,u[v]&&(u.jsonpCallback=c.jsonpCallback,k.push(v)),w&&Xt(b)&&b(w[0]),w=b=void 0}),"script"}),we.createHTMLDocument=((u=me.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===u.childNodes.length),C.parseHTML=function(u,c,d){return"string"!=typeof u?[]:("boolean"==typeof c&&(d=c,c=!1),c||(we.createHTMLDocument?((v=(c=me.implementation.createHTMLDocument("")).createElement("base")).href=me.location.href,c.head.appendChild(v)):c=me),w=!d&&[],(b=$r.exec(u))?[c.createElement(b[1])]:(b=Ri([u],c,w),w&&w.length&&C(w).remove(),C.merge([],b.childNodes)));var v,b,w},C.fn.load=function(u,c,d){var v,b,w,D=this,U=u.indexOf(" ");return U>-1&&(v=un(u.slice(U)),u=u.slice(0,U)),Xt(c)?(d=c,c=void 0):c&&"object"==typeof c&&(b="POST"),D.length>0&&C.ajax({url:u,type:b||"GET",dataType:"html",data:c}).done(function(W){w=arguments,D.html(v?C("<div>").append(C.parseHTML(W)).find(v):W)}).always(d&&function(W,it){D.each(function(){d.apply(this,w||[W.responseText,it,W])})}),this},C.expr.pseudos.animated=function(u){return C.grep(C.timers,function(c){return u===c.elem}).length},C.offset={setOffset:function(u,c,d){var v,b,w,D,U,W,gt=C.css(u,"position"),xt=C(u),ot={};"static"===gt&&(u.style.position="relative"),U=xt.offset(),w=C.css(u,"top"),W=C.css(u,"left"),("absolute"===gt||"fixed"===gt)&&(w+W).indexOf("auto")>-1?(D=(v=xt.position()).top,b=v.left):(D=parseFloat(w)||0,b=parseFloat(W)||0),Xt(c)&&(c=c.call(u,d,C.extend({},U))),null!=c.top&&(ot.top=c.top-U.top+D),null!=c.left&&(ot.left=c.left-U.left+b),"using"in c?c.using.call(u,ot):xt.css(ot)}},C.fn.extend({offset:function(u){if(arguments.length)return void 0===u?this:this.each(function(b){C.offset.setOffset(this,u,b)});var c,d,v=this[0];return v?v.getClientRects().length?{top:(c=v.getBoundingClientRect()).top+(d=v.ownerDocument.defaultView).pageYOffset,left:c.left+d.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var u,c,d,v=this[0],b={top:0,left:0};if("fixed"===C.css(v,"position"))c=v.getBoundingClientRect();else{for(c=this.offset(),d=v.ownerDocument,u=v.offsetParent||d.documentElement;u&&(u===d.body||u===d.documentElement)&&"static"===C.css(u,"position");)u=u.parentNode;u&&u!==v&&1===u.nodeType&&((b=C(u).offset()).top+=C.css(u,"borderTopWidth",!0),b.left+=C.css(u,"borderLeftWidth",!0))}return{top:c.top-b.top-C.css(v,"marginTop",!0),left:c.left-b.left-C.css(v,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent;u&&"static"===C.css(u,"position");)u=u.offsetParent;return u||hn})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,c){var d="pageYOffset"===c;C.fn[u]=function(v){return Lr(this,function(b,w,D){var U;if(_n(b)?U=b:9===b.nodeType&&(U=b.defaultView),void 0===D)return U?U[c]:b[w];U?U.scrollTo(d?U.pageXOffset:D,d?D:U.pageYOffset):b[w]=D},u,v,arguments.length)}}),C.each(["top","left"],function(u,c){C.cssHooks[c]=ca(we.pixelPosition,function(d,v){if(v)return v=yi(d,c),As.test(v)?C(d).position()[c]+"px":v})}),C.each({Height:"height",Width:"width"},function(u,c){C.each({padding:"inner"+u,content:c,"":"outer"+u},function(d,v){C.fn[v]=function(b,w){var D=arguments.length&&(d||"boolean"!=typeof b),U=d||(!0===b||!0===w?"margin":"border");return Lr(this,function(W,it,gt){var xt;return _n(W)?0===v.indexOf("outer")?W["inner"+u]:W.document.documentElement["client"+u]:9===W.nodeType?(xt=W.documentElement,Math.max(W.body["scroll"+u],xt["scroll"+u],W.body["offset"+u],xt["offset"+u],xt["client"+u])):void 0===gt?C.css(W,it,U):C.style(W,it,gt,U)},c,D?b:void 0,D)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,c){C.fn[c]=function(d){return this.on(c,d)}}),C.fn.extend({bind:function(u,c,d){return this.on(u,null,c,d)},unbind:function(u,c){return this.off(u,null,c)},delegate:function(u,c,d,v){return this.on(c,u,d,v)},undelegate:function(u,c,d){return 1===arguments.length?this.off(u,"**"):this.off(c,u||"**",d)},hover:function(u,c){return this.mouseenter(u).mouseleave(c||u)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(u,c){C.fn[c]=function(d,v){return arguments.length>0?this.on(c,null,d,v):this.trigger(c)}});var J=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(u,c){var d,v,b;if("string"==typeof c&&(d=u[c],c=u,u=d),Xt(u))return v=Je.call(arguments,2),b=function(){return u.apply(c||this,v.concat(Je.call(arguments)))},b.guid=u.guid=u.guid||C.guid++,b},C.holdReady=function(u){u?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=Nn,C.isFunction=Xt,C.isWindow=_n,C.camelCase=Y,C.type=fn,C.now=Date.now,C.isNumeric=function(u){var c=C.type(u);return("number"===c||"string"===c)&&!isNaN(u-parseFloat(u))},C.trim=function(u){return null==u?"":(u+"").replace(J,"")},void 0!==(mr=function(){return C}.apply(Br,[]))&&(Qr.exports=mr);var ct=G.jQuery,q=G.$;return C.noConflict=function(u){return G.$===C&&(G.$=q),u&&G.jQuery===C&&(G.jQuery=ct),C},typeof Ir>"u"&&(G.jQuery=G.$=C),C})},489:function(Qr,Br,Vt){var mr;Qr=Vt.nmd(Qr),function(){var G,Je="Expected a function",Ar="__lodash_hash_undefined__",Sr="__lodash_placeholder__",C=128,rn=1/0,fr=9007199254740991,nr=4294967295,En=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],rr="[object Arguments]",Rr="[object Array]",Gr="[object Boolean]",zn="[object Date]",ti="[object Error]",ts="[object Function]",vs="[object GeneratorFunction]",Y="[object Map]",Re="[object Number]",T="[object Object]",O="[object Promise]",yt="[object RegExp]",wt="[object Set]",Yt="[object String]",Ht="[object Symbol]",Ge="[object WeakMap]",Te="[object ArrayBuffer]",Cn="[object DataView]",Jn="[object Float32Array]",ei="[object Float64Array]",gn="[object Int8Array]",Pt="[object Int16Array]",On="[object Int32Array]",Pr="[object Uint8Array]",Ai="[object Uint8ClampedArray]",kr="[object Uint16Array]",Ie="[object Uint32Array]",Mn=/\b__p \+= '';/g,ms=/\b(__p \+=) '' \+/g,oa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ri=/&(?:amp|lt|gt|quot|#39);/g,es=/[&<>"']/g,be=RegExp(Ri.source),jr=RegExp(es.source),Ut=/<%-([\s\S]+?)%>/g,Er=/<%([\s\S]+?)%>/g,Zr=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ns=/^\w*$/,ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ci=/[\\^$.*+?()[\]{}|]/g,li=RegExp(Ci.source),Gi=/^\s+/,Bn=/\s/,Is=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ua=/\{\n\/\* \[wrapped with (.+)\] \*/,ni=/,? & /,Qn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,As=/[()=,{}\[\]\/\s]/,ri=/\\(\\)?/g,Bs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,la=/\w*$/,yi=/^[-+]0x[0-9a-f]+$/i,ca=/^0b[01]+$/i,Rs=/^\[object .+?Constructor\]$/,Cs=/^0o[0-7]+$/i,Gs=/^(?:0|[1-9]\d*)$/,La=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wi=/($^)/,bi=/['\n\r\u2028\u2029\\]/g,ci="\\ud800-\\udfff",rs="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",js="\\u2700-\\u27bf",Zn="a-z\\xdf-\\xf6\\xf8-\\xff",Zi="A-Z\\xc0-\\xd6\\xd8-\\xde",ys="\\ufe0e\\ufe0f",Wi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zs="["+ci+"]",Pa="["+Wi+"]",Rn="["+rs+"]",Wn="\\d+",Wr="["+js+"]",ka="["+Zn+"]",pt="[^"+ci+Wi+Wn+js+Zn+Zi+"]",un="\\ud83c[\\udffb-\\udfff]",Ne="[^"+ci+"]",sr="(?:\\ud83c[\\udde6-\\uddff]){2}",wn="[\\ud800-\\udbff][\\udc00-\\udfff]",_i="["+Zi+"]",Yi="(?:"+ka+"|"+pt+")",Ui="(?:"+_i+"|"+pt+")",Ws="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",is="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ss="(?:"+Rn+"|"+un+")?",Ea="["+ys+"]?",sn=Ea+ss+"(?:\\u200d(?:"+[Ne,sr,wn].join("|")+")"+Ea+ss+")*",_s="(?:"+[Wr,sr,wn].join("|")+")"+sn,pa="(?:"+[Ne+Rn+"?",Rn,sr,wn,Zs].join("|")+")",qa=RegExp("['\u2019]","g"),Yn=RegExp(Rn,"g"),Fi=RegExp(un+"(?="+un+")|"+pa+sn,"g"),bs=RegExp([_i+"?"+ka+"+"+Ws+"(?="+[Pa,_i,"$"].join("|")+")",Ui+"+"+is+"(?="+[Pa,_i+Yi,"$"].join("|")+")",_i+"?"+Yi+"+"+Ws,_i+"+"+is,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wn,_s].join("|"),"g"),za=RegExp("[\\u200d"+ci+rs+ys+"]"),xs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$a=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ys=-1,an={};an[Jn]=an[ei]=an[gn]=an[Pt]=an[On]=an[Pr]=an[Ai]=an[kr]=an[Ie]=!0,an[rr]=an[Rr]=an[Te]=an[Gr]=an[Cn]=an[zn]=an[ti]=an[ts]=an[Y]=an[Re]=an[T]=an[yt]=an[wt]=an[Yt]=an[Ge]=!1;var $e={};$e[rr]=$e[Rr]=$e[Te]=$e[Cn]=$e[Gr]=$e[zn]=$e[Jn]=$e[ei]=$e[gn]=$e[Pt]=$e[On]=$e[Y]=$e[Re]=$e[T]=$e[yt]=$e[wt]=$e[Yt]=$e[Ht]=$e[Pr]=$e[Ai]=$e[kr]=$e[Ie]=!0,$e[ti]=$e[ts]=$e[Ge]=!1;var k={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_=parseFloat,J=parseInt,ct="object"==typeof global&&global&&global.Object===Object&&global,q="object"==typeof self&&self&&self.Object===Object&&self,u=ct||q||Function("return this")(),c=Br&&!Br.nodeType&&Br,d=c&&Qr&&!Qr.nodeType&&Qr,v=d&&d.exports===c,b=v&&ct.process,w=function(){try{return d&&d.require&&d.require("util").types||b&&b.binding&&b.binding("util")}catch{}}(),D=w&&w.isArrayBuffer,U=w&&w.isDate,W=w&&w.isMap,it=w&&w.isRegExp,gt=w&&w.isSet,xt=w&&w.isTypedArray;function ot(rt,Ct,dt){switch(dt.length){case 0:return rt.call(Ct);case 1:return rt.call(Ct,dt[0]);case 2:return rt.call(Ct,dt[0],dt[1]);case 3:return rt.call(Ct,dt[0],dt[1],dt[2])}return rt.apply(Ct,dt)}function mt(rt,Ct,dt,_t){for(var he=-1,Xe=null==rt?0:rt.length;++he<Xe;){var Dn=rt[he];Ct(_t,Dn,dt(Dn),rt)}return _t}function Gt(rt,Ct){for(var dt=-1,_t=null==rt?0:rt.length;++dt<_t&&!1!==Ct(rt[dt],dt,rt););return rt}function Zt(rt,Ct){for(var dt=null==rt?0:rt.length;dt--&&!1!==Ct(rt[dt],dt,rt););return rt}function Ot(rt,Ct){for(var dt=-1,_t=null==rt?0:rt.length;++dt<_t;)if(!Ct(rt[dt],dt,rt))return!1;return!0}function Ft(rt,Ct){for(var dt=-1,_t=null==rt?0:rt.length,he=0,Xe=[];++dt<_t;){var Dn=rt[dt];Ct(Dn,dt,rt)&&(Xe[he++]=Dn)}return Xe}function Tn(rt,Ct){return!(null==rt||!rt.length)&&qn(rt,Ct,0)>-1}function yr(rt,Ct,dt){for(var _t=-1,he=null==rt?0:rt.length;++_t<he;)if(dt(Ct,rt[_t]))return!0;return!1}function le(rt,Ct){for(var dt=-1,_t=null==rt?0:rt.length,he=Array(_t);++dt<_t;)he[dt]=Ct(rt[dt],dt,rt);return he}function ne(rt,Ct){for(var dt=-1,_t=Ct.length,he=rt.length;++dt<_t;)rt[he+dt]=Ct[dt];return rt}function Kn(rt,Ct,dt,_t){var he=-1,Xe=null==rt?0:rt.length;for(_t&&Xe&&(dt=rt[++he]);++he<Xe;)dt=Ct(dt,rt[he],he,rt);return dt}function ze(rt,Ct,dt,_t){var he=null==rt?0:rt.length;for(_t&&he&&(dt=rt[--he]);he--;)dt=Ct(dt,rt[he],he,rt);return dt}function bn(rt,Ct){for(var dt=-1,_t=null==rt?0:rt.length;++dt<_t;)if(Ct(rt[dt],dt,rt))return!0;return!1}var Ns=Gn("length");function wr(rt,Ct,dt){var _t;return dt(rt,function(he,Xe,Dn){if(Ct(he,Xe,Dn))return _t=Xe,!1}),_t}function Ni(rt,Ct,dt,_t){for(var he=rt.length,Xe=dt+(_t?1:-1);_t?Xe--:++Xe<he;)if(Ct(rt[Xe],Xe,rt))return Xe;return-1}function qn(rt,Ct,dt){return Ct==Ct?function So(rt,Ct,dt){for(var _t=dt-1,he=rt.length;++_t<he;)if(rt[_t]===Ct)return _t;return-1}(rt,Ct,dt):Ni(rt,Ur,dt)}function Un(rt,Ct,dt,_t){for(var he=dt-1,Xe=rt.length;++he<Xe;)if(_t(rt[he],Ct))return he;return-1}function Ur(rt){return rt!=rt}function Vi(rt,Ct){var dt=null==rt?0:rt.length;return dt?vn(rt,Ct)/dt:NaN}function Gn(rt){return function(Ct){return null==Ct?G:Ct[rt]}}function Xi(rt){return function(Ct){return null==rt?G:rt[Ct]}}function ln(rt,Ct,dt,_t,he){return he(rt,function(Xe,Dn,tn){dt=_t?(_t=!1,Xe):Ct(dt,Xe,Dn,tn)}),dt}function vn(rt,Ct){for(var dt,_t=-1,he=rt.length;++_t<he;){var Xe=Ct(rt[_t]);Xe!==G&&(dt=dt===G?Xe:dt+Xe)}return dt}function va(rt,Ct){for(var dt=-1,_t=Array(rt);++dt<rt;)_t[dt]=Ct(dt);return _t}function Mi(rt){return rt&&rt.slice(0,Vr(rt)+1).replace(Gi,"")}function gr(rt){return function(Ct){return rt(Ct)}}function Ga(rt,Ct){return le(Ct,function(dt){return rt[dt]})}function Us(rt,Ct){return rt.has(Ct)}function to(rt,Ct){for(var dt=-1,_t=rt.length;++dt<_t&&qn(Ct,rt[dt],0)>-1;);return dt}function eo(rt,Ct){for(var dt=rt.length;dt--&&qn(Ct,rt[dt],0)>-1;);return dt}function eu(rt,Ct){for(var dt=rt.length,_t=0;dt--;)rt[dt]===Ct&&++_t;return _t}var ja=Xi({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),no=Xi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function No(rt){return"\\"+k[rt]}function ii(rt){return za.test(rt)}function si(rt){var Ct=-1,dt=Array(rt.size);return rt.forEach(function(_t,he){dt[++Ct]=[he,_t]}),dt}function gi(rt,Ct){return function(dt){return rt(Ct(dt))}}function Si(rt,Ct){for(var dt=-1,_t=rt.length,he=0,Xe=[];++dt<_t;){var Dn=rt[dt];(Dn===Ct||Dn===Sr)&&(rt[dt]=Sr,Xe[he++]=dt)}return Xe}function Vs(rt){var Ct=-1,dt=Array(rt.size);return rt.forEach(function(_t){dt[++Ct]=_t}),dt}function Fr(rt){return ii(rt)?function ro(rt){for(var Ct=Fi.lastIndex=0;Fi.test(rt);)++Ct;return Ct}(rt):Ns(rt)}function Sn(rt){return ii(rt)?function Ti(rt){return rt.match(Fi)||[]}(rt):function Yr(rt){return rt.split("")}(rt)}function Vr(rt){for(var Ct=rt.length;Ct--&&Bn.test(rt.charAt(Ct)););return Ct}var ye=Xi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),di=function rt(Ct){var i,dt=(Ct=null==Ct?u:di.defaults(u.Object(),Ct,di.pick(u,$a))).Array,_t=Ct.Date,he=Ct.Error,Xe=Ct.Function,Dn=Ct.Math,tn=Ct.Object,Ia=Ct.RegExp,nu=Ct.String,E=Ct.TypeError,F=dt.prototype,At=tn.prototype,at=Ct["__core-js_shared__"],bt=Xe.prototype.toString,It=At.hasOwnProperty,Et=0,Bt=(i=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",qt=At.toString,te=bt.call(tn),ce=u._,Me=Ia("^"+bt.call(It).replace(Ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=v?Ct.Buffer:G,Jt=Ct.Symbol,Ln=Ct.Uint8Array,$n=Ke?Ke.allocUnsafe:G,dr=gi(tn.getPrototypeOf,tn),mn=tn.create,en=At.propertyIsEnumerable,In=F.splice,br=Jt?Jt.isConcatSpreadable:G,Aa=Jt?Jt.iterator:G,Ca=Jt?Jt.toStringTag:G,Do=function(){try{var i=Ps(tn,"defineProperty");return i({},"",{}),i}catch{}}(),Ic=Ct.clearTimeout!==u.clearTimeout&&Ct.clearTimeout,Ac=_t&&_t.now!==u.Date.now&&_t.now,Cc=Ct.setTimeout!==u.setTimeout&&Ct.setTimeout,Lo=Dn.ceil,Po=Dn.floor,ru=tn.getOwnPropertySymbols,yc=Ke?Ke.isBuffer:G,gl=Ct.isFinite,iu=F.join,wc=gi(tn.keys,tn),ar=Dn.max,zr=Dn.min,bc=_t.now,xc=Ct.parseInt,su=Dn.random,Nc=F.reverse,au=Ps(Ct,"DataView"),io=Ps(Ct,"Map"),so=Ps(Ct,"Promise"),Za=Ps(Ct,"Set"),Ms=Ps(Ct,"WeakMap"),Hi=Ps(tn,"create"),pi=Ms&&new Ms,ya={},ou=Ma(au),Hs=Ma(io),Wa=Ma(so),Oe=Ma(Za),je=Ma(Ms),jn=Jt?Jt.prototype:G,ao=jn?jn.valueOf:G,dl=jn?jn.toString:G;function z(i){if(tr(i)&&!xe(i)&&!(i instanceof fe)){if(i instanceof ai)return i;if(It.call(i,"__wrapped__"))return ac(i)}return new ai(i)}var _a=function(){function i(){}return function(a){if(!Vn(a))return{};if(mn)return mn(a);i.prototype=a;var h=new i;return i.prototype=G,h}}();function wa(){}function ai(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=G}function fe(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nr,this.__views__=[]}function Js(i){var a=-1,h=null==i?0:i.length;for(this.clear();++a<h;){var I=i[a];this.set(I[0],I[1])}}function Ss(i){var a=-1,h=null==i?0:i.length;for(this.clear();++a<h;){var I=i[a];this.set(I[0],I[1])}}function os(i){var a=-1,h=null==i?0:i.length;for(this.clear();++a<h;){var I=i[a];this.set(I[0],I[1])}}function Qs(i){var a=-1,h=null==i?0:i.length;for(this.__data__=new os;++a<h;)this.add(i[a])}function Di(i){var a=this.__data__=new Ss(i);this.size=a.size}function Cl(i,a){var h=xe(i),I=!h&&xo(i),M=!h&&!I&&Qa(i),B=!h&&!I&&!M&&$o(i),X=h||I||M||B,K=X?va(i.length,nu):[],lt=K.length;for(var Nt in i)(a||It.call(i,Nt))&&(!X||!("length"==Nt||M&&("offset"==Nt||"parent"==Nt)||B&&("buffer"==Nt||"byteLength"==Nt||"byteOffset"==Nt)||ks(Nt,lt)))&&K.push(Nt);return K}function gu(i){var a=i.length;return a?i[Va(0,a-1)]:G}function yl(i,a){return Ko(Hr(i),Ks(a,0,i.length))}function zc(i){return Ko(Hr(i))}function du(i,a,h){(h!==G&&!zs(i[a],h)||h===G&&!(a in i))&&us(i,a,h)}function lo(i,a,h){var I=i[a];(!It.call(i,a)||!zs(I,h)||h===G&&!(a in i))&&us(i,a,h)}function Ya(i,a){for(var h=i.length;h--;)if(zs(i[h][0],a))return h;return-1}function Oc(i,a,h,I){return qs(i,function(M,B,X){a(I,M,h(M),X)}),I}function wl(i,a){return i&&Ji(a,Or(a),i)}function us(i,a,h){"__proto__"==a&&Do?Do(i,a,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[a]=h}function pu(i,a){for(var h=-1,I=a.length,M=dt(I),B=null==i;++h<I;)M[h]=B?G:qf(i,a[h]);return M}function Ks(i,a,h){return i==i&&(h!==G&&(i=i<=h?i:h),a!==G&&(i=i>=a?i:a)),i}function Li(i,a,h,I,M,B){var X,K=1&a,lt=2&a,Nt=4&a;if(h&&(X=M?h(i,I,M,B):h(i)),X!==G)return X;if(!Vn(i))return i;var Mt=xe(i);if(Mt){if(X=function qu(i){var a=i.length,h=new i.constructor(a);return a&&"string"==typeof i[0]&&It.call(i,"index")&&(h.index=i.index,h.input=i.input),h}(i),!K)return Hr(i,X)}else{var Lt=or(i),Wt=Lt==ts||Lt==vs;if(Qa(i))return xa(i,K);if(Lt==T||Lt==rr||Wt&&!M){if(X=lt||Wt?{}:ra(i),!K)return lt?function Hc(i,a){return Ji(i,ql(i),a)}(i,function Bc(i,a){return i&&Ji(a,Oi(a),i)}(X,i)):function Xc(i,a){return Ji(i,Qu(i),a)}(i,wl(X,i))}else{if(!$e[Lt])return M?i:{};X=function sf(i,a,h){var I=i.constructor;switch(a){case Te:return Uo(i);case Gr:case zn:return new I(+i);case Cn:return function Vc(i,a){var h=a?Uo(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.byteLength)}(i,h);case Jn:case ei:case gn:case Pt:case On:case Pr:case Ai:case kr:case Ie:return Ou(i,h);case Y:return new I;case Re:case Yt:return new I(i);case yt:return function Fo(i){var a=new i.constructor(i.source,la.exec(i));return a.lastIndex=i.lastIndex,a}(i);case wt:return new I;case Ht:return function zu(i){return ao?tn(ao.call(i)):{}}(i)}}(i,Lt,K)}}B||(B=new Di);var Kt=B.get(i);if(Kt)return Kt;B.set(i,X),gh(i)?i.forEach(function(pe){X.add(Li(pe,a,h,pe,i,B))}):fh(i)&&i.forEach(function(pe,We){X.set(We,Li(pe,a,h,We,i,B))});var Ee=Mt?G:(Nt?lt?Xu:Vu:lt?Oi:Or)(i);return Gt(Ee||i,function(pe,We){Ee&&(pe=i[We=pe]),lo(X,We,Li(pe,a,h,We,i,B))}),X}function co(i,a,h){var I=h.length;if(null==i)return!I;for(i=tn(i);I--;){var M=h[I],X=i[M];if(X===G&&!(M in i)||!(0,a[M])(X))return!1}return!0}function Ro(i,a,h){if("function"!=typeof i)throw new E(Je);return yo(function(){i.apply(G,h)},a)}function fo(i,a,h,I){var M=-1,B=Tn,X=!0,K=i.length,lt=[],Nt=a.length;if(!K)return lt;h&&(a=le(a,gr(h))),I?(B=yr,X=!1):a.length>=200&&(B=Us,X=!1,a=new Qs(a));t:for(;++M<K;){var Mt=i[M],Lt=null==h?Mt:h(Mt);if(Mt=I||0!==Mt?Mt:0,X&&Lt==Lt){for(var Wt=Nt;Wt--;)if(a[Wt]===Lt)continue t;lt.push(Mt)}else B(a,Lt,I)||lt.push(Mt)}return lt}z.templateSettings={escape:Ut,evaluate:Er,interpolate:Zr,variable:"",imports:{_:z}},(z.prototype=wa.prototype).constructor=z,(ai.prototype=_a(wa.prototype)).constructor=ai,(fe.prototype=_a(wa.prototype)).constructor=fe,Js.prototype.clear=function Mc(){this.__data__=Hi?Hi(null):{},this.size=0},Js.prototype.delete=function Sc(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a},Js.prototype.get=function vl(i){var a=this.__data__;if(Hi){var h=a[i];return h===Ar?G:h}return It.call(a,i)?a[i]:G},Js.prototype.has=function zo(i){var a=this.__data__;return Hi?a[i]!==G:It.call(a,i)},Js.prototype.set=function Tc(i,a){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=Hi&&a===G?Ar:a,this},Ss.prototype.clear=function uu(){this.__data__=[],this.size=0},Ss.prototype.delete=function lu(i){var a=this.__data__,h=Ya(a,i);return!(h<0||(h==a.length-1?a.pop():In.call(a,h,1),--this.size,0))},Ss.prototype.get=function ml(i){var a=this.__data__,h=Ya(a,i);return h<0?G:a[h][1]},Ss.prototype.has=function cu(i){return Ya(this.__data__,i)>-1},Ss.prototype.set=function ba(i,a){var h=this.__data__,I=Ya(h,i);return I<0?(++this.size,h.push([i,a])):h[I][1]=a,this},os.prototype.clear=function Il(){this.size=0,this.__data__={hash:new Js,map:new(io||Ss),string:new Js}},os.prototype.delete=function Al(i){var a=Jo(this,i).delete(i);return this.size-=a?1:0,a},os.prototype.get=function Dc(i){return Jo(this,i).get(i)},os.prototype.has=function fu(i){return Jo(this,i).has(i)},os.prototype.set=function Lc(i,a){var h=Jo(this,i),I=h.size;return h.set(i,a),this.size+=h.size==I?0:1,this},Qs.prototype.add=Qs.prototype.push=function Pc(i){return this.__data__.set(i,Ar),this},Qs.prototype.has=function kc(i){return this.__data__.has(i)},Di.prototype.clear=function Ec(){this.__data__=new Ss,this.size=0},Di.prototype.delete=function oo(i){var a=this.__data__,h=a.delete(i);return this.size=a.size,h},Di.prototype.get=function Oo(i){return this.__data__.get(i)},Di.prototype.has=function uo(i){return this.__data__.has(i)},Di.prototype.set=function hu(i,a){var h=this.__data__;if(h instanceof Ss){var I=h.__data__;if(!io||I.length<199)return I.push([i,a]),this.size=++h.size,this;h=this.__data__=new os(I)}return h.set(i,a),this.size=h.size,this};var qs=Hl(ls),bl=Hl(oi,!0);function xl(i,a){var h=!0;return qs(i,function(I,M,B){return h=!!a(I,M,B)}),h}function Go(i,a,h){for(var I=-1,M=i.length;++I<M;){var B=i[I],X=a(B);if(null!=X&&(K===G?X==X&&!Qi(X):h(X,K)))var K=X,lt=B}return lt}function Ml(i,a){var h=[];return qs(i,function(I,M,B){a(I,M,B)&&h.push(I)}),h}function xr(i,a,h,I,M){var B=-1,X=i.length;for(h||(h=of),M||(M=[]);++B<X;){var K=i[B];a>0&&h(K)?a>1?xr(K,a-1,h,I,M):ne(M,K):I||(M[M.length]=K)}return M}var vu=Gu(),Sl=Gu(!0);function ls(i,a){return i&&vu(i,a,Or)}function oi(i,a){return i&&Sl(i,a,Or)}function pr(i,a){return Ft(a,function(h){return Sa(i[h])})}function Ts(i,a){for(var h=0,I=(a=ta(a,i)).length;null!=i&&h<I;)i=i[fs(a[h++])];return h&&h==I?i:G}function Tl(i,a,h){var I=a(i);return xe(i)?I:ne(I,h(i))}function Xr(i){return null==i?i===G?"[object Undefined]":"[object Null]":Ca&&Ca in tn(i)?function nf(i){var a=It.call(i,Ca),h=i[Ca];try{i[Ca]=G;var I=!0}catch{}var M=qt.call(i);return I&&(a?i[Ca]=h:delete i[Ca]),M}(i):function df(i){return qt.call(i)}(i)}function mu(i,a){return i>a}function Rc(i,a){return null!=i&&It.call(i,a)}function Dl(i,a){return null!=i&&a in tn(i)}function jo(i,a,h){for(var I=h?yr:Tn,M=i[0].length,B=i.length,X=B,K=dt(B),lt=1/0,Nt=[];X--;){var Mt=i[X];X&&a&&(Mt=le(Mt,gr(a))),lt=zr(Mt.length,lt),K[X]=!h&&(a||M>=120&&Mt.length>=120)?new Qs(X&&Mt):G}Mt=i[0];var Lt=-1,Wt=K[0];t:for(;++Lt<M&&Nt.length<lt;){var Kt=Mt[Lt],de=a?a(Kt):Kt;if(Kt=h||0!==Kt?Kt:0,!(Wt?Us(Wt,de):I(Nt,de,h))){for(X=B;--X;){var Ee=K[X];if(!(Ee?Us(Ee,de):I(i[X],de,h)))continue t}Wt&&Wt.push(de),Nt.push(Kt)}}return Nt}function Ua(i,a,h){var I=null==(i=rc(i,a=ta(a,i)))?i:i[fs(Ei(a))];return null==I?G:ot(I,i,h)}function Iu(i){return tr(i)&&Xr(i)==rr}function ho(i,a,h,I,M){return i===a||(null==i||null==a||!tr(i)&&!tr(a)?i!=i&&a!=a:function Au(i,a,h,I,M,B){var X=xe(i),K=xe(a),lt=X?Rr:or(i),Nt=K?Rr:or(a),Mt=(lt=lt==rr?T:lt)==T,Lt=(Nt=Nt==rr?T:Nt)==T,Wt=lt==Nt;if(Wt&&Qa(i)){if(!Qa(a))return!1;X=!0,Mt=!1}if(Wt&&!Mt)return B||(B=new Di),X||$o(i)?Kl(i,a,h,I,M,B):function ef(i,a,h,I,M,B,X){switch(h){case Cn:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case Te:return!(i.byteLength!=a.byteLength||!B(new Ln(i),new Ln(a)));case Gr:case zn:case Re:return zs(+i,+a);case ti:return i.name==a.name&&i.message==a.message;case yt:case Yt:return i==a+"";case Y:var K=si;case wt:if(K||(K=Vs),i.size!=a.size&&!(1&I))return!1;var Nt=X.get(i);if(Nt)return Nt==a;I|=2,X.set(i,a);var Mt=Kl(K(i),K(a),I,M,B,X);return X.delete(i),Mt;case Ht:if(ao)return ao.call(i)==ao.call(a)}return!1}(i,a,lt,h,I,M,B);if(!(1&h)){var Kt=Mt&&It.call(i,"__wrapped__"),de=Lt&&It.call(a,"__wrapped__");if(Kt||de){var Ee=Kt?i.value():i,pe=de?a.value():a;return B||(B=new Di),M(Ee,pe,h,I,B)}}return!!Wt&&(B||(B=new Di),function Fu(i,a,h,I,M,B){var X=1&h,K=Vu(i),lt=K.length;if(lt!=Vu(a).length&&!X)return!1;for(var Lt=lt;Lt--;){var Wt=K[Lt];if(!(X?Wt in a:It.call(a,Wt)))return!1}var Kt=B.get(i),de=B.get(a);if(Kt&&de)return Kt==a&&de==i;var Ee=!0;B.set(i,a),B.set(a,i);for(var pe=X;++Lt<lt;){var We=i[Wt=K[Lt]],He=a[Wt];if(I)var Ki=X?I(He,We,Wt,a,i,B):I(We,He,Wt,i,a,B);if(!(Ki===G?We===He||M(We,He,h,I,B):Ki)){Ee=!1;break}pe||(pe="constructor"==Wt)}if(Ee&&!pe){var mi=i.constructor,qi=a.constructor;mi!=qi&&"constructor"in i&&"constructor"in a&&!("function"==typeof mi&&mi instanceof mi&&"function"==typeof qi&&qi instanceof qi)&&(Ee=!1)}return B.delete(i),B.delete(a),Ee}(i,a,h,I,M,B))}(i,a,h,I,ho,M))}function Cu(i,a,h,I){var M=h.length,B=M,X=!I;if(null==i)return!B;for(i=tn(i);M--;){var K=h[M];if(X&&K[2]?K[1]!==i[K[0]]:!(K[0]in i))return!1}for(;++M<B;){var lt=(K=h[M])[0],Nt=i[lt],Mt=K[1];if(X&&K[2]){if(Nt===G&&!(lt in i))return!1}else{var Lt=new Di;if(I)var Wt=I(Nt,Mt,lt,i,a,Lt);if(!(Wt===G?ho(Mt,Nt,3,I,Lt):Wt))return!1}}return!0}function El(i){return!(!Vn(i)||function lf(i){return!!Bt&&Bt in i}(i))&&(Sa(i)?Me:Rs).test(Ma(i))}function zl(i){return"function"==typeof i?i:null==i?Bi:"object"==typeof i?xe(i)?bu(i[0],i[1]):Rl(i):Mh(i)}function yu(i){if(!Co(i))return wc(i);var a=[];for(var h in tn(i))It.call(i,h)&&"constructor"!=h&&a.push(h);return a}function wu(i,a){return i<a}function Bl(i,a){var h=-1,I=zi(i)?dt(i.length):[];return qs(i,function(M,B,X){I[++h]=a(M,B,X)}),I}function Rl(i){var a=Ju(i);return 1==a.length&&a[0][2]?ec(a[0][0],a[0][1]):function(h){return h===i||Cu(h,i,a)}}function bu(i,a){return $u(i)&&tc(a)?ec(fs(i),a):function(h){var I=qf(h,i);return I===G&&I===a?$f(h,i):ho(a,I,3)}}function Zo(i,a,h,I,M){i!==a&&vu(a,function(B,X){if(M||(M=new Di),Vn(B))!function Zc(i,a,h,I,M,B,X){var K=el(i,h),lt=el(a,h),Nt=X.get(lt);if(Nt)du(i,h,Nt);else{var Mt=B?B(K,lt,h+"",i,a,X):G,Lt=Mt===G;if(Lt){var Wt=xe(lt),Kt=!Wt&&Qa(lt),de=!Wt&&!Kt&&$o(lt);Mt=lt,Wt||Kt||de?xe(K)?Mt=K:ur(K)?Mt=Hr(K):Kt?(Lt=!1,Mt=xa(lt,!0)):de?(Lt=!1,Mt=Ou(lt,!0)):Mt=[]:hl(lt)||xo(lt)?(Mt=K,xo(K)?Mt=vh(K):(!Vn(K)||Sa(K))&&(Mt=ra(lt))):Lt=!1}Lt&&(X.set(lt,Mt),M(Mt,lt,I,B,X),X.delete(lt)),du(i,h,Mt)}}(i,a,X,h,Zo,I,M);else{var K=I?I(el(i,X),B,X+"",i,a,M):G;K===G&&(K=B),du(i,X,K)}},Oi)}function Gl(i,a){var h=i.length;if(h)return ks(a+=a<0?h:0,h)?i[a]:G}function jl(i,a,h){a=a.length?le(a,function(B){return xe(B)?function(X){return Ts(X,1===B.length?B[0]:B)}:B}):[Bi];var I=-1;return a=le(a,gr(re())),function Ae(rt,Ct){var dt=rt.length;for(rt.sort(Ct);dt--;)rt[dt]=rt[dt].value;return rt}(Bl(i,function(B,X,K){return{criteria:le(a,function(Nt){return Nt(B)}),index:++I,value:B}}),function(B,X){return function Bu(i,a,h){for(var I=-1,M=i.criteria,B=a.criteria,X=M.length,K=h.length;++I<X;){var lt=Xl(M[I],B[I]);if(lt)return I>=K?lt:lt*("desc"==h[I]?-1:1)}return i.index-a.index}(B,X,h)})}function Fa(i,a,h){for(var I=-1,M=a.length,B={};++I<M;){var X=a[I],K=Ts(i,X);h(K,X)&&po(B,ta(X,i),K)}return B}function xu(i,a,h,I){var M=I?Un:qn,B=-1,X=a.length,K=i;for(i===a&&(a=Hr(a)),h&&(K=le(i,gr(h)));++B<X;)for(var lt=0,Nt=a[B],Mt=h?h(Nt):Nt;(lt=M(K,Mt,lt,I))>-1;)K!==i&&In.call(K,lt,1),In.call(i,lt,1);return i}function Nu(i,a){for(var h=i?a.length:0,I=h-1;h--;){var M=a[h];if(h==I||M!==B){var B=M;ks(M)?In.call(i,M,1):Lu(i,M)}}return i}function Va(i,a){return i+Po(su()*(a-i+1))}function Su(i,a){var h="";if(!i||a<1||a>fr)return h;do{a%2&&(h+=i),(a=Po(a/2))&&(i+=i)}while(a);return h}function De(i,a){return Qo(nc(i,a,Bi),i+"")}function Wl(i){return gu(tu(i))}function _c(i,a){var h=tu(i);return Ko(h,Ks(a,0,h.length))}function po(i,a,h,I){if(!Vn(i))return i;for(var M=-1,B=(a=ta(a,i)).length,X=B-1,K=i;null!=K&&++M<B;){var lt=fs(a[M]),Nt=h;if("__proto__"===lt||"constructor"===lt||"prototype"===lt)return i;if(M!=X){var Mt=K[lt];(Nt=I?I(Mt,lt,K):G)===G&&(Nt=Vn(Mt)?Mt:ks(a[M+1])?[]:{})}lo(K,lt,Nt),K=K[lt]}return i}var Wo=pi?function(i,a){return pi.set(i,a),i}:Bi,Tu=Do?function(i,a){return Do(i,"toString",{configurable:!0,enumerable:!1,value:eh(a),writable:!0})}:Bi;function Yc(i){return Ko(tu(i))}function ki(i,a,h){var I=-1,M=i.length;a<0&&(a=-a>M?0:M+a),(h=h>M?M:h)<0&&(h+=M),M=a>h?0:h-a>>>0,a>>>=0;for(var B=dt(M);++I<M;)B[I]=i[I+a];return B}function Uc(i,a){var h;return qs(i,function(I,M,B){return!(h=a(I,M,B))}),!!h}function _o(i,a,h){var I=0,M=null==i?I:i.length;if("number"==typeof a&&a==a&&M<=2147483647){for(;I<M;){var B=I+M>>>1,X=i[B];null!==X&&!Qi(X)&&(h?X<=a:X<a)?I=B+1:M=B}return M}return Du(i,a,Bi,h)}function Du(i,a,h,I){var M=0,B=null==i?0:i.length;if(0===B)return 0;for(var X=(a=h(a))!=a,K=null===a,lt=Qi(a),Nt=a===G;M<B;){var Mt=Po((M+B)/2),Lt=h(i[Mt]),Wt=Lt!==G,Kt=null===Lt,de=Lt==Lt,Ee=Qi(Lt);if(X)var pe=I||de;else pe=Nt?de&&(I||Wt):K?de&&Wt&&(I||!Kt):lt?de&&Wt&&!Kt&&(I||!Ee):!Kt&&!Ee&&(I?Lt<=a:Lt<a);pe?M=Mt+1:B=Mt}return zr(B,4294967294)}function cs(i,a){for(var h=-1,I=i.length,M=0,B=[];++h<I;){var X=i[h],K=a?a(X):X;if(!h||!zs(K,lt)){var lt=K;B[M++]=0===X?0:X}}return B}function _l(i){return"number"==typeof i?i:Qi(i)?NaN:+i}function vi(i){if("string"==typeof i)return i;if(xe(i))return le(i,vi)+"";if(Qi(i))return dl?dl.call(i):"";var a=i+"";return"0"==a&&1/i==-rn?"-0":a}function $s(i,a,h){var I=-1,M=Tn,B=i.length,X=!0,K=[],lt=K;if(h)X=!1,M=yr;else if(B>=200){var Nt=a?null:$c(i);if(Nt)return Vs(Nt);X=!1,M=Us,lt=new Qs}else lt=a?[]:K;t:for(;++I<B;){var Mt=i[I],Lt=a?a(Mt):Mt;if(Mt=h||0!==Mt?Mt:0,X&&Lt==Lt){for(var Wt=lt.length;Wt--;)if(lt[Wt]===Lt)continue t;a&&lt.push(Lt),K.push(Mt)}else M(lt,Lt,h)||(lt!==K&&lt.push(Lt),K.push(Mt))}return K}function Lu(i,a){return null==(i=rc(i,a=ta(a,i)))||delete i[fs(Ei(a))]}function Yl(i,a,h,I){return po(i,a,h(Ts(i,a)),I)}function Yo(i,a,h,I){for(var M=i.length,B=I?M:-1;(I?B--:++B<M)&&a(i[B],B,i););return h?ki(i,I?0:B,I?B+1:M):ki(i,I?B+1:0,I?M:B)}function Ul(i,a){var h=i;return h instanceof fe&&(h=h.value()),Kn(a,function(I,M){return M.func.apply(M.thisArg,ne([I],M.args))},h)}function Pu(i,a,h){var I=i.length;if(I<2)return I?$s(i[0]):[];for(var M=-1,B=dt(I);++M<I;)for(var X=i[M],K=-1;++K<I;)K!=M&&(B[M]=fo(B[M]||X,i[K],a,h));return $s(xr(B,1),a,h)}function Fl(i,a,h){for(var I=-1,M=i.length,B=a.length,X={};++I<M;)h(X,i[I],I<B?a[I]:G);return X}function ku(i){return ur(i)?i:[]}function Eu(i){return"function"==typeof i?i:Bi}function ta(i,a){return xe(i)?i:$u(i,a)?[i]:sc(pn(i))}var Fc=De;function ea(i,a,h){var I=i.length;return h=h===G?I:h,!a&&h>=I?i:ki(i,a,h)}var Vl=Ic||function(i){return u.clearTimeout(i)};function xa(i,a){if(a)return i.slice();var h=i.length,I=$n?$n(h):new i.constructor(h);return i.copy(I),I}function Uo(i){var a=new i.constructor(i.byteLength);return new Ln(a).set(new Ln(i)),a}function Ou(i,a){var h=a?Uo(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.length)}function Xl(i,a){if(i!==a){var h=i!==G,I=null===i,M=i==i,B=Qi(i),X=a!==G,K=null===a,lt=a==a,Nt=Qi(a);if(!K&&!Nt&&!B&&i>a||B&&X&&lt&&!K&&!Nt||I&&X&&lt||!h&&lt||!M)return 1;if(!I&&!B&&!Nt&&i<a||Nt&&h&&M&&!I&&!B||K&&h&&M||!X&&M||!lt)return-1}return 0}function na(i,a,h,I){for(var M=-1,B=i.length,X=h.length,K=-1,lt=a.length,Nt=ar(B-X,0),Mt=dt(lt+Nt),Lt=!I;++K<lt;)Mt[K]=a[K];for(;++M<X;)(Lt||M<B)&&(Mt[h[M]]=i[M]);for(;Nt--;)Mt[K++]=i[M++];return Mt}function Vo(i,a,h,I){for(var M=-1,B=i.length,X=-1,K=h.length,lt=-1,Nt=a.length,Mt=ar(B-K,0),Lt=dt(Mt+Nt),Wt=!I;++M<Mt;)Lt[M]=i[M];for(var Kt=M;++lt<Nt;)Lt[Kt+lt]=a[lt];for(;++X<K;)(Wt||M<B)&&(Lt[Kt+h[X]]=i[M++]);return Lt}function Hr(i,a){var h=-1,I=i.length;for(a||(a=dt(I));++h<I;)a[h]=i[h];return a}function Ji(i,a,h,I){var M=!h;h||(h={});for(var B=-1,X=a.length;++B<X;){var K=a[B],lt=I?I(h[K],i[K],K,h,i):G;lt===G&&(lt=i[K]),M?us(h,K,lt):lo(h,K,lt)}return h}function Ru(i,a){return function(h,I){var M=xe(h)?mt:Oc,B=a?a():{};return M(h,i,re(I,2),B)}}function vo(i){return De(function(a,h){var I=-1,M=h.length,B=M>1?h[M-1]:G,X=M>2?h[2]:G;for(B=i.length>3&&"function"==typeof B?(M--,B):G,X&&Jr(h[0],h[1],X)&&(B=M<3?G:B,M=1),a=tn(a);++I<M;){var K=h[I];K&&i(a,K,I,B)}return a})}function Hl(i,a){return function(h,I){if(null==h)return h;if(!zi(h))return i(h,I);for(var M=h.length,B=a?M:-1,X=tn(h);(a?B--:++B<M)&&!1!==I(X[B],B,X););return h}}function Gu(i){return function(a,h,I){for(var M=-1,B=tn(a),X=I(a),K=X.length;K--;){var lt=X[i?K:++M];if(!1===h(B[lt],lt,B))break}return a}}function ju(i){return function(a){var h=ii(a=pn(a))?Sn(a):G,I=h?h[0]:a.charAt(0),M=h?ea(h,1).join(""):a.slice(1);return I[i]()+M}}function Na(i){return function(a){return Kn(xh(bh(a).replace(qa,"")),i,"")}}function Xo(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var h=_a(i.prototype),I=i.apply(h,a);return Vn(I)?I:h}}function Qc(i){return function(a,h,I){var M=tn(a);if(!zi(a)){var B=re(h,3);a=Or(a),h=function(K){return B(M[K],K,M)}}var X=i(a,h,I);return X>-1?M[B?a[X]:X]:G}}function Zu(i){return Ls(function(a){var h=a.length,I=h,M=ai.prototype.thru;for(i&&a.reverse();I--;){var B=a[I];if("function"!=typeof B)throw new E(Je);if(M&&!X&&"wrapper"==Ao(B))var X=new ai([],!0)}for(I=X?I:h;++I<h;){var K=Ao(B=a[I]),lt="wrapper"==K?Hu(B):G;X=lt&&tl(lt[0])&&424==lt[1]&&!lt[4].length&&1==lt[9]?X[Ao(lt[0])].apply(X,lt[3]):1==B.length&&tl(B)?X[K]():X.thru(B)}return function(){var Nt=arguments,Mt=Nt[0];if(X&&1==Nt.length&&xe(Mt))return X.plant(Mt).value();for(var Lt=0,Wt=h?a[Lt].apply(this,Nt):Mt;++Lt<h;)Wt=a[Lt].call(this,Wt);return Wt}})}function Wu(i,a,h,I,M,B,X,K,lt,Nt){var Mt=a&C,Lt=1&a,Wt=2&a,Kt=24&a,de=512&a,Ee=Wt?G:Xo(i);return function pe(){for(var We=arguments.length,He=dt(We),Ki=We;Ki--;)He[Ki]=arguments[Ki];if(Kt)var mi=Xa(pe),qi=eu(He,mi);if(I&&(He=na(He,I,M,Kt)),B&&(He=Vo(He,B,X,Kt)),We-=qi,Kt&&We<Nt){var lr=Si(He,mi);return qc(i,a,Wu,pe.placeholder,h,He,lr,K,lt,Nt-We)}var Os=Lt?h:this,Da=Wt?Os[i]:i;return We=He.length,K?He=pf(He,K):de&&We>1&&He.reverse(),Mt&&lt<We&&(He.length=lt),this&&this!==u&&this instanceof pe&&(Da=Ee||Xo(Da)),Da.apply(Os,He)}}function Kc(i,a){return function(h,I){return function Pl(i,a,h,I){return ls(i,function(M,B,X){a(I,h(M),B,X)}),I}(h,i,a(I),{})}}function mo(i,a){return function(h,I){var M;if(h===G&&I===G)return a;if(h!==G&&(M=h),I!==G){if(M===G)return I;"string"==typeof h||"string"==typeof I?(h=vi(h),I=vi(I)):(h=_l(h),I=_l(I)),M=i(h,I)}return M}}function Io(i){return Ls(function(a){return a=le(a,gr(re())),De(function(h){var I=this;return i(a,function(M){return ot(M,I,h)})})})}function _u(i,a){var h=(a=a===G?" ":vi(a)).length;if(h<2)return h?Su(a,i):a;var I=Su(a,Lo(i/Fr(a)));return ii(a)?ea(Sn(I),0,i).join(""):I.slice(0,i)}function Yu(i){return function(a,h,I){return I&&"number"!=typeof I&&Jr(a,h,I)&&(h=I=G),a=Ta(a),h===G?(h=a,a=0):h=Ta(h),function Mu(i,a,h,I){for(var M=-1,B=ar(Lo((a-i)/(h||1)),0),X=dt(B);B--;)X[I?B:++M]=i,i+=h;return X}(a,h,I=I===G?a<h?1:-1:Ta(I),i)}}function Uu(i){return function(a,h){return"string"==typeof a&&"string"==typeof h||(a=hs(a),h=hs(h)),i(a,h)}}function qc(i,a,h,I,M,B,X,K,lt,Nt){var Mt=8&a;a|=Mt?32:64,4&(a&=~(Mt?64:32))||(a&=-4);var Ee=[i,a,M,Mt?B:G,Mt?X:G,Mt?G:B,Mt?G:X,K,lt,Nt],pe=h.apply(G,Ee);return tl(i)&&nl(pe,Ee),pe.placeholder=I,ic(pe,i,a)}function Ho(i){var a=Dn[i];return function(h,I){if(h=hs(h),(I=null==I?0:zr(Pe(I),292))&&gl(h)){var M=(pn(h)+"e").split("e");return+((M=(pn(a(M[0]+"e"+(+M[1]+I)))+"e").split("e"))[0]+"e"+(+M[1]-I))}return a(h)}}var $c=Za&&1/Vs(new Za([,-0]))[1]==rn?function(i){return new Za(i)}:ih;function dn(i){return function(a){var h=or(a);return h==Y?si(a):h==wt?function ma(rt){var Ct=-1,dt=Array(rt.size);return rt.forEach(function(_t){dt[++Ct]=[_t,_t]}),dt}(a):function Ra(rt,Ct){return le(Ct,function(dt){return[dt,rt[dt]]})}(a,i(a))}}function Ds(i,a,h,I,M,B,X,K){var lt=2&a;if(!lt&&"function"!=typeof i)throw new E(Je);var Nt=I?I.length:0;if(Nt||(a&=-97,I=M=G),X=X===G?X:ar(Pe(X),0),K=K===G?K:Pe(K),Nt-=M?M.length:0,64&a){var Mt=I,Lt=M;I=M=G}var Wt=lt?G:Hu(i),Kt=[i,a,h,I,M,Mt,Lt,B,X,K];if(Wt&&function hf(i,a){var h=i[1],I=a[1],M=h|I;if(!(M<131||(I==C&&8==h||I==C&&256==h&&i[7].length<=a[8]||384==I&&a[7].length<=a[8]&&8==h)))return i;1&I&&(i[2]=a[2],M|=1&h?0:4);var K=a[3];if(K){var lt=i[3];i[3]=lt?na(lt,K,a[4]):K,i[4]=lt?Si(i[3],Sr):a[4]}(K=a[5])&&(i[5]=(lt=i[5])?Vo(lt,K,a[6]):K,i[6]=lt?Si(i[5],Sr):a[6]),(K=a[7])&&(i[7]=K),I&C&&(i[8]=null==i[8]?a[8]:zr(i[8],a[8])),null==i[9]&&(i[9]=a[9]),i[0]=a[0],i[1]=M}(Kt,Wt),i=Kt[0],a=Kt[1],h=Kt[2],I=Kt[3],M=Kt[4],!(K=Kt[9]=Kt[9]===G?lt?0:i.length:ar(Kt[9]-Nt,0))&&24&a&&(a&=-25),a&&1!=a)de=8==a||16==a?function Jl(i,a,h){var I=Xo(i);return function M(){for(var B=arguments.length,X=dt(B),K=B,lt=Xa(M);K--;)X[K]=arguments[K];var Nt=B<3&&X[0]!==lt&&X[B-1]!==lt?[]:Si(X,lt);return(B-=Nt.length)<h?qc(i,a,Wu,M.placeholder,G,X,Nt,G,G,h-B):ot(this&&this!==u&&this instanceof M?I:i,this,X)}}(i,a,K):32!=a&&33!=a||M.length?Wu.apply(G,Kt):function oh(i,a,h,I){var M=1&a,B=Xo(i);return function X(){for(var K=-1,lt=arguments.length,Nt=-1,Mt=I.length,Lt=dt(Mt+lt),Wt=this&&this!==u&&this instanceof X?B:i;++Nt<Mt;)Lt[Nt]=I[Nt];for(;lt--;)Lt[Nt++]=arguments[++K];return ot(Wt,M?h:this,Lt)}}(i,a,h,I);else var de=function Jc(i,a,h){var I=1&a,M=Xo(i);return function B(){return(this&&this!==u&&this instanceof B?M:i).apply(I?h:this,arguments)}}(i,a,h);return ic((Wt?Wo:nl)(de,Kt),i,a)}function Ql(i,a,h,I){return i===G||zs(i,At[h])&&!It.call(I,h)?a:i}function Ue(i,a,h,I,M,B){return Vn(i)&&Vn(a)&&(B.set(a,i),Zo(i,a,G,Ue,B),B.delete(a)),i}function tf(i){return hl(i)?G:i}function Kl(i,a,h,I,M,B){var X=1&h,K=i.length,lt=a.length;if(K!=lt&&!(X&&lt>K))return!1;var Nt=B.get(i),Mt=B.get(a);if(Nt&&Mt)return Nt==a&&Mt==i;var Lt=-1,Wt=!0,Kt=2&h?new Qs:G;for(B.set(i,a),B.set(a,i);++Lt<K;){var de=i[Lt],Ee=a[Lt];if(I)var pe=X?I(Ee,de,Lt,a,i,B):I(de,Ee,Lt,i,a,B);if(pe!==G){if(pe)continue;Wt=!1;break}if(Kt){if(!bn(a,function(We,He){if(!Us(Kt,He)&&(de===We||M(de,We,h,I,B)))return Kt.push(He)})){Wt=!1;break}}else if(de!==Ee&&!M(de,Ee,h,I,B)){Wt=!1;break}}return B.delete(i),B.delete(a),Wt}function Ls(i){return Qo(nc(i,G,uc),i+"")}function Vu(i){return Tl(i,Or,Qu)}function Xu(i){return Tl(i,Oi,ql)}var Hu=pi?function(i){return pi.get(i)}:ih;function Ao(i){for(var a=i.name+"",h=ya[a],I=It.call(ya,a)?h.length:0;I--;){var M=h[I],B=M.func;if(null==B||B==i)return M.name}return a}function Xa(i){return(It.call(z,"placeholder")?z:i).placeholder}function re(){var i=z.iteratee||nh;return i=i===nh?zl:i,arguments.length?i(arguments[0],arguments[1]):i}function Jo(i,a){var h=i.__data__;return function uf(i){var a=typeof i;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i}(a)?h["string"==typeof a?"string":"hash"]:h.map}function Ju(i){for(var a=Or(i),h=a.length;h--;){var I=a[h],M=i[I];a[h]=[I,M,tc(M)]}return a}function Ps(i,a){var h=function Mo(rt,Ct){return null==rt?G:rt[Ct]}(i,a);return El(h)?h:G}var Qu=ru?function(i){return null==i?[]:(i=tn(i),Ft(ru(i),function(a){return en.call(i,a)}))}:sh,ql=ru?function(i){for(var a=[];i;)ne(a,Qu(i)),i=dr(i);return a}:sh,or=Xr;function $l(i,a,h){for(var I=-1,M=(a=ta(a,i)).length,B=!1;++I<M;){var X=fs(a[I]);if(!(B=null!=i&&h(i,X)))break;i=i[X]}return B||++I!=M?B:!!(M=null==i?0:i.length)&&pc(M)&&ks(X,M)&&(xe(i)||xo(i))}function ra(i){return"function"!=typeof i.constructor||Co(i)?{}:_a(dr(i))}function of(i){return xe(i)||xo(i)||!!(br&&i&&i[br])}function ks(i,a){var h=typeof i;return!!(a=a??fr)&&("number"==h||"symbol"!=h&&Gs.test(i))&&i>-1&&i%1==0&&i<a}function Jr(i,a,h){if(!Vn(h))return!1;var I=typeof a;return!!("number"==I?zi(h)&&ks(a,h.length):"string"==I&&a in h)&&zs(h[a],i)}function $u(i,a){if(xe(i))return!1;var h=typeof i;return!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=i&&!Qi(i))||ns.test(i)||!yn.test(i)||null!=a&&i in tn(a)}function tl(i){var a=Ao(i),h=z[a];if("function"!=typeof h||!(a in fe.prototype))return!1;if(i===h)return!0;var I=Hu(h);return!!I&&i===I[0]}(au&&or(new au(new ArrayBuffer(1)))!=Cn||io&&or(new io)!=Y||so&&or(so.resolve())!=O||Za&&or(new Za)!=wt||Ms&&or(new Ms)!=Ge)&&(or=function(i){var a=Xr(i),h=a==T?i.constructor:G,I=h?Ma(h):"";if(I)switch(I){case ou:return Cn;case Hs:return Y;case Wa:return O;case Oe:return wt;case je:return Ge}return a});var cf=at?Sa:ah;function Co(i){var a=i&&i.constructor;return i===("function"==typeof a&&a.prototype||At)}function tc(i){return i==i&&!Vn(i)}function ec(i,a){return function(h){return null!=h&&h[i]===a&&(a!==G||i in tn(h))}}function nc(i,a,h){return a=ar(a===G?i.length-1:a,0),function(){for(var I=arguments,M=-1,B=ar(I.length-a,0),X=dt(B);++M<B;)X[M]=I[a+M];M=-1;for(var K=dt(a+1);++M<a;)K[M]=I[M];return K[a]=h(X),ot(i,this,K)}}function rc(i,a){return a.length<2?i:Ts(i,ki(a,0,-1))}function pf(i,a){for(var h=i.length,I=zr(a.length,h),M=Hr(i);I--;){var B=a[I];i[I]=ks(B,h)?M[B]:G}return i}function el(i,a){if(("constructor"!==a||"function"!=typeof i[a])&&"__proto__"!=a)return i[a]}var nl=Ha(Wo),yo=Cc||function(i,a){return u.setTimeout(i,a)},Qo=Ha(Tu);function ic(i,a,h){var I=a+"";return Qo(i,function af(i,a){var h=a.length;if(!h)return i;var I=h-1;return a[I]=(h>1?"& ":"")+a[I],a=a.join(h>2?", ":" "),i.replace(Is,"{\n/* [wrapped with "+a+"] */\n")}(I,function vf(i,a){return Gt(En,function(h){var I="_."+h[0];a&h[1]&&!Tn(i,I)&&i.push(I)}),i.sort()}(function rf(i){var a=i.match(ua);return a?a[1].split(ni):[]}(I),h)))}function Ha(i){var a=0,h=0;return function(){var I=bc(),M=16-(I-h);if(h=I,M>0){if(++a>=800)return arguments[0]}else a=0;return i.apply(G,arguments)}}function Ko(i,a){var h=-1,I=i.length,M=I-1;for(a=a===G?I:a;++h<a;){var B=Va(h,M),X=i[B];i[B]=i[h],i[h]=X}return i.length=a,i}var sc=function ff(i){var a=gc(i,function(I){return 500===h.size&&h.clear(),I}),h=a.cache;return a}(function(i){var a=[];return 46===i.charCodeAt(0)&&a.push(""),i.replace(ir,function(h,I,M,B){a.push(M?B.replace(ri,"$1"):I||h)}),a});function fs(i){if("string"==typeof i||Qi(i))return i;var a=i+"";return"0"==a&&1/i==-rn?"-0":a}function Ma(i){if(null!=i){try{return bt.call(i)}catch{}try{return i+""}catch{}}return""}function ac(i){if(i instanceof fe)return i.clone();var a=new ai(i.__wrapped__,i.__chain__);return a.__actions__=Hr(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}var Cf=De(function(i,a){return ur(i)?fo(i,xr(a,1,ur,!0)):[]}),yf=De(function(i,a){var h=Ei(a);return ur(h)&&(h=G),ur(i)?fo(i,xr(a,1,ur,!0),re(h,2)):[]}),wf=De(function(i,a){var h=Ei(a);return ur(h)&&(h=G),ur(i)?fo(i,xr(a,1,ur,!0),G,h):[]});function qo(i,a,h){var I=null==i?0:i.length;if(!I)return-1;var M=null==h?0:Pe(h);return M<0&&(M=ar(I+M,0)),Ni(i,re(a,3),M)}function oc(i,a,h){var I=null==i?0:i.length;if(!I)return-1;var M=I-1;return h!==G&&(M=Pe(h),M=h<0?ar(I+M,0):zr(M,I-1)),Ni(i,re(a,3),M,!0)}function uc(i){return null!=i&&i.length?xr(i,1):[]}function lc(i){return i&&i.length?i[0]:G}var kf=De(function(i){var a=le(i,ku);return a.length&&a[0]===i[0]?jo(a):[]}),Ef=De(function(i){var a=Ei(i),h=le(i,ku);return a===Ei(h)?a=G:h.pop(),h.length&&h[0]===i[0]?jo(h,re(a,2)):[]}),zf=De(function(i){var a=Ei(i),h=le(i,ku);return(a="function"==typeof a?a:G)&&h.pop(),h.length&&h[0]===i[0]?jo(h,G,a):[]});function Ei(i){var a=null==i?0:i.length;return a?i[a-1]:G}var Gf=De(Ja);function Ja(i,a){return i&&i.length&&a&&a.length?xu(i,a):i}var Zf=Ls(function(i,a){var h=null==i?0:i.length,I=pu(i,a);return Nu(i,le(a,function(M){return ks(M,h)?+M:M}).sort(Xl)),I});function t(i){return null==i?i:Nc.call(i)}var tt=De(function(i){return $s(xr(i,1,ur,!0))}),nt=De(function(i){var a=Ei(i);return ur(a)&&(a=G),$s(xr(i,1,ur,!0),re(a,2))}),ht=De(function(i){var a=Ei(i);return a="function"==typeof a?a:G,$s(xr(i,1,ur,!0),G,a)});function P(i){if(!i||!i.length)return[];var a=0;return i=Ft(i,function(h){if(ur(h))return a=ar(h.length,a),!0}),va(a,function(h){return le(i,Gn(h))})}function Z(i,a){if(!i||!i.length)return[];var h=P(i);return null==a?h:le(h,function(I){return ot(a,G,I)})}var H=De(function(i,a){return ur(i)?fo(i,a):[]}),st=De(function(i){return Pu(Ft(i,ur))}),ut=De(function(i){var a=Ei(i);return ur(a)&&(a=G),Pu(Ft(i,ur),re(a,2))}),vt=De(function(i){var a=Ei(i);return a="function"==typeof a?a:G,Pu(Ft(i,ur),G,a)}),Dt=De(P),Rt=De(function(i){var a=i.length,h=a>1?i[a-1]:G;return h="function"==typeof h?(i.pop(),h):G,Z(i,h)});function zt(i){var a=z(i);return a.__chain__=!0,a}function Fe(i,a){return a(i)}var Ze=Ls(function(i){var a=i.length,h=a?i[0]:0,I=this.__wrapped__,M=function(B){return pu(B,i)};return!(a>1||this.__actions__.length)&&I instanceof fe&&ks(h)?((I=I.slice(h,+h+(a?1:0))).__actions__.push({func:Fe,args:[M],thisArg:G}),new ai(I,this.__chain__).thru(function(B){return a&&!B.length&&B.push(G),B})):this.thru(M)}),on=Ru(function(i,a,h){It.call(i,h)?++i[h]:us(i,h,1)}),Be=Qc(qo),Ce=Qc(oc);function vr(i,a){return(xe(i)?Gt:qs)(i,re(a,3))}function Nr(i,a){return(xe(i)?Zt:bl)(i,re(a,3))}var Es=Ru(function(i,a,h){It.call(i,h)?i[h].push(a):us(i,h,[a])}),sl=De(function(i,a,h){var I=-1,M="function"==typeof a,B=zi(i)?dt(i.length):[];return qs(i,function(X){B[++I]=M?ot(a,X,h):Ua(X,a,h)}),B}),cc=Ru(function(i,a,h){us(i,h,a)});function ia(i,a){return(xe(i)?le:Bl)(i,re(a,3))}var Mr=Ru(function(i,a,h){i[h?0:1].push(a)},function(){return[[],[]]}),Hf=De(function(i,a){if(null==i)return[];var h=a.length;return h>1&&Jr(i,a[0],a[1])?a=[]:h>2&&Jr(a[0],a[1],a[2])&&(a=[a[0]]),jl(i,xr(a,1),[])}),bo=Ac||function(){return u.Date.now()};function ol(i,a,h){return a=h?G:a,Ds(i,C,G,G,G,G,a=i&&null==a?i.length:a)}function ul(i,a){var h;if("function"!=typeof a)throw new E(Je);return i=Pe(i),function(){return--i>0&&(h=a.apply(this,arguments)),i<=1&&(a=G),h}}var sa=De(function(i,a,h){var I=1;if(h.length){var M=Si(h,Xa(sa));I|=32}return Ds(i,I,a,h,M)}),ll=De(function(i,a,h){var I=3;if(h.length){var M=Si(h,Xa(ll));I|=32}return Ds(a,I,i,h,M)});function hc(i,a,h){var I,M,B,X,K,lt,Nt=0,Mt=!1,Lt=!1,Wt=!0;if("function"!=typeof i)throw new E(Je);function Kt(lr){var Os=I,Da=M;return I=M=G,Nt=lr,X=i.apply(Da,Os)}function de(lr){return Nt=lr,K=yo(We,a),Mt?Kt(lr):X}function pe(lr){var Os=lr-lt;return lt===G||Os>=a||Os<0||Lt&&lr-Nt>=B}function We(){var lr=bo();if(pe(lr))return He(lr);K=yo(We,function Ee(lr){var Sh=a-(lr-lt);return Lt?zr(Sh,B-(lr-Nt)):Sh}(lr))}function He(lr){return K=G,Wt&&I?Kt(lr):(I=M=G,X)}function qi(){var lr=bo(),Os=pe(lr);if(I=arguments,M=this,lt=lr,Os){if(K===G)return de(lt);if(Lt)return Vl(K),K=yo(We,a),Kt(lt)}return K===G&&(K=yo(We,a)),X}return a=hs(a)||0,Vn(h)&&(Mt=!!h.leading,B=(Lt="maxWait"in h)?ar(hs(h.maxWait)||0,a):B,Wt="trailing"in h?!!h.trailing:Wt),qi.cancel=function Ki(){K!==G&&Vl(K),Nt=0,I=lt=M=K=G},qi.flush=function mi(){return K===G?X:He(bo())},qi}var aa=De(function(i,a){return Ro(i,1,a)}),Th=De(function(i,a,h){return Ro(i,hs(a)||0,h)});function gc(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new E(Je);var h=function(){var I=arguments,M=a?a.apply(this,I):I[0],B=h.cache;if(B.has(M))return B.get(M);var X=i.apply(this,I);return h.cache=B.set(M,X)||B,X};return h.cache=new(gc.Cache||os),h}function dc(i){if("function"!=typeof i)throw new E(Je);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}gc.Cache=os;var Ph=Fc(function(i,a){var h=(a=1==a.length&&xe(a[0])?le(a[0],gr(re())):le(xr(a,1),gr(re()))).length;return De(function(I){for(var M=-1,B=zr(I.length,h);++M<B;)I[M]=a[M].call(this,I[M]);return ot(i,this,I)})}),Jf=De(function(i,a){var h=Si(a,Xa(Jf));return Ds(i,32,G,a,h)}),lh=De(function(i,a){var h=Si(a,Xa(lh));return Ds(i,64,G,a,h)}),kh=Ls(function(i,a){return Ds(i,256,G,G,G,a)});function zs(i,a){return i===a||i!=i&&a!=a}var Uh=Uu(mu),Fh=Uu(function(i,a){return i>=a}),xo=Iu(function(){return arguments}())?Iu:function(i){return tr(i)&&It.call(i,"callee")&&!en.call(i,"callee")},xe=dt.isArray,Vh=D?gr(D):function Gc(i){return tr(i)&&Xr(i)==Te};function zi(i){return null!=i&&pc(i.length)&&!Sa(i)}function ur(i){return tr(i)&&zi(i)}var Qa=yc||ah,Hh=U?gr(U):function jc(i){return tr(i)&&Xr(i)==zn};function Qf(i){if(!tr(i))return!1;var a=Xr(i);return a==ti||"[object DOMException]"==a||"string"==typeof i.message&&"string"==typeof i.name&&!hl(i)}function Sa(i){if(!Vn(i))return!1;var a=Xr(i);return a==ts||a==vs||"[object AsyncFunction]"==a||"[object Proxy]"==a}function ch(i){return"number"==typeof i&&i==Pe(i)}function pc(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=fr}function Vn(i){var a=typeof i;return null!=i&&("object"==a||"function"==a)}function tr(i){return null!=i&&"object"==typeof i}var fh=W?gr(W):function kl(i){return tr(i)&&or(i)==Y};function hh(i){return"number"==typeof i||tr(i)&&Xr(i)==Re}function hl(i){if(!tr(i)||Xr(i)!=T)return!1;var a=dr(i);if(null===a)return!0;var h=It.call(a,"constructor")&&a.constructor;return"function"==typeof h&&h instanceof h&&bt.call(h)==te}var Kf=it?gr(it):function ve(i){return tr(i)&&Xr(i)==yt},gh=gt?gr(gt):function go(i){return tr(i)&&or(i)==wt};function vc(i){return"string"==typeof i||!xe(i)&&tr(i)&&Xr(i)==Yt}function Qi(i){return"symbol"==typeof i||tr(i)&&Xr(i)==Ht}var $o=xt?gr(xt):function Pi(i){return tr(i)&&pc(i.length)&&!!an[Xr(i)]},cg=Uu(wu),fg=Uu(function(i,a){return i<=a});function dh(i){if(!i)return[];if(zi(i))return vc(i)?Sn(i):Hr(i);if(Aa&&i[Aa])return function Fs(rt){for(var Ct,dt=[];!(Ct=rt.next()).done;)dt.push(Ct.value);return dt}(i[Aa]());var a=or(i);return(a==Y?si:a==wt?Vs:tu)(i)}function Ta(i){return i?(i=hs(i))===rn||i===-rn?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0}function Pe(i){var a=Ta(i),h=a%1;return a==a?h?a-h:a:0}function ph(i){return i?Ks(Pe(i),0,nr):0}function hs(i){if("number"==typeof i)return i;if(Qi(i))return NaN;if(Vn(i)){var a="function"==typeof i.valueOf?i.valueOf():i;i=Vn(a)?a+"":a}if("string"!=typeof i)return 0===i?i:+i;i=Mi(i);var h=ca.test(i);return h||Cs.test(i)?J(i.slice(2),h?2:8):yi.test(i)?NaN:+i}function vh(i){return Ji(i,Oi(i))}function pn(i){return null==i?"":vi(i)}var gg=vo(function(i,a){if(Co(a)||zi(a))Ji(a,Or(a),i);else for(var h in a)It.call(a,h)&&lo(i,h,a[h])}),mh=vo(function(i,a){Ji(a,Oi(a),i)}),mc=vo(function(i,a,h,I){Ji(a,Oi(a),i,I)}),dg=vo(function(i,a,h,I){Ji(a,Or(a),i,I)}),pg=Ls(pu),mg=De(function(i,a){i=tn(i);var h=-1,I=a.length,M=I>2?a[2]:G;for(M&&Jr(a[0],a[1],M)&&(I=1);++h<I;)for(var B=a[h],X=Oi(B),K=-1,lt=X.length;++K<lt;){var Nt=X[K],Mt=i[Nt];(Mt===G||zs(Mt,At[Nt])&&!It.call(i,Nt))&&(i[Nt]=B[Nt])}return i}),Ig=De(function(i){return i.push(G,Ue),ot(Ih,G,i)});function qf(i,a,h){var I=null==i?G:Ts(i,a);return I===G?h:I}function $f(i,a){return null!=i&&$l(i,a,Dl)}var Tg=Kc(function(i,a,h){null!=a&&"function"!=typeof a.toString&&(a=qt.call(a)),i[a]=h},eh(Bi)),Dg=Kc(function(i,a,h){null!=a&&"function"!=typeof a.toString&&(a=qt.call(a)),It.call(i,a)?i[a].push(h):i[a]=[h]},re),Lg=De(Ua);function Or(i){return zi(i)?Cl(i):yu(i)}function Oi(i){return zi(i)?Cl(i,!0):function Ol(i){if(!Vn(i))return function gf(i){var a=[];if(null!=i)for(var h in tn(i))a.push(h);return a}(i);var a=Co(i),h=[];for(var I in i)"constructor"==I&&(a||!It.call(i,I))||h.push(I);return h}(i)}var Eg=vo(function(i,a,h){Zo(i,a,h)}),Ih=vo(function(i,a,h,I){Zo(i,a,h,I)}),zg=Ls(function(i,a){var h={};if(null==i)return h;var I=!1;a=le(a,function(B){return B=ta(B,i),I||(I=B.length>1),B}),Ji(i,Xu(i),h),I&&(h=Li(h,7,tf));for(var M=a.length;M--;)Lu(h,a[M]);return h}),Bg=Ls(function(i,a){return null==i?{}:function Wc(i,a){return Fa(i,a,function(h,I){return $f(i,I)})}(i,a)});function Ah(i,a){if(null==i)return{};var h=le(Xu(i),function(I){return[I]});return a=re(a),Fa(i,h,function(I,M){return a(I,M[0])})}var Ch=dn(Or),yh=dn(Oi);function tu(i){return null==i?[]:Ga(i,Or(i))}var Hg=Na(function(i,a,h){return a=a.toLowerCase(),i+(h?wh(a):a)});function wh(i){return th(pn(i).toLowerCase())}function bh(i){return(i=pn(i))&&i.replace(La,ja).replace(Yn,"")}var qg=Na(function(i,a,h){return i+(h?"-":"")+a.toLowerCase()}),$g=Na(function(i,a,h){return i+(h?" ":"")+a.toLowerCase()}),td=ju("toLowerCase"),od=Na(function(i,a,h){return i+(h?"_":"")+a.toLowerCase()}),ld=Na(function(i,a,h){return i+(h?" ":"")+th(a)}),Ad=Na(function(i,a,h){return i+(h?" ":"")+a.toUpperCase()}),th=ju("toUpperCase");function xh(i,a,h){return i=pn(i),(a=h?G:a)===G?function as(rt){return xs.test(rt)}(i)?function To(rt){return rt.match(bs)||[]}(i):function Ve(rt){return rt.match(Qn)||[]}(i):i.match(a)||[]}var Nh=De(function(i,a){try{return ot(i,G,a)}catch(h){return Qf(h)?h:new he(h)}}),Cd=Ls(function(i,a){return Gt(a,function(h){h=fs(h),us(i,h,sa(i[h],i))}),i});function eh(i){return function(){return i}}var xd=Zu(),Nd=Zu(!0);function Bi(i){return i}function nh(i){return zl("function"==typeof i?i:Li(i,1))}var Td=De(function(i,a){return function(h){return Ua(h,i,a)}}),Dd=De(function(i,a){return function(h){return Ua(i,h,a)}});function rh(i,a,h){var I=Or(a),M=pr(a,I);null==h&&(!Vn(a)||!M.length&&I.length)&&(h=a,a=i,i=this,M=pr(a,Or(a)));var B=!(Vn(h)&&"chain"in h&&!h.chain),X=Sa(i);return Gt(M,function(K){var lt=a[K];i[K]=lt,X&&(i.prototype[K]=function(){var Nt=this.__chain__;if(B||Nt){var Mt=i(this.__wrapped__),Lt=Mt.__actions__=Hr(this.__actions__);return Lt.push({func:lt,args:arguments,thisArg:i}),Mt.__chain__=Nt,Mt}return lt.apply(i,ne([this.value()],arguments))})}),i}function ih(){}var kd=Io(le),Ed=Io(Ot),zd=Io(bn);function Mh(i){return $u(i)?Gn(fs(i)):function Zl(i){return function(a){return Ts(a,i)}}(i)}var Bd=Yu(),Rd=Yu(!0);function sh(){return[]}function ah(){return!1}var Ud=mo(function(i,a){return i+a},0),Fd=Ho("ceil"),Vd=mo(function(i,a){return i/a},1),Xd=Ho("floor"),tp=mo(function(i,a){return i*a},1),ep=Ho("round"),np=mo(function(i,a){return i-a},0);return z.after=function fc(i,a){if("function"!=typeof a)throw new E(Je);return i=Pe(i),function(){if(--i<1)return a.apply(this,arguments)}},z.ary=ol,z.assign=gg,z.assignIn=mh,z.assignInWith=mc,z.assignWith=dg,z.at=pg,z.before=ul,z.bind=sa,z.bindAll=Cd,z.bindKey=ll,z.castArray=function Gh(){if(!arguments.length)return[];var i=arguments[0];return xe(i)?i:[i]},z.chain=zt,z.chunk=function mf(i,a,h){a=(h?Jr(i,a,h):a===G)?1:ar(Pe(a),0);var I=null==i?0:i.length;if(!I||a<1)return[];for(var M=0,B=0,X=dt(Lo(I/a));M<I;)X[B++]=ki(i,M,M+=a);return X},z.compact=function If(i){for(var a=-1,h=null==i?0:i.length,I=0,M=[];++a<h;){var B=i[a];B&&(M[I++]=B)}return M},z.concat=function Af(){var i=arguments.length;if(!i)return[];for(var a=dt(i-1),h=arguments[0],I=i;I--;)a[I-1]=arguments[I];return ne(xe(h)?Hr(h):[h],xr(a,1))},z.cond=function yd(i){var a=null==i?0:i.length,h=re();return i=a?le(i,function(I){if("function"!=typeof I[1])throw new E(Je);return[h(I[0]),I[1]]}):[],De(function(I){for(var M=-1;++M<a;){var B=i[M];if(ot(B[0],this,I))return ot(B[1],this,I)}})},z.conforms=function wd(i){return function Bo(i){var a=Or(i);return function(h){return co(h,i,a)}}(Li(i,1))},z.constant=eh,z.countBy=on,z.create=function vg(i,a){var h=_a(i);return null==a?h:wl(h,a)},z.curry=function cl(i,a,h){var I=Ds(i,8,G,G,G,G,G,a=h?G:a);return I.placeholder=cl.placeholder,I},z.curryRight=function fl(i,a,h){var I=Ds(i,16,G,G,G,G,G,a=h?G:a);return I.placeholder=fl.placeholder,I},z.debounce=hc,z.defaults=mg,z.defaultsDeep=Ig,z.defer=aa,z.delay=Th,z.difference=Cf,z.differenceBy=yf,z.differenceWith=wf,z.drop=function bf(i,a,h){var I=null==i?0:i.length;return I?ki(i,(a=h||a===G?1:Pe(a))<0?0:a,I):[]},z.dropRight=function xf(i,a,h){var I=null==i?0:i.length;return I?ki(i,0,(a=I-(a=h||a===G?1:Pe(a)))<0?0:a):[]},z.dropRightWhile=function Nf(i,a){return i&&i.length?Yo(i,re(a,3),!0,!0):[]},z.dropWhile=function Mf(i,a){return i&&i.length?Yo(i,re(a,3),!0):[]},z.fill=function rl(i,a,h,I){var M=null==i?0:i.length;return M?(h&&"number"!=typeof h&&Jr(i,a,h)&&(h=0,I=M),function Nl(i,a,h,I){var M=i.length;for((h=Pe(h))<0&&(h=-h>M?0:M+h),(I=I===G||I>M?M:Pe(I))<0&&(I+=M),I=h>I?0:ph(I);h<I;)i[h++]=a;return i}(i,a,h,I)):[]},z.filter=function Pn(i,a){return(xe(i)?Ft:Ml)(i,re(a,3))},z.flatMap=function ke(i,a){return xr(ia(i,a),1)},z.flatMapDeep=function ee(i,a){return xr(ia(i,a),rn)},z.flatMapDepth=function jt(i,a,h){return h=h===G?1:Pe(h),xr(ia(i,a),h)},z.flatten=uc,z.flattenDeep=function Sf(i){return null!=i&&i.length?xr(i,rn):[]},z.flattenDepth=function Tf(i,a){return null!=i&&i.length?xr(i,a=a===G?1:Pe(a)):[]},z.flip=function Dh(i){return Ds(i,512)},z.flow=xd,z.flowRight=Nd,z.fromPairs=function Df(i){for(var a=-1,h=null==i?0:i.length,I={};++a<h;){var M=i[a];I[M[0]]=M[1]}return I},z.functions=function Ng(i){return null==i?[]:pr(i,Or(i))},z.functionsIn=function Mg(i){return null==i?[]:pr(i,Oi(i))},z.groupBy=Es,z.initial=function Pf(i){return null!=i&&i.length?ki(i,0,-1):[]},z.intersection=kf,z.intersectionBy=Ef,z.intersectionWith=zf,z.invert=Tg,z.invertBy=Dg,z.invokeMap=sl,z.iteratee=nh,z.keyBy=cc,z.keys=Or,z.keysIn=Oi,z.map=ia,z.mapKeys=function Pg(i,a){var h={};return a=re(a,3),ls(i,function(I,M,B){us(h,a(I,M,B),I)}),h},z.mapValues=function kg(i,a){var h={};return a=re(a,3),ls(i,function(I,M,B){us(h,M,a(I,M,B))}),h},z.matches=function Md(i){return Rl(Li(i,1))},z.matchesProperty=function Sd(i,a){return bu(i,Li(a,1))},z.memoize=gc,z.merge=Eg,z.mergeWith=Ih,z.method=Td,z.methodOf=Dd,z.mixin=rh,z.negate=dc,z.nthArg=function Pd(i){return i=Pe(i),De(function(a){return Gl(a,i)})},z.omit=zg,z.omitBy=function Og(i,a){return Ah(i,dc(re(a)))},z.once=function Lh(i){return ul(2,i)},z.orderBy=function wo(i,a,h,I){return null==i?[]:(xe(a)||(a=null==a?[]:[a]),xe(h=I?G:h)||(h=null==h?[]:[h]),jl(i,a,h))},z.over=kd,z.overArgs=Ph,z.overEvery=Ed,z.overSome=zd,z.partial=Jf,z.partialRight=lh,z.partition=Mr,z.pick=Bg,z.pickBy=Ah,z.property=Mh,z.propertyOf=function Od(i){return function(a){return null==i?G:Ts(i,a)}},z.pull=Gf,z.pullAll=Ja,z.pullAllBy=function uh(i,a,h){return i&&i.length&&a&&a.length?xu(i,a,re(h,2)):i},z.pullAllWith=function jf(i,a,h){return i&&i.length&&a&&a.length?xu(i,a,G,h):i},z.pullAt=Zf,z.range=Bd,z.rangeRight=Rd,z.rearg=kh,z.reject=function _f(i,a){return(xe(i)?Ft:Ml)(i,dc(re(a,3)))},z.remove=function Wf(i,a){var h=[];if(!i||!i.length)return h;var I=-1,M=[],B=i.length;for(a=re(a,3);++I<B;){var X=i[I];a(X,I,i)&&(h.push(X),M.push(I))}return Nu(i,M),h},z.rest=function Eh(i,a){if("function"!=typeof i)throw new E(Je);return De(i,a=a===G?a:Pe(a))},z.reverse=t,z.sampleSize=function Uf(i,a,h){return a=(h?Jr(i,a,h):a===G)?1:Pe(a),(xe(i)?yl:_c)(i,a)},z.set=function Gg(i,a,h){return null==i?i:po(i,a,h)},z.setWith=function jg(i,a,h,I){return I="function"==typeof I?I:G,null==i?i:po(i,a,h,I)},z.shuffle=function Ff(i){return(xe(i)?zc:Yc)(i)},z.slice=function e(i,a,h){var I=null==i?0:i.length;return I?(h&&"number"!=typeof h&&Jr(i,a,h)?(a=0,h=I):(a=null==a?0:Pe(a),h=h===G?I:Pe(h)),ki(i,a,h)):[]},z.sortBy=Hf,z.sortedUniq=function g(i){return i&&i.length?cs(i):[]},z.sortedUniqBy=function m(i,a){return i&&i.length?cs(i,re(a,2)):[]},z.split=function ud(i,a,h){return h&&"number"!=typeof h&&Jr(i,a,h)&&(a=h=G),(h=h===G?nr:h>>>0)?(i=pn(i))&&("string"==typeof a||null!=a&&!Kf(a))&&!(a=vi(a))&&ii(i)?ea(Sn(i),0,h):i.split(a,h):[]},z.spread=function zh(i,a){if("function"!=typeof i)throw new E(Je);return a=null==a?0:ar(Pe(a),0),De(function(h){var I=h[a],M=ea(h,0,a);return I&&ne(M,I),ot(i,this,M)})},z.tail=function A(i){var a=null==i?0:i.length;return a?ki(i,1,a):[]},z.take=function p(i,a,h){return i&&i.length?ki(i,0,(a=h||a===G?1:Pe(a))<0?0:a):[]},z.takeRight=function L(i,a,h){var I=null==i?0:i.length;return I?ki(i,(a=I-(a=h||a===G?1:Pe(a)))<0?0:a,I):[]},z.takeRightWhile=function R(i,a){return i&&i.length?Yo(i,re(a,3),!1,!0):[]},z.takeWhile=function j(i,a){return i&&i.length?Yo(i,re(a,3)):[]},z.tap=function Qt(i,a){return a(i),i},z.throttle=function Oh(i,a,h){var I=!0,M=!0;if("function"!=typeof i)throw new E(Je);return Vn(h)&&(I="leading"in h?!!h.leading:I,M="trailing"in h?!!h.trailing:M),hc(i,a,{leading:I,maxWait:a,trailing:M})},z.thru=Fe,z.toArray=dh,z.toPairs=Ch,z.toPairsIn=yh,z.toPath=function _d(i){return xe(i)?le(i,fs):Qi(i)?[i]:Hr(sc(pn(i)))},z.toPlainObject=vh,z.transform=function Zg(i,a,h){var I=xe(i),M=I||Qa(i)||$o(i);if(a=re(a,4),null==h){var B=i&&i.constructor;h=M?I?new B:[]:Vn(i)&&Sa(B)?_a(dr(i)):{}}return(M?Gt:ls)(i,function(X,K,lt){return a(h,X,K,lt)}),h},z.unary=function Bh(i){return ol(i,1)},z.union=tt,z.unionBy=nt,z.unionWith=ht,z.uniq=function ft(i){return i&&i.length?$s(i):[]},z.uniqBy=function y(i,a){return i&&i.length?$s(i,re(a,2)):[]},z.uniqWith=function S(i,a){return a="function"==typeof a?a:G,i&&i.length?$s(i,G,a):[]},z.unset=function Wg(i,a){return null==i||Lu(i,a)},z.unzip=P,z.unzipWith=Z,z.update=function _g(i,a,h){return null==i?i:Yl(i,a,Eu(h))},z.updateWith=function Yg(i,a,h,I){return I="function"==typeof I?I:G,null==i?i:Yl(i,a,Eu(h),I)},z.values=tu,z.valuesIn=function Ug(i){return null==i?[]:Ga(i,Oi(i))},z.without=H,z.words=xh,z.wrap=function Rh(i,a){return Jf(Eu(a),i)},z.xor=st,z.xorBy=ut,z.xorWith=vt,z.zip=Dt,z.zipObject=function St(i,a){return Fl(i||[],a||[],lo)},z.zipObjectDeep=function kt(i,a){return Fl(i||[],a||[],po)},z.zipWith=Rt,z.entries=Ch,z.entriesIn=yh,z.extend=mh,z.extendWith=mc,rh(z,z),z.add=Ud,z.attempt=Nh,z.camelCase=Hg,z.capitalize=wh,z.ceil=Fd,z.clamp=function Fg(i,a,h){return h===G&&(h=a,a=G),h!==G&&(h=(h=hs(h))==h?h:0),a!==G&&(a=(a=hs(a))==a?a:0),Ks(hs(i),a,h)},z.clone=function jh(i){return Li(i,4)},z.cloneDeep=function Wh(i){return Li(i,5)},z.cloneDeepWith=function _h(i,a){return Li(i,5,a="function"==typeof a?a:G)},z.cloneWith=function Zh(i,a){return Li(i,4,a="function"==typeof a?a:G)},z.conformsTo=function Yh(i,a){return null==a||co(i,a,Or(a))},z.deburr=bh,z.defaultTo=function bd(i,a){return null==i||i!=i?a:i},z.divide=Vd,z.endsWith=function Jg(i,a,h){i=pn(i),a=vi(a);var I=i.length,M=h=h===G?I:Ks(Pe(h),0,I);return(h-=a.length)>=0&&i.slice(h,M)==a},z.eq=zs,z.escape=function Qg(i){return(i=pn(i))&&jr.test(i)?i.replace(es,no):i},z.escapeRegExp=function Kg(i){return(i=pn(i))&&li.test(i)?i.replace(Ci,"\\$&"):i},z.every=function Se(i,a,h){var I=xe(i)?Ot:xl;return h&&Jr(i,a,h)&&(a=G),I(i,re(a,3))},z.find=Be,z.findIndex=qo,z.findKey=function Ag(i,a){return wr(i,re(a,3),ls)},z.findLast=Ce,z.findLastIndex=oc,z.findLastKey=function Cg(i,a){return wr(i,re(a,3),oi)},z.floor=Xd,z.forEach=vr,z.forEachRight=Nr,z.forIn=function yg(i,a){return null==i?i:vu(i,re(a,3),Oi)},z.forInRight=function wg(i,a){return null==i?i:Sl(i,re(a,3),Oi)},z.forOwn=function bg(i,a){return i&&ls(i,re(a,3))},z.forOwnRight=function xg(i,a){return i&&oi(i,re(a,3))},z.get=qf,z.gt=Uh,z.gte=Fh,z.has=function Sg(i,a){return null!=i&&$l(i,a,Rc)},z.hasIn=$f,z.head=lc,z.identity=Bi,z.includes=function il(i,a,h,I){i=zi(i)?i:tu(i),h=h&&!I?Pe(h):0;var M=i.length;return h<0&&(h=ar(M+h,0)),vc(i)?h<=M&&i.indexOf(a,h)>-1:!!M&&qn(i,a,h)>-1},z.indexOf=function Lf(i,a,h){var I=null==i?0:i.length;if(!I)return-1;var M=null==h?0:Pe(h);return M<0&&(M=ar(I+M,0)),qn(i,a,M)},z.inRange=function Vg(i,a,h){return a=Ta(a),h===G?(h=a,a=0):h=Ta(h),function Ll(i,a,h){return i>=zr(a,h)&&i<ar(a,h)}(i=hs(i),a,h)},z.invoke=Lg,z.isArguments=xo,z.isArray=xe,z.isArrayBuffer=Vh,z.isArrayLike=zi,z.isArrayLikeObject=ur,z.isBoolean=function Xh(i){return!0===i||!1===i||tr(i)&&Xr(i)==Gr},z.isBuffer=Qa,z.isDate=Hh,z.isElement=function Jh(i){return tr(i)&&1===i.nodeType&&!hl(i)},z.isEmpty=function Qh(i){if(null==i)return!0;if(zi(i)&&(xe(i)||"string"==typeof i||"function"==typeof i.splice||Qa(i)||$o(i)||xo(i)))return!i.length;var a=or(i);if(a==Y||a==wt)return!i.size;if(Co(i))return!yu(i).length;for(var h in i)if(It.call(i,h))return!1;return!0},z.isEqual=function Kh(i,a){return ho(i,a)},z.isEqualWith=function qh(i,a,h){var I=(h="function"==typeof h?h:G)?h(i,a):G;return I===G?ho(i,a,G,h):!!I},z.isError=Qf,z.isFinite=function $h(i){return"number"==typeof i&&gl(i)},z.isFunction=Sa,z.isInteger=ch,z.isLength=pc,z.isMap=fh,z.isMatch=function tg(i,a){return i===a||Cu(i,a,Ju(a))},z.isMatchWith=function eg(i,a,h){return h="function"==typeof h?h:G,Cu(i,a,Ju(a),h)},z.isNaN=function ng(i){return hh(i)&&i!=+i},z.isNative=function rg(i){if(cf(i))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return El(i)},z.isNil=function sg(i){return null==i},z.isNull=function ig(i){return null===i},z.isNumber=hh,z.isObject=Vn,z.isObjectLike=tr,z.isPlainObject=hl,z.isRegExp=Kf,z.isSafeInteger=function ag(i){return ch(i)&&i>=-fr&&i<=fr},z.isSet=gh,z.isString=vc,z.isSymbol=Qi,z.isTypedArray=$o,z.isUndefined=function og(i){return i===G},z.isWeakMap=function ug(i){return tr(i)&&or(i)==Ge},z.isWeakSet=function lg(i){return tr(i)&&"[object WeakSet]"==Xr(i)},z.join=function Of(i,a){return null==i?"":iu.call(i,a)},z.kebabCase=qg,z.last=Ei,z.lastIndexOf=function Bf(i,a,h){var I=null==i?0:i.length;if(!I)return-1;var M=I;return h!==G&&(M=(M=Pe(h))<0?ar(I+M,0):zr(M,I-1)),a==a?function Ye(rt,Ct,dt){for(var _t=dt+1;_t--;)if(rt[_t]===Ct)return _t;return _t}(i,a,M):Ni(i,Ur,M,!0)},z.lowerCase=$g,z.lowerFirst=td,z.lt=cg,z.lte=fg,z.max=function Hd(i){return i&&i.length?Go(i,Bi,mu):G},z.maxBy=function Jd(i,a){return i&&i.length?Go(i,re(a,2),mu):G},z.mean=function Qd(i){return Vi(i,Bi)},z.meanBy=function Kd(i,a){return Vi(i,re(a,2))},z.min=function qd(i){return i&&i.length?Go(i,Bi,wu):G},z.minBy=function $d(i,a){return i&&i.length?Go(i,re(a,2),wu):G},z.stubArray=sh,z.stubFalse=ah,z.stubObject=function Gd(){return{}},z.stubString=function jd(){return""},z.stubTrue=function Zd(){return!0},z.multiply=tp,z.nth=function Rf(i,a){return i&&i.length?Gl(i,Pe(a)):G},z.noConflict=function Ld(){return u._===this&&(u._=ce),this},z.noop=ih,z.now=bo,z.pad=function ed(i,a,h){i=pn(i);var I=(a=Pe(a))?Fr(i):0;if(!a||I>=a)return i;var M=(a-I)/2;return _u(Po(M),h)+i+_u(Lo(M),h)},z.padEnd=function nd(i,a,h){i=pn(i);var I=(a=Pe(a))?Fr(i):0;return a&&I<a?i+_u(a-I,h):i},z.padStart=function rd(i,a,h){i=pn(i);var I=(a=Pe(a))?Fr(i):0;return a&&I<a?_u(a-I,h)+i:i},z.parseInt=function id(i,a,h){return h||null==a?a=0:a&&(a=+a),xc(pn(i).replace(Gi,""),a||0)},z.random=function Xg(i,a,h){if(h&&"boolean"!=typeof h&&Jr(i,a,h)&&(a=h=G),h===G&&("boolean"==typeof a?(h=a,a=G):"boolean"==typeof i&&(h=i,i=G)),i===G&&a===G?(i=0,a=1):(i=Ta(i),a===G?(a=i,i=0):a=Ta(a)),i>a){var I=i;i=a,a=I}if(h||i%1||a%1){var M=su();return zr(i+M*(a-i+_("1e-"+((M+"").length-1))),a)}return Va(i,a)},z.reduce=function Fn(i,a,h){var I=xe(i)?Kn:ln,M=arguments.length<3;return I(i,re(a,4),h,M,qs)},z.reduceRight=function al(i,a,h){var I=xe(i)?ze:ln,M=arguments.length<3;return I(i,re(a,4),h,M,bl)},z.repeat=function sd(i,a,h){return a=(h?Jr(i,a,h):a===G)?1:Pe(a),Su(pn(i),a)},z.replace=function ad(){var i=arguments,a=pn(i[0]);return i.length<3?a:a.replace(i[1],i[2])},z.result=function Rg(i,a,h){var I=-1,M=(a=ta(a,i)).length;for(M||(M=1,i=G);++I<M;){var B=null==i?G:i[fs(a[I])];B===G&&(I=M,B=h),i=Sa(B)?B.call(i):B}return i},z.round=ep,z.runInContext=rt,z.sample=function Yf(i){return(xe(i)?gu:Wl)(i)},z.size=function Vf(i){if(null==i)return 0;if(zi(i))return vc(i)?Fr(i):i.length;var a=or(i);return a==Y||a==wt?i.size:yu(i).length},z.snakeCase=od,z.some=function Xf(i,a,h){var I=xe(i)?bn:Uc;return h&&Jr(i,a,h)&&(a=G),I(i,re(a,3))},z.sortedIndex=function n(i,a){return _o(i,a)},z.sortedIndexBy=function r(i,a,h){return Du(i,a,re(h,2))},z.sortedIndexOf=function s(i,a){var h=null==i?0:i.length;if(h){var I=_o(i,a);if(I<h&&zs(i[I],a))return I}return-1},z.sortedLastIndex=function o(i,a){return _o(i,a,!0)},z.sortedLastIndexBy=function l(i,a,h){return Du(i,a,re(h,2),!0)},z.sortedLastIndexOf=function f(i,a){if(null!=i&&i.length){var I=_o(i,a,!0)-1;if(zs(i[I],a))return I}return-1},z.startCase=ld,z.startsWith=function cd(i,a,h){return i=pn(i),h=null==h?0:Ks(Pe(h),0,i.length),a=vi(a),i.slice(h,h+a.length)==a},z.subtract=np,z.sum=function rp(i){return i&&i.length?vn(i,Bi):0},z.sumBy=function ip(i,a){return i&&i.length?vn(i,re(a,2)):0},z.template=function fd(i,a,h){var I=z.templateSettings;h&&Jr(i,a,h)&&(a=G),i=pn(i),a=mc({},a,I,Ql);var K,lt,M=mc({},a.imports,I.imports,Ql),B=Or(M),X=Ga(M,B),Nt=0,Mt=a.interpolate||wi,Lt="__p += '",Wt=Ia((a.escape||wi).source+"|"+Mt.source+"|"+(Mt===Zr?Bs:wi).source+"|"+(a.evaluate||wi).source+"|$","g"),Kt="//# sourceURL="+(It.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ys+"]")+"\n";i.replace(Wt,function(pe,We,He,Ki,mi,qi){return He||(He=Ki),Lt+=i.slice(Nt,qi).replace(bi,No),We&&(K=!0,Lt+="' +\n__e("+We+") +\n'"),mi&&(lt=!0,Lt+="';\n"+mi+";\n__p += '"),He&&(Lt+="' +\n((__t = ("+He+")) == null ? '' : __t) +\n'"),Nt=qi+pe.length,pe}),Lt+="';\n";var de=It.call(a,"variable")&&a.variable;if(de){if(As.test(de))throw new he("Invalid `variable` option passed into `_.template`")}else Lt="with (obj) {\n"+Lt+"\n}\n";Lt=(lt?Lt.replace(Mn,""):Lt).replace(ms,"$1").replace(oa,"$1;"),Lt="function("+(de||"obj")+") {\n"+(de?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(K?", __e = _.escape":"")+(lt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Lt+"return __p\n}";var Ee=Nh(function(){return Xe(B,Kt+"return "+Lt).apply(G,X)});if(Ee.source=Lt,Qf(Ee))throw Ee;return Ee},z.times=function Wd(i,a){if((i=Pe(i))<1||i>fr)return[];var h=nr,I=zr(i,nr);a=re(a),i-=nr;for(var M=va(I,a);++h<i;)a(h);return M},z.toFinite=Ta,z.toInteger=Pe,z.toLength=ph,z.toLower=function hd(i){return pn(i).toLowerCase()},z.toNumber=hs,z.toSafeInteger=function hg(i){return i?Ks(Pe(i),-fr,fr):0===i?i:0},z.toString=pn,z.toUpper=function gd(i){return pn(i).toUpperCase()},z.trim=function dd(i,a,h){if((i=pn(i))&&(h||a===G))return Mi(i);if(!i||!(a=vi(a)))return i;var I=Sn(i),M=Sn(a);return ea(I,to(I,M),eo(I,M)+1).join("")},z.trimEnd=function pd(i,a,h){if((i=pn(i))&&(h||a===G))return i.slice(0,Vr(i)+1);if(!i||!(a=vi(a)))return i;var I=Sn(i);return ea(I,0,eo(I,Sn(a))+1).join("")},z.trimStart=function vd(i,a,h){if((i=pn(i))&&(h||a===G))return i.replace(Gi,"");if(!i||!(a=vi(a)))return i;var I=Sn(i);return ea(I,to(I,Sn(a))).join("")},z.truncate=function md(i,a){var h=30,I="...";if(Vn(a)){var M="separator"in a?a.separator:M;h="length"in a?Pe(a.length):h,I="omission"in a?vi(a.omission):I}var B=(i=pn(i)).length;if(ii(i)){var X=Sn(i);B=X.length}if(h>=B)return i;var K=h-Fr(I);if(K<1)return I;var lt=X?ea(X,0,K).join(""):i.slice(0,K);if(M===G)return lt+I;if(X&&(K+=lt.length-K),Kf(M)){if(i.slice(K).search(M)){var Nt,Mt=lt;for(M.global||(M=Ia(M.source,pn(la.exec(M))+"g")),M.lastIndex=0;Nt=M.exec(Mt);)var Lt=Nt.index;lt=lt.slice(0,Lt===G?K:Lt)}}else if(i.indexOf(vi(M),K)!=K){var Wt=lt.lastIndexOf(M);Wt>-1&&(lt=lt.slice(0,Wt))}return lt+I},z.unescape=function Id(i){return(i=pn(i))&&be.test(i)?i.replace(Ri,ye):i},z.uniqueId=function Yd(i){var a=++Et;return pn(i)+a},z.upperCase=Ad,z.upperFirst=th,z.each=vr,z.eachRight=Nr,z.first=lc,rh(z,function(){var i={};return ls(z,function(a,h){It.call(z.prototype,h)||(i[h]=a)}),i}(),{chain:!1}),z.VERSION="4.17.21",Gt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){z[i].placeholder=z}),Gt(["drop","take"],function(i,a){fe.prototype[i]=function(h){h=h===G?1:ar(Pe(h),0);var I=this.__filtered__&&!a?new fe(this):this.clone();return I.__filtered__?I.__takeCount__=zr(h,I.__takeCount__):I.__views__.push({size:zr(h,nr),type:i+(I.__dir__<0?"Right":"")}),I},fe.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),Gt(["filter","map","takeWhile"],function(i,a){var h=a+1,I=1==h||3==h;fe.prototype[i]=function(M){var B=this.clone();return B.__iteratees__.push({iteratee:re(M,3),type:h}),B.__filtered__=B.__filtered__||I,B}}),Gt(["head","last"],function(i,a){var h="take"+(a?"Right":"");fe.prototype[i]=function(){return this[h](1).value()[0]}}),Gt(["initial","tail"],function(i,a){var h="drop"+(a?"":"Right");fe.prototype[i]=function(){return this.__filtered__?new fe(this):this[h](1)}}),fe.prototype.compact=function(){return this.filter(Bi)},fe.prototype.find=function(i){return this.filter(i).head()},fe.prototype.findLast=function(i){return this.reverse().find(i)},fe.prototype.invokeMap=De(function(i,a){return"function"==typeof i?new fe(this):this.map(function(h){return Ua(h,i,a)})}),fe.prototype.reject=function(i){return this.filter(dc(re(i)))},fe.prototype.slice=function(i,a){i=Pe(i);var h=this;return h.__filtered__&&(i>0||a<0)?new fe(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),a!==G&&(h=(a=Pe(a))<0?h.dropRight(-a):h.take(a-i)),h)},fe.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},fe.prototype.toArray=function(){return this.take(nr)},ls(fe.prototype,function(i,a){var h=/^(?:filter|find|map|reject)|While$/.test(a),I=/^(?:head|last)$/.test(a),M=z[I?"take"+("last"==a?"Right":""):a],B=I||/^find/.test(a);!M||(z.prototype[a]=function(){var X=this.__wrapped__,K=I?[1]:arguments,lt=X instanceof fe,Nt=K[0],Mt=lt||xe(X),Lt=function(We){var He=M.apply(z,ne([We],K));return I&&Wt?He[0]:He};Mt&&h&&"function"==typeof Nt&&1!=Nt.length&&(lt=Mt=!1);var Wt=this.__chain__,Kt=!!this.__actions__.length,de=B&&!Wt,Ee=lt&&!Kt;if(!B&&Mt){X=Ee?X:new fe(this);var pe=i.apply(X,K);return pe.__actions__.push({func:Fe,args:[Lt],thisArg:G}),new ai(pe,Wt)}return de&&Ee?i.apply(this,K):(pe=this.thru(Lt),de?I?pe.value()[0]:pe.value():pe)})}),Gt(["pop","push","shift","sort","splice","unshift"],function(i){var a=F[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",I=/^(?:pop|shift)$/.test(i);z.prototype[i]=function(){var M=arguments;if(I&&!this.__chain__){var B=this.value();return a.apply(xe(B)?B:[],M)}return this[h](function(X){return a.apply(xe(X)?X:[],M)})}}),ls(fe.prototype,function(i,a){var h=z[a];if(h){var I=h.name+"";It.call(ya,I)||(ya[I]=[]),ya[I].push({name:a,func:h})}}),ya[Wu(G,2).name]=[{name:"wrapper",func:G}],fe.prototype.clone=function ko(){var i=new fe(this.__wrapped__);return i.__actions__=Hr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Hr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Hr(this.__views__),i},fe.prototype.reverse=function Eo(){if(this.__filtered__){var i=new fe(this);i.__dir__=-1,i.__filtered__=!0}else(i=this.clone()).__dir__*=-1;return i},fe.prototype.value=function pl(){var i=this.__wrapped__.value(),a=this.__dir__,h=xe(i),I=a<0,M=h?i.length:0,B=function Ku(i,a,h){for(var I=-1,M=h.length;++I<M;){var B=h[I],X=B.size;switch(B.type){case"drop":i+=X;break;case"dropRight":a-=X;break;case"take":a=zr(a,i+X);break;case"takeRight":i=ar(i,a-X)}}return{start:i,end:a}}(0,M,this.__views__),X=B.start,K=B.end,lt=K-X,Nt=I?K:X-1,Mt=this.__iteratees__,Lt=Mt.length,Wt=0,Kt=zr(lt,this.__takeCount__);if(!h||!I&&M==lt&&Kt==lt)return Ul(i,this.__actions__);var de=[];t:for(;lt--&&Wt<Kt;){for(var Ee=-1,pe=i[Nt+=a];++Ee<Lt;){var We=Mt[Ee],Ki=We.type,mi=(0,We.iteratee)(pe);if(2==Ki)pe=mi;else if(!mi){if(1==Ki)continue t;break t}}de[Wt++]=pe}return de},z.prototype.at=Ze,z.prototype.chain=function cn(){return zt(this)},z.prototype.commit=function $t(){return new ai(this.value(),this.__chain__)},z.prototype.next=function ge(){this.__values__===G&&(this.__values__=dh(this.value()));var i=this.__index__>=this.__values__.length;return{done:i,value:i?G:this.__values__[this.__index__++]}},z.prototype.plant=function se(i){for(var a,h=this;h instanceof wa;){var I=ac(h);I.__index__=0,I.__values__=G,a?M.__wrapped__=I:a=I;var M=I;h=h.__wrapped__}return M.__wrapped__=i,a},z.prototype.reverse=function Le(){var i=this.__wrapped__;if(i instanceof fe){var a=i;return this.__actions__.length&&(a=new fe(this)),(a=a.reverse()).__actions__.push({func:Fe,args:[t],thisArg:G}),new ai(a,this.__chain__)}return this.thru(t)},z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=function nn(){return Ul(this.__wrapped__,this.__actions__)},z.prototype.first=z.prototype.head,Aa&&(z.prototype[Aa]=function ie(){return this}),z}();u._=di,(mr=function(){return di}.call(Br,Vt,Br,Qr))!==G&&(Qr.exports=mr)}.call(this)},610:function(Qr){Qr.exports=function(){var Vt="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},mr=Array.prototype,G=Object.prototype,Ir=typeof Symbol<"u"?Symbol.prototype:null,ue=mr.push,Tt=mr.slice,Je=G.toString,Ii=G.hasOwnProperty,Ar=typeof ArrayBuffer<"u",qe=typeof DataView<"u",Sr=Array.isArray,xn=Object.keys,Xn=Object.create,Tr=Ar&&ArrayBuffer.isView,Kr=isNaN,we=isFinite,Xt=!{toString:null}.propertyIsEnumerable("toString"),_n=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],me=Math.pow(2,53)-1;function _e(x,k){return k=null==k?x.length-1:+k,function(){for(var _=Math.max(arguments.length-k,0),J=Array(_),ct=0;ct<_;ct++)J[ct]=arguments[ct+k];switch(k){case 0:return x.call(this,J);case 1:return x.call(this,arguments[0],J);case 2:return x.call(this,arguments[0],arguments[1],J)}var q=Array(k+1);for(ct=0;ct<k;ct++)q[ct]=arguments[ct];return q[k]=J,x.apply(this,q)}}function An(x){var k=typeof x;return"function"===k||"object"===k&&!!x}function fn(x){return void 0===x}function qr(x){return!0===x||!1===x||"[object Boolean]"===Je.call(x)}function C(x){var k="[object "+x+"]";return function(_){return Je.call(_)===k}}var Dr=C("String"),er=C("Number"),Cr=C("Date"),gs=C("RegExp"),cr=C("Error"),Nn=C("Symbol"),$r=C("ArrayBuffer"),kn=C("Function");"object"!=typeof Int8Array&&"function"!=typeof(Vt.document&&Vt.document.childNodes)&&(kn=function(x){return"function"==typeof x||!1});var rn=kn,fr=C("Object"),ds=qe&&fr(new DataView(new ArrayBuffer(8))),ui=typeof Map<"u"&&fr(new Map),nr=C("DataView"),Hn=ds?function(x){return null!=x&&rn(x.getInt8)&&$r(x.buffer)}:nr,ae=Sr||C("Array");function En(x,k){return null!=x&&Ii.call(x,k)}var rr=C("Arguments");!function(){rr(arguments)||(rr=function(x){return En(x,"callee")})}();var Rr=rr;function ps(x){return er(x)&&Kr(x)}function Gr(x){return function(){return x}}function zn(x){return function(k){var _=x(k);return"number"==typeof _&&_>=0&&_<=me}}function Lr(x){return function(k){return k?.[x]}}var ti=Lr("byteLength"),ts=zn(ti),vs=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Y=Ar?function(x){return Tr?Tr(x)&&!Hn(x):ts(x)&&vs.test(Je.call(x))}:Gr(!1),Re=Lr("length");function N(x,k){k=function(u){for(var c={},d=u.length,v=0;v<d;++v)c[u[v]]=!0;return{contains:function(b){return!0===c[b]},push:function(b){return c[b]=!0,u.push(b)}}}(k);var _=_n.length,J=x.constructor,ct=rn(J)&&J.prototype||G,q="constructor";for(En(x,q)&&!k.contains(q)&&k.push(q);_--;)(q=_n[_])in x&&x[q]!==ct[q]&&!k.contains(q)&&k.push(q)}function T(x){if(!An(x))return[];if(xn)return xn(x);var k=[];for(var _ in x)En(x,_)&&k.push(_);return Xt&&N(x,k),k}function O(x,k){var _=T(k),J=_.length;if(null==x)return!J;for(var ct=Object(x),q=0;q<J;q++){var u=_[q];if(k[u]!==ct[u]||!(u in ct))return!1}return!0}function Q(x){return x instanceof Q?x:this instanceof Q?void(this._wrapped=x):new Q(x)}function yt(x){return new Uint8Array(x.buffer||x,x.byteOffset||0,ti(x))}Q.VERSION="1.13.4",Q.prototype.valueOf=Q.prototype.toJSON=Q.prototype.value=function(){return this._wrapped},Q.prototype.toString=function(){return String(this._wrapped)};var wt="[object DataView]";function Yt(x,k,_,J){if(x===k)return 0!==x||1/x==1/k;if(null==x||null==k)return!1;if(x!=x)return k!=k;var ct=typeof x;return("function"===ct||"object"===ct||"object"==typeof k)&&function q(u,c,d,v){u instanceof Q&&(u=u._wrapped),c instanceof Q&&(c=c._wrapped);var b=Je.call(u);if(b!==Je.call(c))return!1;if(ds&&"[object Object]"==b&&Hn(u)){if(!Hn(c))return!1;b=wt}switch(b){case"[object RegExp]":case"[object String]":return""+u==""+c;case"[object Number]":return+u!=+u?+c!=+c:0==+u?1/+u==1/c:+u==+c;case"[object Date]":case"[object Boolean]":return+u==+c;case"[object Symbol]":return Ir.valueOf.call(u)===Ir.valueOf.call(c);case"[object ArrayBuffer]":case wt:return q(yt(u),yt(c),d,v)}var w="[object Array]"===b;if(!w&&Y(u)){if(ti(u)!==ti(c))return!1;if(u.buffer===c.buffer&&u.byteOffset===c.byteOffset)return!0;w=!0}if(!w){if("object"!=typeof u||"object"!=typeof c)return!1;var D=u.constructor,U=c.constructor;if(D!==U&&!(rn(D)&&D instanceof D&&rn(U)&&U instanceof U)&&"constructor"in u&&"constructor"in c)return!1}v=v||[];for(var W=(d=d||[]).length;W--;)if(d[W]===u)return v[W]===c;if(d.push(u),v.push(c),w){if((W=u.length)!==c.length)return!1;for(;W--;)if(!Yt(u[W],c[W],d,v))return!1}else{var it,gt=T(u);if(W=gt.length,T(c).length!==W)return!1;for(;W--;)if(!En(c,it=gt[W])||!Yt(u[it],c[it],d,v))return!1}return d.pop(),v.pop(),!0}(x,k,_,J)}function Ht(x){if(!An(x))return[];var k=[];for(var _ in x)k.push(_);return Xt&&N(x,k),k}function Qe(x){var k=Re(x);return function(_){if(null==_)return!1;var J=Ht(_);if(Re(J))return!1;for(var ct=0;ct<k;ct++)if(!rn(_[x[ct]]))return!1;return x!==ei||!rn(_[Ge])}}var Ge="forEach",Te=["clear","delete"],Cn=["get","has","set"],Jn=Te.concat(Ge,Cn),ei=Te.concat(Cn),gn=["add"].concat(Te,Ge,"has"),Pt=ui?Qe(Jn):C("Map"),On=ui?Qe(ei):C("WeakMap"),Pr=ui?Qe(gn):C("Set"),Ai=C("WeakSet");function kr(x){for(var k=T(x),_=k.length,J=Array(_),ct=0;ct<_;ct++)J[ct]=x[k[ct]];return J}function Ie(x){for(var k={},_=T(x),J=0,ct=_.length;J<ct;J++)k[x[_[J]]]=_[J];return k}function Mn(x){var k=[];for(var _ in x)rn(x[_])&&k.push(_);return k.sort()}function ms(x,k){return function(_){var J=arguments.length;if(k&&(_=Object(_)),J<2||null==_)return _;for(var ct=1;ct<J;ct++)for(var q=arguments[ct],u=x(q),c=u.length,d=0;d<c;d++){var v=u[d];k&&void 0!==_[v]||(_[v]=q[v])}return _}}var oa=ms(Ht),Ri=ms(T),es=ms(Ht,!0);function be(x){if(!An(x))return{};if(Xn)return Xn(x);var k=function(){};k.prototype=x;var _=new k;return k.prototype=null,_}function jr(x){return ae(x)?x:[x]}function Ut(x){return Q.toPath(x)}function Er(x,k){for(var _=k.length,J=0;J<_;J++){if(null==x)return;x=x[k[J]]}return _?x:void 0}function Zr(x,k,_){var J=Er(x,Ut(k));return fn(J)?_:J}function yn(x){return x}function ns(x){return x=Ri({},x),function(k){return O(k,x)}}function ir(x){return x=Ut(x),function(k){return Er(k,x)}}function Ci(x,k,_){if(void 0===k)return x;switch(_??3){case 1:return function(J){return x.call(k,J)};case 3:return function(J,ct,q){return x.call(k,J,ct,q)};case 4:return function(J,ct,q,u){return x.call(k,J,ct,q,u)}}return function(){return x.apply(k,arguments)}}function li(x,k,_){return null==x?yn:rn(x)?Ci(x,k,_):An(x)&&!ae(x)?ns(x):ir(x)}function Gi(x,k){return li(x,k,1/0)}function Bn(x,k,_){return Q.iteratee!==Gi?Q.iteratee(x,k):li(x,k,_)}function Is(){}function ua(x,k){return null==k&&(k=x,x=0),x+Math.floor(Math.random()*(k-x+1))}Q.toPath=jr,Q.iteratee=Gi;var ni=Date.now||function(){return(new Date).getTime()};function Qn(x){var k=function(q){return x[q]},_="(?:"+T(x).join("|")+")",J=RegExp(_),ct=RegExp(_,"g");return function(q){return J.test(q=null==q?"":""+q)?q.replace(ct,k):q}}var As={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ri=Qn(As),Bs=Qn(Ie(As)),la=Q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},yi=/(.)^/,ca={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Rs=/\\|'|\r|\n|\u2028|\u2029/g;function Cs(x){return"\\"+ca[x]}var Gs=/^\s*(\w|\$)+\s*$/,La=0;function wi(x,k,_,J,ct){if(!(J instanceof k))return x.apply(_,ct);var q=be(x.prototype),u=x.apply(q,ct);return An(u)?u:q}var bi=_e(function(x,k){var _=bi.placeholder,J=function(){for(var ct=0,q=k.length,u=Array(q),c=0;c<q;c++)u[c]=k[c]===_?arguments[ct++]:k[c];for(;ct<arguments.length;)u.push(arguments[ct++]);return wi(x,J,this,this,u)};return J});bi.placeholder=Q;var ci=_e(function(x,k,_){if(!rn(x))throw new TypeError("Bind must be called on a function");var J=_e(function(ct){return wi(x,J,k,this,_.concat(ct))});return J}),hr=zn(Re);function fi(x,k,_,J){if(J=J||[],k||0===k){if(k<=0)return J.concat(x)}else k=1/0;for(var ct=J.length,q=0,u=Re(x);q<u;q++){var c=x[q];if(hr(c)&&(ae(c)||Rr(c)))if(k>1)fi(c,k-1,_,J),ct=J.length;else for(var d=0,v=c.length;d<v;)J[ct++]=c[d++];else _||(J[ct++]=c)}return J}var fa=_e(function(x,k){var _=(k=fi(k,!1,!1)).length;if(_<1)throw new Error("bindAll must be passed function names");for(;_--;){var J=k[_];x[J]=ci(x[J],x)}return x}),rs=_e(function(x,k,_){return setTimeout(function(){return x.apply(null,_)},k)}),js=bi(rs,Q,1);function Zn(x){return function(){return!x.apply(this,arguments)}}function hi(x,k){var _;return function(){return--x>0&&(_=k.apply(this,arguments)),x<=1&&(k=null),_}}var ji=bi(hi,2);function ha(x,k,_){k=Bn(k,_);for(var J,ct=T(x),q=0,u=ct.length;q<u;q++)if(k(x[J=ct[q]],J,x))return J}function ga(x){return function(k,_,J){_=Bn(_,J);for(var ct=Re(k),q=x>0?0:ct-1;q>=0&&q<ct;q+=x)if(_(k[q],q,k))return q;return-1}}var Zi=ga(1),ys=ga(-1);function Wi(x,k,_,J){for(var ct=(_=Bn(_,J,1))(k),q=0,u=Re(x);q<u;){var c=Math.floor((q+u)/2);_(x[c])<ct?q=c+1:u=c}return q}function xi(x,k,_){return function(J,ct,q){var u=0,c=Re(J);if("number"==typeof q)x>0?u=q>=0?q:Math.max(q+c,u):c=q>=0?Math.min(q+1,c):q+c+1;else if(_&&q&&c)return J[q=_(J,ct)]===ct?q:-1;if(ct!=ct)return(q=k(Tt.call(J,u,c),ps))>=0?q+u:-1;for(q=x>0?u:c-1;q>=0&&q<c;q+=x)if(J[q]===ct)return q;return-1}}var Zs=xi(1,Zi,Wi),Pa=xi(-1,ys);function Rn(x,k,_){var J=(hr(x)?Zi:ha)(x,k,_);if(void 0!==J&&-1!==J)return x[J]}function Wn(x,k,_){var J,ct;if(k=Ci(k,_),hr(x))for(J=0,ct=x.length;J<ct;J++)k(x[J],J,x);else{var q=T(x);for(J=0,ct=q.length;J<ct;J++)k(x[q[J]],q[J],x)}return x}function Wr(x,k,_){k=Bn(k,_);for(var J=!hr(x)&&T(x),ct=(J||x).length,q=Array(ct),u=0;u<ct;u++){var c=J?J[u]:u;q[u]=k(x[c],c,x)}return q}function ka(x){var k=function(_,J,ct,q){var u=!hr(_)&&T(_),c=(u||_).length,d=x>0?0:c-1;for(q||(ct=_[u?u[d]:d],d+=x);d>=0&&d<c;d+=x){var v=u?u[d]:d;ct=J(ct,_[v],v,_)}return ct};return function(_,J,ct,q){var u=arguments.length>=3;return k(_,Ci(J,q,4),ct,u)}}var pt=ka(1),un=ka(-1);function oe(x,k,_){var J=[];return k=Bn(k,_),Wn(x,function(ct,q,u){k(ct,q,u)&&J.push(ct)}),J}function Ne(x,k,_){k=Bn(k,_);for(var J=!hr(x)&&T(x),ct=(J||x).length,q=0;q<ct;q++){var u=J?J[q]:q;if(!k(x[u],u,x))return!1}return!0}function sr(x,k,_){k=Bn(k,_);for(var J=!hr(x)&&T(x),ct=(J||x).length,q=0;q<ct;q++){var u=J?J[q]:q;if(k(x[u],u,x))return!0}return!1}function wn(x,k,_,J){return hr(x)||(x=kr(x)),("number"!=typeof _||J)&&(_=0),Zs(x,k,_)>=0}var _i=_e(function(x,k,_){var J,ct;return rn(k)?ct=k:(k=Ut(k),J=k.slice(0,-1),k=k[k.length-1]),Wr(x,function(q){var u=ct;if(!u){if(J&&J.length&&(q=Er(q,J)),null==q)return;u=q[k]}return null==u?u:u.apply(q,_)})});function _r(x,k){return Wr(x,ir(k))}function Yi(x,k,_){var J,ct,q=-1/0,u=-1/0;if(null==k||"number"==typeof k&&"object"!=typeof x[0]&&null!=x)for(var c=0,d=(x=hr(x)?x:kr(x)).length;c<d;c++)null!=(J=x[c])&&J>q&&(q=J);else k=Bn(k,_),Wn(x,function(v,b,w){((ct=k(v,b,w))>u||ct===-1/0&&q===-1/0)&&(q=v,u=ct)});return q}var Ui=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ws(x){return x?ae(x)?Tt.call(x):Dr(x)?x.match(Ui):hr(x)?Wr(x,yn):kr(x):[]}function is(x,k,_){if(null==k||_)return hr(x)||(x=kr(x)),x[ua(x.length-1)];var J=Ws(x),ct=Re(J);k=Math.max(Math.min(k,ct),0);for(var q=ct-1,u=0;u<k;u++){var c=ua(u,q),d=J[u];J[u]=J[c],J[c]=d}return J.slice(0,k)}function ss(x,k){return function(_,J,ct){var q=k?[[],[]]:{};return J=Bn(J,ct),Wn(_,function(u,c){var d=J(u,c,_);x(q,u,d)}),q}}var Ea=ss(function(x,k,_){En(x,_)?x[_].push(k):x[_]=[k]}),da=ss(function(x,k,_){x[_]=k}),ws=ss(function(x,k,_){En(x,_)?x[_]++:x[_]=1}),Ka=ss(function(x,k,_){x[_?0:1].push(k)},!0);function sn(x,k,_){return k in _}var _s=_e(function(x,k){var _={},J=k[0];if(null==x)return _;rn(J)?(k.length>1&&(J=Ci(J,k[1])),k=Ht(x)):(J=sn,k=fi(k,!1,!1),x=Object(x));for(var ct=0,q=k.length;ct<q;ct++){var u=k[ct],c=x[u];J(c,u,x)&&(_[u]=c)}return _}),pa=_e(function(x,k){var _,J=k[0];return rn(J)?(J=Zn(J),k.length>1&&(_=k[1])):(k=Wr(fi(k,!1,!1),String),J=function(ct,q){return!wn(k,q)}),_s(x,J,_)});function qa(x,k,_){return Tt.call(x,0,Math.max(0,x.length-(null==k||_?1:k)))}function Yn(x,k,_){return null==x||x.length<1?null==k||_?void 0:[]:null==k||_?x[0]:qa(x,x.length-k)}function Fi(x,k,_){return Tt.call(x,null==k||_?1:k)}var bs=_e(function(x,k){return k=fi(k,!0,!0),oe(x,function(_){return!wn(k,_)})}),za=_e(function(x,k){return bs(x,k)});function xs(x,k,_,J){qr(k)||(J=_,_=k,k=!1),null!=_&&(_=Bn(_,J));for(var ct=[],q=[],u=0,c=Re(x);u<c;u++){var d=x[u],v=_?_(d,u,x):d;k&&!_?(u&&q===v||ct.push(d),q=v):_?wn(q,v)||(q.push(v),ct.push(d)):wn(ct,d)||ct.push(d)}return ct}var $a=_e(function(x){return xs(fi(x,!0,!0))});function Ys(x){for(var k=x&&Yi(x,Re).length||0,_=Array(k),J=0;J<k;J++)_[J]=_r(x,J);return _}var an=_e(Ys);function $e(x,k){return x._chain?Q(k).chain():k}function Oa(x){return Wn(Mn(x),function(k){var _=Q[k]=x[k];Q.prototype[k]=function(){var J=[this._wrapped];return ue.apply(J,arguments),$e(this,_.apply(Q,J))}}),Q}Wn(["pop","push","reverse","shift","sort","splice","unshift"],function(x){var k=mr[x];Q.prototype[x]=function(){var _=this._wrapped;return null!=_&&(k.apply(_,arguments),"shift"!==x&&"splice"!==x||0!==_.length||delete _[0]),$e(this,_)}}),Wn(["concat","join","slice"],function(x){var k=mr[x];Q.prototype[x]=function(){var _=this._wrapped;return null!=_&&(_=k.apply(_,arguments)),$e(this,_)}});var Ba=Oa({__proto__:null,VERSION:"1.13.4",restArguments:_e,isObject:An,isNull:function(x){return null===x},isUndefined:fn,isBoolean:qr,isElement:function(x){return!(!x||1!==x.nodeType)},isString:Dr,isNumber:er,isDate:Cr,isRegExp:gs,isError:cr,isSymbol:Nn,isArrayBuffer:$r,isDataView:Hn,isArray:ae,isFunction:rn,isArguments:Rr,isFinite:function(x){return!Nn(x)&&we(x)&&!isNaN(parseFloat(x))},isNaN:ps,isTypedArray:Y,isEmpty:function(x){if(null==x)return!0;var k=Re(x);return"number"==typeof k&&(ae(x)||Dr(x)||Rr(x))?0===k:0===Re(T(x))},isMatch:O,isEqual:function(x,k){return Yt(x,k)},isMap:Pt,isWeakMap:On,isSet:Pr,isWeakSet:Ai,keys:T,allKeys:Ht,values:kr,pairs:function(x){for(var k=T(x),_=k.length,J=Array(_),ct=0;ct<_;ct++)J[ct]=[k[ct],x[k[ct]]];return J},invert:Ie,functions:Mn,methods:Mn,extend:oa,extendOwn:Ri,assign:Ri,defaults:es,create:function(x,k){var _=be(x);return k&&Ri(_,k),_},clone:function(x){return An(x)?ae(x)?x.slice():oa({},x):x},tap:function(x,k){return k(x),x},get:Zr,has:function(x,k){for(var _=(k=Ut(k)).length,J=0;J<_;J++){var ct=k[J];if(!En(x,ct))return!1;x=x[ct]}return!!_},mapObject:function(x,k,_){k=Bn(k,_);for(var J=T(x),ct=J.length,q={},u=0;u<ct;u++){var c=J[u];q[c]=k(x[c],c,x)}return q},identity:yn,constant:Gr,noop:Is,toPath:jr,property:ir,propertyOf:function(x){return null==x?Is:function(k){return Zr(x,k)}},matcher:ns,matches:ns,times:function(x,k,_){var J=Array(Math.max(0,x));k=Ci(k,_,1);for(var ct=0;ct<x;ct++)J[ct]=k(ct);return J},random:ua,now:ni,escape:ri,unescape:Bs,templateSettings:la,template:function(x,k,_){!k&&_&&(k=_),k=es({},k,Q.templateSettings);var J=RegExp([(k.escape||yi).source,(k.interpolate||yi).source,(k.evaluate||yi).source].join("|")+"|$","g"),ct=0,q="__p+='";x.replace(J,function(v,b,w,D,U){return q+=x.slice(ct,U).replace(Rs,Cs),ct=U+v.length,b?q+="'+\n((__t=("+b+"))==null?'':_.escape(__t))+\n'":w?q+="'+\n((__t=("+w+"))==null?'':__t)+\n'":D&&(q+="';\n"+D+"\n__p+='"),v}),q+="';\n";var u,c=k.variable;if(c){if(!Gs.test(c))throw new Error("variable is not a bare identifier: "+c)}else q="with(obj||{}){\n"+q+"}\n",c="obj";q="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+q+"return __p;\n";try{u=new Function(c,"_",q)}catch(v){throw v.source=q,v}var d=function(v){return u.call(this,v,Q)};return d.source="function("+c+"){\n"+q+"}",d},result:function(x,k,_){var J=(k=Ut(k)).length;if(!J)return rn(_)?_.call(x):_;for(var ct=0;ct<J;ct++){var q=x?.[k[ct]];void 0===q&&(q=_,ct=J),x=rn(q)?q.call(x):q}return x},uniqueId:function(x){var k=++La+"";return x?x+k:k},chain:function(x){var k=Q(x);return k._chain=!0,k},iteratee:Gi,partial:bi,bind:ci,bindAll:fa,memoize:function(x,k){var _=function(J){var ct=_.cache,q=""+(k?k.apply(this,arguments):J);return En(ct,q)||(ct[q]=x.apply(this,arguments)),ct[q]};return _.cache={},_},delay:rs,defer:js,throttle:function(x,k,_){var J,ct,q,u,c=0;_||(_={});var d=function(){c=!1===_.leading?0:ni(),J=null,u=x.apply(ct,q),J||(ct=q=null)},v=function(){var b=ni();c||!1!==_.leading||(c=b);var w=k-(b-c);return ct=this,q=arguments,w<=0||w>k?(J&&(clearTimeout(J),J=null),c=b,u=x.apply(ct,q),J||(ct=q=null)):J||!1===_.trailing||(J=setTimeout(d,w)),u};return v.cancel=function(){clearTimeout(J),c=0,J=ct=q=null},v},debounce:function(x,k,_){var J,ct,q,u,c,d=function(){var b=ni()-ct;k>b?J=setTimeout(d,k-b):(J=null,_||(u=x.apply(c,q)),J||(q=c=null))},v=_e(function(b){return c=this,q=b,ct=ni(),J||(J=setTimeout(d,k),_&&(u=x.apply(c,q))),u});return v.cancel=function(){clearTimeout(J),J=q=c=null},v},wrap:function(x,k){return bi(k,x)},negate:Zn,compose:function(){var x=arguments,k=x.length-1;return function(){for(var _=k,J=x[k].apply(this,arguments);_--;)J=x[_].call(this,J);return J}},after:function(x,k){return function(){if(--x<1)return k.apply(this,arguments)}},before:hi,once:ji,findKey:ha,findIndex:Zi,findLastIndex:ys,sortedIndex:Wi,indexOf:Zs,lastIndexOf:Pa,find:Rn,detect:Rn,findWhere:function(x,k){return Rn(x,ns(k))},each:Wn,forEach:Wn,map:Wr,collect:Wr,reduce:pt,foldl:pt,inject:pt,reduceRight:un,foldr:un,filter:oe,select:oe,reject:function(x,k,_){return oe(x,Zn(Bn(k)),_)},every:Ne,all:Ne,some:sr,any:sr,contains:wn,includes:wn,include:wn,invoke:_i,pluck:_r,where:function(x,k){return oe(x,ns(k))},max:Yi,min:function(x,k,_){var J,ct,q=1/0,u=1/0;if(null==k||"number"==typeof k&&"object"!=typeof x[0]&&null!=x)for(var c=0,d=(x=hr(x)?x:kr(x)).length;c<d;c++)null!=(J=x[c])&&J<q&&(q=J);else k=Bn(k,_),Wn(x,function(v,b,w){((ct=k(v,b,w))<u||ct===1/0&&q===1/0)&&(q=v,u=ct)});return q},shuffle:function(x){return is(x,1/0)},sample:is,sortBy:function(x,k,_){var J=0;return k=Bn(k,_),_r(Wr(x,function(ct,q,u){return{value:ct,index:J++,criteria:k(ct,q,u)}}).sort(function(ct,q){var u=ct.criteria,c=q.criteria;if(u!==c){if(u>c||void 0===u)return 1;if(u<c||void 0===c)return-1}return ct.index-q.index}),"value")},groupBy:Ea,indexBy:da,countBy:ws,partition:Ka,toArray:Ws,size:function(x){return null==x?0:hr(x)?x.length:T(x).length},pick:_s,omit:pa,first:Yn,head:Yn,take:Yn,initial:qa,last:function(x,k,_){return null==x||x.length<1?null==k||_?void 0:[]:null==k||_?x[x.length-1]:Fi(x,Math.max(0,x.length-k))},rest:Fi,tail:Fi,drop:Fi,compact:function(x){return oe(x,Boolean)},flatten:function(x,k){return fi(x,k,!1)},without:za,uniq:xs,unique:xs,union:$a,intersection:function(x){for(var k=[],_=arguments.length,J=0,ct=Re(x);J<ct;J++){var q=x[J];if(!wn(k,q)){var u;for(u=1;u<_&&wn(arguments[u],q);u++);u===_&&k.push(q)}}return k},difference:bs,unzip:Ys,transpose:Ys,zip:an,object:function(x,k){for(var _={},J=0,ct=Re(x);J<ct;J++)k?_[x[J]]=k[J]:_[x[J][0]]=x[J][1];return _},range:function(x,k,_){null==k&&(k=x||0,x=0),_||(_=k<x?-1:1);for(var J=Math.max(Math.ceil((k-x)/_),0),ct=Array(J),q=0;q<J;q++,x+=_)ct[q]=x;return ct},chunk:function(x,k){if(null==k||k<1)return[];for(var _=[],J=0,ct=x.length;J<ct;)_.push(Tt.call(x,J,J+=k));return _},mixin:Oa,default:Q});return Ba._=Ba,Ba}()}}]);